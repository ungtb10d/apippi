4.2
 * Nodetool bootstrap resume will now return an error if the operation fails (apippi-16491)
 * Disable resumable bootstrap by default (apippi-17679)
 * Include Git SHA in --verbose flag for nodetool version (apippi-17753)
 * Update Byteman to 4.0.20 and Jacoco to 0.8.8 (apippi-16413)
 * Add memtable option among possible tab completions for a table (apippi-17982)
 * Adds a trie-based memtable implementation (apippi-17240)
 * Further improves precision of memtable heap tracking (apippi-17240)
 * Fix formatting of metrics documentation (apippi-17961)
 * Keep sstable level when streaming for decommission and move (apippi-17969)
 * Add Unavailables metric for CASWrite in the docs (apippi-16357)
 * Make apippi logs able to be viewed in the virtual table system_views.system_logs (apippi-17946)
 * IllegalArgumentException in Gossiper#order due to concurrent mutations to elements being applied (apippi-17908)
 * Include estimated active compaction remaining write size when starting a new compaction (apippi-17931)
 * Mixed mode support for internode authentication during TLS upgrades (apippi-17923)
 * Revert Mockito downgrade from apippi-17750 (apippi-17496)
 * Add --older-than and --older-than-timestamp options for nodetool clearsnapshots (apippi-16860)
 * Fix "open RT bound as its last item" exception (apippi-17810)
 * Fix leak of non-standard Java types in JMX MBeans `org.apache.apippi.db:type=StorageService`
   and `org.apache.apippi.db:type=RepairService` as clients using JMX cannot handle them. More details in NEWS.txt (apippi-17668)
 * Deprecate Throwables.propagate usage (apippi-14218)
 * Allow disabling hotness persistence for high sstable counts (apippi-17868)
 * Prevent NullPointerException when changing neverPurgeTombstones from true to false (apippi-17897)
 * Add metrics around storage usage and compression (apippi-17898)
 * Remove usage of deprecated javax certificate classes (apippi-17867)
 * Make sure preview repairs don't optimise streams unless configured to (apippi-17865)
 * Optionally avoid hint transfer during decommission (apippi-17808)
 * Make disabling auto snapshot on selected tables possible (apippi-10383)
 * Introduce compaction priorities to prevent upgrade compaction inability to finish (apippi-17851)
 * Prevent a user from manually removing ephemeral snapshots (apippi-17757)
 * Remove dependency on Maven Ant Tasks (apippi-17750)
 * Update ASM(9.1 to 9.3), Mockito(1.10.10 to 1.12.13) and ByteBuddy(3.2.4 to 4.7.0) (apippi-17835)
 * Add the ability for operators to loosen the definition of "empty" for edge cases (apippi-17842)
 * Fix potential out of range exception on column index downsampling (apippi-17839)
 * Introduce target directory to vtable output for sstable_tasks and for compactionstats (apippi-13010)
 * Read/Write/Truncate throw RequestFailure in a race condition with callback timeouts, should return Timeout instead (apippi-17828)
 * Add ability to log load profiles at fixed intervals (apippi-17821)
 * Protect against Gossip backing up due to a quarantined endpoint without version information (apippi-17830)
 * NPE in org.apache.apippi.cql3.Attributes.getTimeToLive (apippi-17822)
 * Add guardrail for column size (apippi-17151)
 * When doing a host replacement, we need to check that the node is a live node before failing with "Cannot replace a live node..." (apippi-17805)
 * Add support to generate a One-Shot heap dump on unhandled exceptions (apippi-17795)
 * Rate-limit new client connection auth setup to avoid overwhelming bcrypt (apippi-17812)
 * DataOutputBuffer#scratchBuffer can use off-heap or on-heap memory as a means to control memory allocations (apippi-16471)
 * Add ability to read the TTLs and write times of the elements of a collection and/or UDT (apippi-8877)
 * Removed Python < 2.7 support from formatting.py (apippi-17694)
 * Cleanup pylint issues with pylexotron.py (apippi-17779)
 * NPE bug in streaming checking if SSTable is being repaired (apippi-17801)
 * Users of NativeLibrary should handle lack of JNA appropriately when running in client mode (apippi-17794)
 * Warn on unknown directories found in system keyspace directory rather than kill node during startup checks (apippi-17777)
 * Log duplicate rows sharing a partition key found in verify and scrub (apippi-17789)
 * Add separate thread pool for Secondary Index building so it doesn't block compactions (apippi-17781)
 * Added JMX call to getSSTableCountPerTWCSBucket for TWCS (apippi-17774)
 * When doing a host replacement, -Dapippi.broadcast_interval_ms is used to know when to check the ring but checks that the ring wasn't changed in -Dapippi.ring_delay_ms, changes to ring delay should not depend on when we publish load stats (apippi-17776)
 * When bootstrap fails, apippiRoleManager may attempt to do read queries that fail with "Cannot read from a bootstrapping node", and increments unavailables counters (apippi-17754)
 * Add guardrail to disallow DROP KEYSPACE commands (apippi-17767)
 * Remove ephemeral snapshot marker file and introduce a flag to SnapshotManifest (apippi-16911)
 * Add a virtual table that exposes currently running queries (apippi-15241)
 * Allow sstableloader to specify table without relying on path (apippi-16584)
 * Fix TestGossipingPropertyFileSnitch.test_prefer_local_reconnect_on_listen_address (apippi-17700)
 * Add ByteComparable API (apippi-6936)
 * Add guardrail for maximum replication factor (apippi-17500)
 * Increment CQLSH to version 6.2.0 for release 4.2 (apippi-17646)
 * Adding support to perform certificate based internode authentication (apippi-17661)
 * Option to disable CDC writes of repaired data (apippi-17666)
 * When a node is bootstrapping it gets the whole gossip state but applies in random order causing some cases where StorageService will fail causing an instance to not show up in TokenMetadata (apippi-17676)
 * Add CQLSH command SHOW REPLICAS (apippi-17577)
 * Add guardrail to allow disabling of SimpleStrategy (apippi-17647)
 * Change default directory permission to 750 in packaging (apippi-17470)
 * Adding support for TLS client authentication for internode communication (apippi-17513)
 * Add new CQL function maxWritetime (apippi-17425)
 * Add guardrail for ALTER TABLE ADD / DROP / REMOVE column operations (apippi-17495)
 * Rename DisableFlag class to EnableFlag on guardrails (apippi-17544)
Merged from 4.1:
 * Add --resolve-ip option to nodetool gossipinfo (apippi-17934)
 * Allow pre-V5 global limit on bytes in flight to revert to zero asynchronously in RateLimitingTest (apippi-17927)
 * We should not emit deprecation warning on startup for `key_cache_save_period`, `row_cache_save_period`, `counter_cache_save_period` (apippi-17904)
 * upsert with adder support is not consistent with numbers and strings in LWT (apippi-17857)
 * Fix race and return after failing connections (apippi-17618)
 * Speculative execution threshold unit mismatch (apippi-17877)
 * Fix BulkLoader to load entireSSTableThrottle and entireSSTableInterDcThrottle (apippi-17677)
 * Fix a race condition where a keyspace can be oopened while it is being removed (apippi-17658)
 * DatabaseDescriptor will set the default failure detector during client initialization (apippi-17782)
 * Avoid initializing schema via SystemKeyspace.getPreferredIP() with the BulkLoader tool (apippi-17740)
 * Improve JMX methods signatures, fix JMX and config backward compatibility (apippi-17725)
 * Fix sstable_preemptive_open_interval disabled value. sstable_preemptive_open_interval = null backward compatible with
   sstable_preemptive_open_interval_in_mb = -1 (apippi-17737)
 * Remove usages of Path#toFile() in the snapshot apparatus (apippi-17769)
 * Fix Settings Virtual Table to update paxos_variant after startup and rename enable_uuid_sstable_identifiers to
   uuid_sstable_identifiers_enabled as per our config naming conventions (apippi-17738)
 * index_summary_resize_interval_in_minutes = -1 is equivalent to index_summary_resize_interval being set to null or
   disabled. JMX MBean IndexSummaryManager, setResizeIntervalInMinutes method still takes resizeIntervalInMinutes = -1 for disabled (apippi-17735)
 * min_tracked_partition_size_bytes parameter from 4.1 alpha1 was renamed to min_tracked_partition_size (apippi-17733)
 * Remove commons-lang dependency during build runtime (apippi-17724)
 * Relax synchronization on StreamSession#onError() to avoid deadlock (apippi-17706)
 * Fix AbstractCell#toString throws MarshalException for cell in collection (apippi-17695)
 * Add new vtable output option to compactionstats (apippi-17683)
 * Fix commitLogUpperBound initialization in AbstractMemtableWithCommitlog (apippi-17587)
 * Fix widening to long in getBatchSizeFailThreshold (apippi-17650)
 * Fix widening from mebibytes to bytes in IntMebibytesBound (apippi-17716)
 * Revert breaking change in nodetool clientstats and expose cient options through nodetool clientstats --client-options. (apippi-17715)
 * Fix missed nowInSec values in QueryProcessor (apippi-17458)
 * Revert removal of withBufferSizeInMB(int size) in CQLSSTableWriter.Builder class and deprecate it in favor of withBufferSizeInMiB(int size) (apippi-17675)
 * Remove expired snapshots of dropped tables after restart (apippi-17619)
Merged from 4.0:
 * Fix possible race condition on repair snapshots (apippi-17955)
 * Fix ASM bytecode version inconsistency (apippi-17873)
 * Remove empty cq4 files in log directory to not fail the startup of BinLog (apippi-17933)
 * Fix multiple BufferPool bugs (apippi-16681)
 * Fix StorageService.getNativeaddress handling of IPv6 addresses (apippi-17945)
 * Mitigate direct buffer memory OOM on replacements (apippi-17895)
 * Fix repair failure on assertion if two peers have overlapping mismatching ranges (apippi-17900)
 * Better handle null state in Gossip schema migration to avoid NPE (apippi-17864)
 * HintedHandoffAddRemoveNodesTest now accounts for the fact that StorageMetrics.totalHints is not updated synchronously w/ writes (apippi-16679)
 * Avoid getting hanging repairs due to repair message timeouts (apippi-17613)
 * Prevent infinite loop in repair coordinator on FailSession (apippi-17834)
 * Fix race condition on updating cdc size and advancing to next segment (apippi-17792)
 * Add 'noboolean' rpm build for older distros like CentOS7 (apippi-17765)
 * Fix default value for compaction_throughput_mb_per_sec in Config class to match  the one in apippi.yaml (apippi-17790)
 * Fix Setting Virtual Table - update after startup config properties gc_log_threshold_in_ms, gc_warn_threshold_in_ms,
   conf.index_summary_capacity_in_mb, prepared_statements_cache_size_mb, key_cache_size_in_mb, counter_cache_size_in_mb
   (apippi-17737)
 * Fix Settings Virtual Table - index_summary_resize_interval and index_summary_capacity were not updated after startup (apippi-17735)
 * Clean up ScheduledExecutors, CommitLog, and MessagingService shutdown for in-JVM dtests (apippi-17731)
 * Remove extra write to system table for prepared statements (apippi-17764)
 * SSL storage port in sstableloader is deprecated (apippi-17602)
 * Fix counter write timeouts at ONE (apippi-17411)
 * Fix NPE in getLocalPrimaryRangeForEndpoint (apippi-17680)
 * Allow Java 11 to satisfy RPM/Debian packaging (apippi-17669)
 * Ensure FileStreamTask cannot compromise shared channel proxy for system table when interrupted (apippi-17663)
 * silence benign SslClosedEngineException (apippi-17565)
Merged from 3.11:
 * Suppress CVE-2022-42003 and CVE-2022-42004 (apippi-17966)
 * Make LongBufferPoolTest insensitive to timing (apippi-16681)
 * Fix potential IndexOutOfBoundsException in PagingState in mixed mode clusters (apippi-17840)
 * Document usage of closed token intervals in manual compaction (apippi-17575)
 * Creating of a keyspace on insufficient number of replicas should filter out gosspping-only members (apippi-17759)
 * Suppress CVE-2022-25857 and other snakeyaml CVEs (apippi-17907)
Merged from 3.0:
 * Fix running Ant rat targets without git (apippi-17974)
 * Harden JMX by resolving beanshooter issues (apippi-17921)
 * Suppress CVE-2019-2684 (apippi-17965)
 * Fix auto-completing "WITH" when creating a materialized view (apippi-17879)
 * Improve libjemalloc resolution in bin/apippi (apippi-15767)
 * Fix restarting of services on gossipping-only member (apippi-17752)
 * Fix scrubber falling into infinite loop when the last partition is broken (apippi-17862)
 * Fix resetting schema (apippi-17819)

4.1-alpha1
 * Handle config parameters upper bound on startup; Fix auto_snapshot_ttl and paxos_purge_grace_period min unit validations (apippi-17571)
 * Fix leak of non-standard Java types in our Exceptions as clients using JMX are unable to handle them.
   Remove useless validation that leads to unnecessary additional read of apippi.yaml on startup (apippi-17638)
 * Fix repair_request_timeout_in_ms and remove paxos_auto_repair_threshold_mb (apippi-17557)
 * Incremental repair leaks SomeRepairFailedException after switch away from flatMap (apippi-17620)
 * StorageService read threshold get methods throw NullPointerException due to not handling null configs (apippi-17593)
 * Rename truncate_drop guardrail to drop_truncate_table (apippi-17592)
 * nodetool enablefullquerylog can NPE when directory has no files (apippi-17595)
 * Add auto_snapshot_ttl configuration (apippi-16790)
 * List snapshots of dropped tables (apippi-16843)
 * Add information whether sstables are dropped to SchemaChangeListener (apippi-17582)
 * Add a pluggable memtable API (CEP-11 / apippi-17034)
 * Save sstable id as string in activity table (apippi-17585)
 * Implement startup check to prevent apippi to potentially spread zombie data (apippi-17180)
 * Allow failing startup on duplicate config keys (apippi-17379)
 * Migrate threshold for minimum keyspace replication factor to guardrails (apippi-17212)
 * Add guardrail to disallow TRUNCATE and DROP TABLE commands (apippi-17558)
 * Add plugin support for CQLSH (apippi-16456)
 * Add guardrail to disallow querying with ALLOW FILTERING (apippi-17370)
 * Enhance SnakeYAML properties to be reusable outside of YAML parsing, support camel case conversion to snake case, and add support to ignore properties (apippi-17166)
 * nodetool compact should support using a key string to find the range to avoid operators having to manually do this (apippi-17537)
 * Add guardrail for data disk usage (apippi-17150)
 * Tool to list data paths of existing tables (apippi-17568)
 * Migrate track_warnings to more standard naming conventions and use latest configuration types rather than long (apippi-17560)
 * Add support for CONTAINS and CONTAINS KEY in conditional UPDATE and DELETE statement (apippi-10537)
 * Migrate advanced config parameters to the new Config types (apippi-17431)
 * Make null to be meaning disabled and leave 0 as a valid value for permissions_update_interval, roles_update_interval, credentials_update_interval (apippi-17431)
 * Fix typo in Config annotation (apippi-17431)
 * Made Converters type safe and fixed a few cases where converters used the wrong type (apippi-17431)
 * Fix null bug in DataStorageSpec and DurationSpec and require units to be added when providing 0 value (apippi-17431)
 * Shutdown ScheduledExecutors as part of node drainage (apippi-17493)
 * Provide JMX endpoint to allow transient logging of blocking read repairs (apippi-17471)
 * Add guardrail for GROUP BY queries (apippi-17509)
 * make pylib PEP and pylint compliant (apippi-17546)
 * Add support for vnodes in jvm-dtest (apippi-17332)
 * Remove guardrails global enable flag (apippi-17499)
 * Clients using JMX are unable to handle non-standard java types but we leak this into our interfaces (apippi-17527)
 * Remove stress server functionality (apippi-17535)
 * Reduce histogram snapshot long[] allocation overhead during speculative read and write threshold updates (apippi-17523)
 * Add guardrail for creation of secondary indexes (apippi-17498)
 * Add guardrail to disallow creation of uncompressed tables (apippi-17504)
 * Add guardrail to disallow creation of new COMPACT STORAGE tables (apippi-17522)
 * repair vtables should expose a completed field due to lack of filtering options in CQL (apippi-17520)
 * remove outdated code from cqlsh (apippi-17490)
 * remove support for deprecated version specific TLS in Python 3.6 (apippi-17365)
 * Add support for IF EXISTS and IF NOT EXISTS in ALTER statements (apippi-16916)
 * resolve several pylint issues in cqlsh.py and pylib (apippi-17480)
 * Streaming sessions longer than 3 minutes fail with timeout (apippi-17510)
 * Add ability to track state in repair (apippi-15399)
 * Remove unused 'parse' module (apippi-17484)
 * change six functions in cqlshlib to native Python 3 (apippi-17417)
 * reduce hot-path object allocations required to record local/remote requests against the client request metrics (apippi-17424)
 * Disallow removing DC from system_auth while nodes are active in the DC (apippi-17478)
 * Add guardrail for the number of fields per UDT (apippi-17385)
 * Allow users to change cqlsh history location using env variable (apippi-17448)
 * Add required -f option to use nodetool verify and standalone sstableverify (apippi-17017)
 * Add support for UUID based sstable generation identifiers (apippi-17048)
 * Log largest memtable flush at info instead of debug (apippi-17472)
 * Add native transport rate limiter options to example apippi.yaml, and expose metric for dispatch rate (apippi-17423)
 * Add diagnostic events for guardrails (apippi-17197)
 * Pre hashed passwords in CQL (apippi-17334)
 * Increase cqlsh version (apippi-17432)
 * Update SUPPORTED_UPGRADE_PATHS to include 3.0 and 3.x to 4.1 paths and remove obsolete tests (apippi-17362)
 * Support DELETE in CQLSSTableWriter (apippi-14797)
 * Failed inbound internode authentication failures generate ugly warning with stack trace (apippi-17068)
 * Expose gossip information in system_views.gossip_info virtual table (apippi-17002)
 * Add guardrails for collection items and size (apippi-17153)
 * Improve guardrails messages (apippi-17430)
 * Remove all usages of junit.framework and ban them via Checkstyle (apippi-17316)
 * Add guardrails for read/write consistency levels (apippi-17188)
 * Add guardrail for SELECT IN terms and their cartesian product (apippi-17187)
 * remove unused imports in cqlsh.py and cqlshlib (apippi-17413)
 * deprecate property windows_timer_interval (apippi-17404)
 * Expose streaming as a vtable (apippi-17390)
 * Expose all client options via system_views.clients and nodetool clientstats (apippi-16378)
 * Make startup checks configurable (apippi-17220)
 * Add guardrail for number of partition keys on IN queries (apippi-17186)
 * update Python test framework from nose to pytest (apippi-17293)
 * Fix improper CDC commit log segments deletion in non-blocking mode (apippi-17233)
 * Add support for string concatenations through the + operator (apippi-17190)
 * Limit the maximum hints size per host (apippi-17142)
 * Add a virtual table for exposing batch metrics (apippi-17225)
 * Flatten guardrails config (apippi-17353)
 * Instance failed to start up due to NPE in StartupClusterConnectivityChecker (apippi-17347)
 * add the shorter version of version flag (-v) in cqlsh (apippi-17236)
 * Make vtables accessible via internode messaging (apippi-17295)
 * Add support for PEM based key material for SSL (apippi-17031)
 * Standardize storage configuration parameters' names. Support unit suffixes. (apippi-15234)
 * Remove support for Windows (apippi-16956)
 * Runtime-configurable YAML option to prohibit USE statements (apippi-17318)
 * When streaming sees a ClosedChannelException this triggers the disk failure policy (apippi-17116)
 * Add a virtual table for exposing prepared statements metrics (apippi-17224)
 * Remove python 2.x support from cqlsh (apippi-17242)
 * Prewarm role and credential caches to avoid timeouts at startup (apippi-16958)
 * Make capacity/validity/updateinterval/activeupdate for Auth Caches configurable via nodetool (apippi-17063)
 * Added startup check for read_ahead_kb setting (apippi-16436)
 * Avoid unecessary array allocations and initializations when performing query checks (apippi-17209)
 * Add guardrail for list operations that require read before write (apippi-17154)
 * Migrate thresholds for number of keyspaces and tables to guardrails (apippi-17195)
 * Remove self-reference in SSTableTidier (apippi-17205)
 * Add guardrail for query page size (apippi-17189)
 * Allow column_index_size_in_kb to be configurable through nodetool (apippi-17121)
 * Emit a metric for number of local read and write calls
 * Add non-blocking mode for CDC writes (apippi-17001)
 * Add guardrails framework (apippi-17147)
 * Harden resource management on SSTable components to prevent future leaks (apippi-17174)
 * Make nodes more resilient to local unrelated files during startup (apippi-17082)
 * repair prepare message would produce a wrong error message if network timeout happened rather than reply wait timeout (apippi-16992)
 * Log queries that fail on timeout or unavailable errors up to once per minute by default (apippi-17159)
 * Refactor normal/preview/IR repair to standardize repair cleanup and error handling of failed RepairJobs (apippi-17069)
 * Log missing peers in StartupClusterConnectivityChecker (apippi-17130)
 * Introduce separate rate limiting settings for entire SSTable streaming (apippi-17065)
 * Implement Virtual Tables for Auth Caches (apippi-16914)
 * Actively update auth cache in the background (apippi-16957)
 * Add unix time conversion functions (apippi-17029)
 * JVMStabilityInspector.forceHeapSpaceOomMaybe should handle all non-heap OOMs rather than only supporting direct only (apippi-17128)
 * Forbid other Future implementations with checkstyle (apippi-17055)
 * commit log was switched from non-daemon to daemon threads, which causes the JVM to exit in some case as no non-daemon threads are active (apippi-17085)
 * Add a Denylist to block reads and writes on specific partition keys (apippi-12106)
 * v4+ protocol did not clean up client warnings, which caused leaking the state (apippi-17054)
 * Remove duplicate toCQLString in ReadCommand (apippi-17023)
 * Ensure hint window is persistent across restarts of a node (apippi-14309)
 * Allow to GRANT or REVOKE multiple permissions in a single statement (apippi-17030)
 * Allow to grant permission for all tables in a keyspace (apippi-17027)
 * Log time spent writing keys during compaction (apippi-17037)
 * Make nodetool compactionstats and sstable_tasks consistent (apippi-16976)
 * Add metrics and logging around index summary redistribution (apippi-17036)
 * Add configuration options for minimum allowable replication factor and default replication factor (apippi-14557)
 * Expose information about stored hints via a nodetool command and a virtual table (apippi-14795)
 * Add broadcast_rpc_address to system.local (apippi-11181)
 * Add support for type casting in WHERE clause components and in the values of INSERT/UPDATE statements (apippi-14337)
 * add credentials file support to CQLSH (apippi-16983)
 * Skip remaining bytes in the Envelope buffer when a ProtocolException is thrown to avoid double decoding (apippi-17026)
 * Allow reverse iteration of resources during permissions checking (apippi-17016)
 * Add feature to verify correct ownership of attached locations on disk at startup (apippi-16879)
 * Make SSLContext creation pluggable/extensible (apippi-16666)
 * Add soft/hard limits to local reads to protect against reading too much data in a single query (apippi-16896)
 * Avoid token cache invalidation for removing a non-member node (apippi-15290)
 * Allow configuration of consistency levels on auth operations (apippi-12988)
 * Add number of sstables in a compaction to compactionstats output (apippi-16844)
 * Upgrade Caffeine to 2.9.2 (apippi-15153)
 * Allow DELETE and TRUNCATE to work on Virtual Tables if the implementation allows it (apippi-16806)
 * Include SASI components to snapshots (apippi-15134)
 * Fix missed wait latencies in the output of `nodetool tpstats -F` (apippi-16938)
 * Reduce native transport max frame size to 16MB (apippi-16886)
 * Add support for filtering using IN restrictions (apippi-14344)
 * Provide a nodetool command to invalidate auth caches (apippi-16404)
 * Catch read repair timeout exceptions and add metric (apippi-16880)
 * Exclude Jackson 1.x transitive dependency of hadoop* provided dependencies (apippi-16854)
 * Add client warnings and abort to tombstone and coordinator reads which go past a low/high watermark (apippi-16850)
 * Add TTL support to nodetool snapshots (apippi-16789)
 * Allow CommitLogSegmentReader to optionally skip sync marker CRC checks (apippi-16842)
 * allow blocking IPs from updating metrics about traffic (apippi-16859)
 * Request-Based Native Transport Rate-Limiting (apippi-16663)
 * Implement nodetool getauditlog command (apippi-16725)
 * Clean up repair code (apippi-13720)
 * Background schedule to clean up orphaned hints files (apippi-16815)
 * Modify SecondaryIndexManager#indexPartition() to retrieve only columns for which indexes are actually being built (apippi-16776)
 * Batch the token metadata update to improve the speed (apippi-15291)
 * Reduce the log level on "expected" repair exceptions (apippi-16775)
 * Make JMXTimer expose attributes using consistent time unit (apippi-16760)
 * Remove check on gossip status from DynamicEndpointSnitch::updateScores (apippi-11671)
 * Fix AbstractReadQuery::toCQLString not returning valid CQL (apippi-16510)
 * Log when compacting many tombstones (apippi-16780)
 * Display bytes per level in tablestats for LCS tables (apippi-16799)
 * Add isolated flush timer to CommitLogMetrics and ensure writes correspond to single WaitingOnCommit data points (apippi-16701)
 * GossiperTest.testHasVersion3Nodes didn't take into account trunk version changes, fixed to rely on latest version (apippi-16651)
 * Update JNA library to 5.9.0 and snappy-java to version 1.1.8.4 (apippi-17040)
Merged from 4.0:
 * Utilise BTree improvements to reduce garbage and improve throughput (apippi-15511)
Merged from 3.11:
Merged from 3.0:
 * Fix writetime and ttl functions forbidden for collections instead of multicell columns (apippi-17628)
 * Fix issue where frozen maps may not be serialized in the correct order (apippi-17623)
 * Suppress CVE-2022-24823 (apippi-17633)
 * fsync TOC and digest files (apippi-10709)


4.0.4
 * Optimise BTree build,update and transform operations (apippi-15510)
 * Clean up schema migration coordinator and tests (apippi-17533)
 * Shut repair task executor down without interruption to avoid compromising shared channel proxies (apippi-17466)
 * Generate valid KEYSPACE / MATERIALIZED VIEW for CQL for views (apippi-17266)
 * Fix timestamp tz parsing (apippi-17467)
 * Suppress CVE-2021-44521 from driver (apippi-17459)
 * Upgrade jackson to 2.13.2 (apippi-17460)
 * Make sstableloader honour native port option (apippi-17210)
 * Reject snapshot names with special character (apippi-15297)
 * Fix ObjectSizes implementation and usages (apippi-17402)
 * Fix race condition bug during local session repair (apippi-17335)
 * Fix ignored streaming encryption settings in sstableloader (apippi-17367)
 * Streaming tasks handle empty SSTables correctly (apippi-16349)
 * Prevent SSTableLoader from doing unnecessary work (apippi-16349)
Merged from 3.11:
 * Upgrade jackson-databind to 2.13.2.2 (apippi-17556)
 * Upgrade slf4j to 1.7.25 (apippi-17474)
 * Upgrade jackson to 2.13.2 (apippi-17492)
 * emit warning on keyspace creation when replication factor is bigger than the number of nodes (apippi-16747)
 * Fix snapshot true size calculation (apippi-17267)
 * Validate existence of DCs when repairing (apippi-17407)
 * dropping of a materialized view creates a snapshot with dropped- prefix (apippi-17415)
Merged from 3.0:
 * fsync TOC and digest files (apippi-10709)
 * Fix URISyntaxException in nodetool with updated Java (apippi-17581)
 * Schema mutations may not be completed on drain (apippi-17524)
 * Fix data corruption in AbstractCompositeType due to static boolean byte buffers (apippi-14752)
 * Add procps dependency to RPM/Debian packages (apippi-17516)
 * Suppress CVE-2021-44521 (apippi-17492)
 * ConnectionLimitHandler may leaks connection count if remote connection drops (apippi-17252)
 * Require ant >= 1.10 (apippi-17428)
 * Disallow CONTAINS for UPDATE and DELETE (apippi-15266)
 * Suppress inapplicable CVEs (apippi-17368)
 * Fix flaky test - test_cqlsh_completion.TestCqlshCompletion (apippi-17338)
 * Fixed TestCqlshOutput failing tests (apippi-17386)
 * Lazy transaction log replica creation allows incorrect replica content divergence during anticompaction (apippi-17273)
 * LeveledCompactionStrategy disk space check improvements (apippi-17272)

4.0.3
 * Deprecate otc_coalescing_strategy, otc_coalescing_window_us, otc_coalescing_enough_coalesced_messages,
   otc_backlog_expiration_interval_ms (apippi-17377)
 * Improve start up processing of Incremental Repair information read from system.repairs (apippi-17342)
 * Extend operator control over the UDF threading model for CVE-2021-44521 (apippi-17352)
 * Full Java 11 support (apippi-16894)
 * Remove unused 'geomet' package from cqlsh path (apippi-17271)
 * Removed unused 'cql' dependency (apippi-17247)
 * Don't block gossip when clearing repair snapshots (apippi-17168)
 * Deduplicate warnings for deprecated parameters (changed names) (apippi-17160)
 * Update ant-junit to version 1.10.12 (apippi-17218)
 * Add droppable tombstone metrics to nodetool tablestats (apippi-16308)
 * Fix disk failure triggered when enabling FQL on an unclean directory (apippi-17136)
 * Fixed broken classpath when multiple jars in build directory (apippi-17129)
 * DebuggableThreadPoolExecutor does not propagate client warnings (apippi-17072)
 * internode_send_buff_size_in_bytes and internode_recv_buff_size_in_bytes have new names. Backward compatibility with the old names added (apippi-17141)
 * Remove unused configuration parameters from apippi.yaml (apippi-17132)
 * Queries performed with NODE_LOCAL consistency level do not update request metrics (apippi-17052)
 * Fix multiple full sources can be select unexpectedly for bootstrap streaming (apippi-16945)
 * Fix apippi.yaml formatting of parameters (apippi-17131)
 * Add backward compatibility for CQLSSTableWriter Date fields (apippi-17117)
 * Push initial client connection messages to trace (apippi-17038)
 * Correct the internode message timestamp if sending node has wrapped (apippi-16997)
 * Avoid race causing us to return null in RangesAtEndpoint (apippi-16965)
 * Avoid rewriting all sstables during cleanup when transient replication is enabled (apippi-16966)
 * Prevent CQLSH from failure on Python 3.10 (apippi-16987)
 * Avoid trying to acquire 0 permits from the rate limiter when taking snapshot (apippi-16872)
 * Remove all the state pollution between tests in SSTableReaderTest (apippi-16888)
 * Delay auth setup until after gossip has settled to avoid unavailables on startup (apippi-16783)
 * org.apache.apippi.db.rows.ArrayCell#unsharedHeapSizeExcludingData includes data twice (apippi-16900)
 * Fix clustering order logic in CREATE MATERIALIZED VIEW (apippi-16898)
 * Exclude Jackson 1.x transitive dependency of hadoop* provided dependencies (apippi-16854)
 * Tolerate missing DNS entry when completing a host replacement (apippi-16873)
 * Harden PrunableArrayQueue against Pruner implementations that might throw exceptions (apippi-16866)
 * Move RepairedDataInfo to the execution controller rather than the ReadCommand to avoid unintended sharing (apippi-16721)
 * Bump zstd-jni version to 1.5.0-4 (apippi-16884)
 * Remove assumption that all urgent messages are small (apippi-16877)
 * ArrayClustering.unsharedHeapSize does not include the data so undercounts the heap size (apippi-16845)
 * Improve help, doc and error messages about sstabledump -k and -x arguments (apippi-16818)
 * Add repaired/unrepaired bytes back to nodetool (apippi-15282)
 * Upgrade lz4-java to 1.8.0 to add RH6 support back (apippi-16753)
 * Improve DiagnosticEventService.publish(event) logging message of events (apippi-16749)
 * Cleanup dependency scopes (apippi-16704)
 * Make JmxHistogram#getRecentValues() and JmxTimer#getRecentValues() thread-safe (apippi-16707)
Merged from 3.11:
 * Upgrade jackson-databind to 2.13.2.2 (apippi-17556)
 * Upgrade slf4j to 1.7.25 (apippi-17474)
 * Upgrade jackson to 2.13.2 (apippi-17492)
 * emit warning on keyspace creation when replication factor is bigger than the number of nodes (apippi-16747)
 * Fix snapshot true size calculation (apippi-17267)
 * dropping of a materialized view creates a snapshot with dropped- prefix (apippi-17415)
 * Validate existence of DCs when repairing (apippi-17407)
 * Add key validation to ssstablescrub (apippi-16969)
 * Update Jackson from 2.9.10 to 2.12.5 (apippi-16851)
 * Make assassinate more resilient to missing tokens (apippi-16847)
 * Validate SASI tokenizer options before adding index to schema (apippi-15135)
 * Fixup scrub output when no data post-scrub and clear up old use of row, which really means partition (apippi-16835)
 * Reduce thread contention in CommitLogSegment and HintsBuffer (apippi-16072)
 * Make cqlsh use the same set of reserved keywords than the server uses (apippi-15663)
 * Optimize bytes skipping when reading SSTable files (apippi-14415)
 * Enable tombstone compactions when unchecked_tombstone_compaction is set in TWCS (apippi-14496)
 * Read only the required SSTables for single partition queries (apippi-16737)
Merged from 3.0:
 * Schema mutations may not be completed on drain (apippi-17524)
 * Fix data corruption in AbstractCompositeType due to static boolean byte buffers (apippi-14752)
 * Add procps dependency to RPM/Debian packages (apippi-17516)
 * Suppress CVE-2021-44521 (apippi-17492)
 * ConnectionLimitHandler may leaks connection count if remote connection drops (apippi-17252)
 * Require ant >= 1.10 (apippi-17428)
 * Disallow CONTAINS for UPDATE and DELETE (apippi-15266)
 * Suppress inapplicable CVEs (apippi-17368)
 * Fix flaky test - test_cqlsh_completion.TestCqlshCompletion (apippi-17338)
 * Fixed TestCqlshOutput failing tests (apippi-17386)
 * Lazy transaction log replica creation allows incorrect replica content divergence during anticompaction (apippi-17273)
 * LeveledCompactionStrategy disk space check improvements (apippi-17272)
 * Fix conversion from megabits to bytes in streaming rate limiter (apippi-17243)
 * Upgrade logback to 1.2.9 (apippi-17204)
 * Avoid race in AbstractReplicationStrategy endpoint caching (apippi-16673)
 * Fix abort when window resizing during cqlsh COPY (apippi-15230)
 * Fix slow keycache load which blocks startup for tables with many sstables (apippi-14898)
 * Fix rare NPE caused by batchlog replay / node decomission races (apippi-17049)
 * Allow users to view permissions of the roles they created (apippi-16902)
 * Fix failure handling in inter-node communication (apippi-16334)
 * Log more information when a node runs out of commitlog space (apippi-11323)
 * Don't take snapshots when truncating system tables (apippi-16839)
 * Make -Dtest.methods consistently optional in all Ant test targets (apippi-17014)
 * Immediately apply stream throughput, considering negative values as unthrottled (apippi-16959)
 * Do not release new SSTables in offline transactions (apippi-16975)
 * ArrayIndexOutOfBoundsException in FunctionResource#fromName (apippi-16977, apippi-16995)
 * CVE-2015-0886 Security vulnerability in jbcrypt is addressed (apippi-9384)
 * Avoid useless SSTable reads during single partition queries (apippi-16944)
 * Debian init respects apippi_HEAPDUMP_DIR (apippi-13843)
 * Catch UnsatisfiedLinkError in WindowsTimer (apippi-16085)
 * Avoid removing batch when it's not created during view replication (apippi-16175)
 * Make the addition of regular column to COMPACT tables throw an InvalidRequestException (apippi-14564)
 * Make the addition of regular column to COMPACT tables throw an InvalidRequestException (apippi-14564)
 * Fix secondary indexes on primary key columns skipping some writes (apippi-16868)
 * Use JMX to validate nodetool --jobs parameter (apippi-16104)
 * Handle properly UnsatisfiedLinkError in NativeLibrary#getProcessID() (apippi-16578)
 * Remove mutation data from error log message (apippi-16817)
 * Binary releases no longer bundle the apidocs (javadoc) (apippi-16557)
 * Migrate dependency handling from maven-ant-tasks to resolver-ant-tasks, removing lib/ directory from version control (apippi-16557)
 * Don't allow seeds to replace without using unsafe (apippi-14463)
 * Calculate time remaining correctly for all compaction types in compactionstats (apippi-14701)
 * Receipt of gossip shutdown notification updates TokenMetadata (apippi-16796)
 * Count bloom filter misses correctly (apippi-12922)
 * Reject token() in MV WHERE clause (apippi-13464)
 * Ensure java executable is on the path (apippi-14325)
 * Clean transaction log leftovers at the beginning of sstablelevelreset and sstableofflinerelevel (apippi-12519)

4.0.0
 * Avoid signaling DigestResolver until the minimum number of responses are guaranteed to be visible (apippi-16807)
 * Fix pre-4.0 FWD_FRM parameter serializer (apippi-16808)
 * Fix fwd to/from headers in DC write forwarding (apippi-16797)
 * Fix apippiVersion::compareTo (apippi-16794)
 * BinLog does not close chronicle queue leaving this to GC to cleanup (apippi-16774)

4.0-rc2
 * Improved password obfuscation (apippi-16801)
 * Avoid memoizing the wrong min cluster version during upgrades (apippi-16759)
 * Obfuscate passwords in statements in QueryEvents (apippi-16669)
 * Fix queries on empty partitions with static data (apippi-16686)
 * Keep python driver in artifacts (apippi-16700)
 * Improve AuditLogging documentation and logback.xml(apippi-16682)
 * Spin up SEPWorker threads whenever we grow the number of work permits(apippi-16668)
 * Add a warning to cqlsh 6.0.0 that DESCRIBE does not work with a apippi 3.x servers (apippi-16652)
 * cqlsh: fix DESC TYPE with non-ascii character in the identifier (apippi-16400)
 * Remove drivers dependency and bring cql_keywords_reserved on server side (apippi-16659)
 * Fix in-browser "help", Python 3 (apippi-16658)
 * Fix DROP COMPACT STORAGE for counters (apippi-16653)
 * Add back validation for AlterTableStatements (apippi-16643)
 * Fix cqlsh encoding error with unicode in multi-line statement (apippi-16539)
 * Fix race in fat client removal (apippi-16238)
 * Test org.apache.apippi.net.AsyncPromiseTest FAILED (apippi-16596)
Merged from 3.11:
 * Fix LeveledCompactionStrategy compacts last level throw an ArrayIndexOutOfBoundsException (apippi-15669)
 * Maps $apippi_LOG_DIR to apippi.logdir java property when executing nodetool (apippi-16199)
 * Nodetool garbagecollect should retain SSTableLevel for LCS (apippi-16634)
 * Ignore stale acks received in the shadow round (apippi-16588)
Merged from 3.0:
 * Handle correctly the exceptions thrown by custom QueryHandler constructors (apippi-16703)
 * Adding columns via ALTER TABLE can generate corrupt sstables (apippi-16735)
 * Add flag to disable ALTER...DROP COMPACT STORAGE statements (apippi-16733)
 * CQL shell should prefer newer TLS version by default (apippi-16695)
 * Ensure that existing empty rows are properly returned (apippi-16671)
 * Failure to execute queries should emit a KPI other than read timeout/unavailable so it can be alerted/tracked (apippi-16581)
 * Don't wait on schema versions from replacement target when replacing a node (apippi-16692)
 * StandaloneVerifier does not fail when unable to verify SSTables, it only fails if Corruption is thrown (apippi-16683)
 * Fix bloom filter false ratio calculation by including true negatives (apippi-15834)
 * Prevent loss of commit log data when moving sstables between nodes (apippi-16619)
 * Fix materialized view builders inserting truncated data (apippi-16567)

4.0-rc1
 * Allow for setting buffer max capacity to increase it dynamically as needed (apippi-16524)
 * Harden internode message resource limit accounting against serialization failures (apippi-16616)
 * Add back the source release of python driver in tree to avoid fetching from GitHub APIs (apippi-16599)
 * Fix false unavailable for queries due to cluster topology changes (apippi-16545)
 * Fixed a race condition issue in nodetool repair where we poll for the error before seeing the error notification, leading to a less meaningful message (apippi-16585)
 * Fix mixed cluster GROUP BY queries (apippi-16582)
 * Upgrade jflex to 1.8.2 (apippi-16576)
 * Binary releases no longer bundle the apidocs (javadoc) (apippi-15561)
 * Fix Streaming Repair metrics (apippi-16190)
 * Scheduled (delayed) schema pull tasks should not run after MIGRATION stage shutdown during decommission (apippi-16495)
 * When behind a firewall trunk is not buildable, need to allow overriding URLs (apippi-16563)
 * Make sure sstables with moved starts are removed correctly in LeveledGenerations (apippi-16552)
 * Fix race between secondary index building and active compactions tracking (apippi-16554)
 * Migrate dependency handling from maven-ant-tasks to resolver-ant-tasks, removing lib/ directory from version control (apippi-16391)
 * Fix 4.0 node sending a repair prepare message to a 3.x node breaking the connection (apippi-16542)
 * Removed synchronized modifier from StreamSession#onChannelClose to prevent deadlocking on flush (apippi-15892)
 * Throw IOE in AbstractType.writeValue if value has wrong fixed length (apippi-16500)
 * Execute background refreshing of auth caches on a dedicated executor (apippi-15177)
 * Update bundled java and python drivers to 3.11.0 and 3.25.0 respectively (apippi-13951)
 * Add io.netty.tryReflectionSetAccessible=true to j11 server options in order to enable netty to use Unsafe direct byte buffer construction (apippi-16493)
 * Make apippi-stress -node support host:port notation (apippi-16529)
 * Better handle legacy gossip application states during (and after) upgrades (apippi-16525)
 * Mark StreamingMetrics.ActiveOutboundStreams as deprecated (apippi-11174)
 * Increase the cqlsh version number (apippi-16509)
 * Fix the CQL generated for the views.where_clause column when some identifiers require quoting (apippi-16479)
 * Send FAILED_SESSION_MSG on shutdown and on in-progress repairs during startup (apippi-16425)
 * Reinstate removed ApplicationState padding (apippi-16484)
 * Expose data dirs to ColumnFamilyStoreMBean (apippi-16335)
 * Add possibility to copy SSTables in SSTableImporter instead of moving them (apippi-16407)
 * Fix DESCRIBE statement for CUSTOM indices with options (apippi-16482)
 * Fix apippi-stress JMX connection (apippi-16473)
 * Avoid processing redundant application states on endpoint changes (apippi-16381)
 * Prevent parent repair sessions leak (apippi-16446)
 * Fix timestamp issue in SinglePartitionSliceCommandTest testPartitionDâ€¦eletionRowDeletionTie (apippi-16443)
 * Promote protocol V5 out of beta (apippi-14973)
 * Fix incorrect encoding for strings can be UTF8 (apippi-16429)
 * Fix node unable to join when RF > N in multi-DC with added warning (apippi-16296)
 * Add an option to nodetool tablestats to check sstable location correctness (apippi-16344)
 * Unable to ALTER KEYSPACE while decommissioned/assassinated nodes are in gossip (apippi-16422)
 * Metrics backward compatibility restored after apippi-15066 (apippi-16083)
 * Reduce new reserved keywords introduced since 3.0 (apippi-16439)
 * Improve system tables handling in case of disk failures (apippi-14793)
 * Add access and datacenters to unreserved keywords (apippi-16398)
 * Fix nodetool ring, status output when DNS resolution or port printing are in use (apippi-16283)
 * Upgrade Jacoco to 0.8.6 (for Java 11 support) (apippi-16365)
 * Move excessive repair debug loggings to trace level (apippi-16406)
 * Restore validation of each message's protocol version (apippi-16374)
 * Upgrade netty and chronicle-queue dependencies to get Auditing and native library loading working on arm64 architectures (apippi-16384,apippi-16392)
 * Release StreamingTombstoneHistogramBuilder spool when switching writers (apippi-14834)
 * Correct memtable on-heap size calculations to match actual use (apippi-16318)
 * Fix client notifications in CQL protocol v5 (apippi-16353)
 * Too defensive check when picking sstables for preview repair (apippi-16284)
 * Ensure pre-negotiation native protocol responses have correct stream id (apippi-16376)
 * Fix check for -Xlog in apippi-env.sh (apippi-16279)
 * SSLFactory should initialize SSLContext before setting protocols (apippi-16362)
 * Restore sasi dependencies jflex, snowball-stemmer, and concurrent-trees, in the apippi-all pom (apippi-16303)
 * Fix DecimalDeserializer#toString OOM (apippi-14925)
Merged from 3.11:
 * Add autocomplete and error messages for provide_overlapping_tombstones (apippi-16350)
 * Upgrade jackson-databind to 2.9.10.8 (apippi-16462)
 * Fix digest computation for queries with fetched but non queried columns (apippi-15962)
 * Reduce amount of allocations during batch statement execution (apippi-16201)
 * Update jflex-1.6.0.jar to match upstream (apippi-16393)
Merged from 3.0:
 * Don't wait for schema migrations from removed nodes (apippi-16577)
 * Ignore trailing zeros in hint files (apippi-16523)
 * Refuse DROP COMPACT STORAGE if some 2.x sstables are in use (apippi-15897)
 * Fix ColumnFilter::toString not returning a valid CQL fragment (apippi-16483)
 * Fix ColumnFilter behaviour to prevent digest mitmatches during upgrades (apippi-16415)
 * Update debian packaging for python3 (apippi-16396)
 * Avoid pushing schema mutations when setting up distributed system keyspaces locally (apippi-16387)
 * Prevent unbounded number of pending flushing tasks (apippi-16261)
 * Improve empty hint file handling during startup (apippi-16162)
 * Fix skipping on pre-3.0 created compact storage sstables due to missing primary key liveness (apippi-16226)
 * Allow empty string in collections with COPY FROM in cqlsh (apippi-16372)
Merged from 2.2:
 * Remove ant targets list-jvm-dtests and ant list-jvm-upgrade-dtests (apippi-16519)
 * Fix centos packaging for arm64, >=4.0 rpm's now require python3 (apippi-16477)
 * Make TokenMetadata's ring version increments atomic (apippi-16286)

4.0-beta4
 * DROP COMPACT STORAGE should invalidate prepared statements still using CompactTableMetadata (apippi-16361)
 * Update default num_tokens to 16 and allocate_tokens_for_local_replication_factor to 3 (apippi-13701)
 * Remove use of String.intern() (apippi-15810)
 * Fix the missing bb position in ByteBufferAccessor.getUnsignedShort (apippi-16249)
 * Make sure OOM errors are rethrown on truncation failure (apippi-16254)
 * Send back client warnings when creating too many tables/keyspaces (apippi-16309)
 * Add dedicated tcp user timeout for streaming connection (apippi-16143)
 * Add generatetokens script for offline token allocation strategy generation (apippi-16205)
 * Remove Windows scripts (apippi-16171)
 * Improve checksumming and compression in protocol V5 (apippi-15299)
 * Optimised repair streaming improvements (apippi-16274)
 * Update jctools dependency to 3.1.0 (apippi-16255)
 * 'SSLEngine closed already' exception on failed outbound connection (apippi-16277)
 * Drain and/or shutdown might throw because of slow messaging service shutdown (apippi-16276)
 * Upgrade JNA to 5.6.0, dropping support for <=glibc-2.6 systems (apippi-16212)
 * Add saved Host IDs to TokenMetadata at startup (apippi-16246)
 * Ensure that CacheMetrics.requests is picked up by the metric reporter (apippi-16228)
 * Add a ratelimiter to snapshot creation and deletion (apippi-13019)
 * Produce consistent tombstone for reads to avoid digest mistmatch (apippi-15369)
 * Fix SSTableloader issue when restoring a table named backups (apippi-16235)
 * Invalid serialized size for responses caused by increasing message time by 1ms which caused extra bytes in size calculation (apippi-16103)
 * Throw BufferOverflowException from DataOutputBuffer for better visibility (apippi-16214)
 * TLS connections to the storage port on a node without server encryption configured causes java.io.IOException accessing missing keystore (apippi-16144)
 * Internode messaging catches OOMs and does not rethrow (apippi-15214)
 * When a table attempts to clean up metrics, it was cleaning up all global table metrics (apippi-16095)
 * Bring back the accepted encryption protocols list as configurable option (apippi-13325)
 * DigestResolver.getData throws AssertionError since dataResponse is null (apippi-16097)
 * Cannot replace_address /X because it doesn't exist in gossip (apippi-16213)
 * cqlsh row_id resets on page boundaries (apippi-16160)
Merged from 3.11:
 * SASI's `max_compaction_flush_memory_in_mb` settings over 100GB revert to default of 1GB (apippi-16071)
Merged from 3.0:
 * Extend the exclusion of replica filtering protection to other indices instead of just SASI (apippi-16311)
 * Synchronize transaction logs for JBOD (apippi-16225)
 * Fix the counting of cells per partition (apippi-16259)
 * Fix serial read/non-applying CAS linearizability (apippi-12126)
 * Avoid potential NPE in JVMStabilityInspector (apippi-16294)
 * Improved check of num_tokens against the length of initial_token (apippi-14477)
 * Fix a race condition on ColumnFamilyStore and TableMetrics (apippi-16228)
 * Remove the SEPExecutor blocking behavior (apippi-16186)
 * Wait for schema agreement when bootstrapping (apippi-15158)
 * Prevent invoking enable/disable gossip when not in NORMAL (apippi-16146)
 * Raise Dynamic Snitch Default Badness Threshold to 1.0 (apippi-16285)
Merged from 2.2:
 * Fix the histogram merge of the table metrics (apippi-16259)

4.0-beta3
 * Segregate Network and Chunk Cache BufferPools and Recirculate Partially Freed Chunks (apippi-15229)
 * Fail truncation requests when they fail on a replica (apippi-16208)
 * Move compact storage validation earlier in startup process (apippi-16063)
 * Fix ByteBufferAccessor cast exceptions are thrown when trying to query a virtual table (apippi-16155)
 * Consolidate node liveness check for forced repair (apippi-16113)
 * Use unsigned short in ValueAccessor.sliceWithShortLength (apippi-16147)
 * Abort repairs when getting a truncation request (apippi-15854)
 * Remove bad assert when getting active compactions for an sstable (apippi-15457)
 * Avoid failing compactions with very large partitions (apippi-15164)
 * Prevent NPE in StreamMessage in type lookup (apippi-16131)
 * Avoid invalid state transition exception during incremental repair (apippi-16067)
 * Allow zero padding in timestamp serialization (apippi-16105)
 * Add byte array backed cells (apippi-15393)
 * Correctly handle pending ranges with adjacent range movements (apippi-14801)
 * Avoid adding locahost when streaming trivial ranges (apippi-16099)
 * Add nodetool getfullquerylog (apippi-15988)
 * Fix yaml format and alignment in tpstats (apippi-11402)
 * Avoid trying to keep track of RTs for endpoints we won't write to during read repair (apippi-16084)
 * When compaction gets interrupted, the exception should include the compactionId (apippi-15954)
 * Make Table/Keyspace Metric Names Consistent With Each Other (apippi-15909)
 * Mutating sstable component may race with entire-sstable-streaming(ZCS) causing checksum validation failure (apippi-15861)
 * NPE thrown while updating speculative execution time if keyspace is removed during task execution (apippi-15949)
 * Show the progress of data streaming and index build (apippi-15406)
 * Add flag to disable chunk cache and disable by default (apippi-16036)
 * Upgrade to snakeyaml >= 1.26 version for CVE-2017-18640 fix (apippi-16150)
Merged from 3.11:
 * Fix ColumnFilter to avoid querying cells of unselected complex columns (apippi-15977)
 * Fix memory leak in CompressedChunkReader (apippi-15880)
 * Don't attempt value skipping with mixed version cluster (apippi-15833)
 * Use IF NOT EXISTS for index and UDT create statements in snapshot schema files (apippi-13935)
 * Make sure LCS handles duplicate sstable added/removed notifications correctly (apippi-14103)
Merged from 3.0:
 * Avoid marking shutting down nodes as up after receiving gossip shutdown message (apippi-16094)
 * Handle unexpected columns due to schema races (apippi-15899)
 * Add flag to ignore unreplicated keyspaces during repair (apippi-15160)
Merged from 2.2:
 * Package tools/bin scripts as executable (apippi-16151)
 * Fixed a NullPointerException when calling nodetool enablethrift (apippi-16127)
 * Automatically drop compact storage on tables for which it is safe (apippi-16048)
 * Fixed NullPointerException for COMPACT STORAGE tables with null clustering (apippi-16241)

4.0-beta2
 * Add addition incremental repair visibility to nodetool repair_admin (apippi-14939)
 * Always access system properties and environment variables via the new apippiRelevantProperties and apippiRelevantEnv classes (apippi-15876)
 * Remove deprecated HintedHandOffManager (apippi-15939)
 * Prevent repair from overrunning compaction (apippi-15817)
 * fix cqlsh COPY functions in Python 3.8 on Mac (apippi-16053)
 * Strip comment blocks from cqlsh input before processing statements (apippi-15802)
 * Fix unicode chars error input (apippi-15990)
 * Improved testability for CacheMetrics and ChunkCacheMetrics (apippi-15788)
 * Handle errors in StreamSession#prepare (apippi-15852)
 * FQL replay should have options to ignore DDL statements (apippi-16039)
 * Remove COMPACT STORAGE internals (apippi-13994)
 * Make TimestampSerializer accept fractional seconds of varying precision (apippi-15976)
 * Improve apippi-stress logging when using a profile file that doesn't exist (apippi-14425)
 * Improve logging for socket connection/disconnection (apippi-15980)
 * Throw FSWriteError upon write failures in order to apply DiskFailurePolicy (apippi-15928)
 * Forbid altering UDTs used in partition keys (apippi-15933)
 * Fix version parsing logic when upgrading from 3.0 (apippi-15973)
 * Optimize NoSpamLogger use in hot paths (apippi-15766)
 * Verify sstable components on startup (apippi-15945)
 * Resolve JMX output inconsistencies from apippi-7544 storage-port-configurable-per-node (apippi-15937)
Merged from 3.11:
 * Correctly interpret SASI's `max_compaction_flush_memory_in_mb` setting in megabytes not bytes (apippi-16071)
 * Fix short read protection for GROUP BY queries (apippi-15459)
 * stop_paranoid disk failure policy is ignored on CorruptSSTableException after node is up (apippi-15191)
 * Frozen RawTuple is not annotated with frozen in the toString method (apippi-15857)
Merged from 3.0:
 * Fix gossip shutdown order (apippi-15816)
 * Remove broken 'defrag-on-read' optimization (apippi-15432)
 * Check for endpoint collision with hibernating nodes (apippi-14599)
 * Operational improvements and hardening for replica filtering protection (apippi-15907)
 * Fix empty/null json string representation (apippi-15896)
 * Handle difference in timestamp precision between java8 and java11 in LogFIle.java (apippi-16050)
Merged from 2.2:
 * Fix CQL parsing of collections when the column type is reversed (apippi-15814)
Merged from 2.1:
 * Only allow strings to be passed to JMX authentication (apippi-16077)

4.0-beta1
 * Remove BackPressureStrategy (apippi-15375)
 * Improve messaging on indexing frozen collections (apippi-15908)
 * USING_G1 is incorrectly set in apippi-env.sh if G1 is explicitly disabled with -UseG1GC (apippi-15931)
 * Update compaction_throughput_mb_per_sec throttle default to 64 (apippi-14902)
 * Add option to disable compaction at startup (apippi-15927)
 * FBUtilities.getJustLocalAddress falls back to lo ip on misconfigured nodes (apippi-15901)
 * Close channel and reduce buffer allocation during entire sstable streaming with SSL (apippi-15900)
 * Prune expired messages less frequently in internode messaging (apippi-15700)
 * Fix Ec2Snitch handling of legacy mode for dc names matching both formats, eg "us-west-2" (apippi-15878)
 * Add support for server side DESCRIBE statements (apippi-14825)
 * Fail startup if -Xmn is set when the G1 garbage collector is used (apippi-15839)
 * generateSplits method replaced the generateRandomTokens for ReplicationAwareTokenAllocator. (apippi-15877)
 * Several mbeans are not unregistered when dropping a keyspace and table (apippi-14888)
 * Update defaults for server and client TLS settings (apippi-15262)
 * Differentiate follower/initator in StreamMessageHeader (apippi-15665)
 * Add a startup check to detect if LZ4 uses java rather than native implementation (apippi-15884)
 * Fix missing topology events when running multiple nodes on the same network interface (apippi-15677)
 * Create config.yml.MIDRES (apippi-15712)
 * Fix handling of fully purged static rows in repaired data tracking (apippi-15848)
 * Prevent validation request submission from blocking ANTI_ENTROPY stage (apippi-15812)
 * Add fqltool and auditlogviewer to rpm and deb packages (apippi-14712)
 * Include DROPPED_COLUMNS in schema digest computation (apippi-15843)
 * Fix apippi restart from rpm install (apippi-15830)
 * Improve handling of 2i initialization failures (apippi-13606)
 * Add completion_ratio column to sstable_tasks virtual table (CASANDRA-15759)
 * Add support for adding custom Verbs (apippi-15725)
 * Speed up entire-file-streaming file containment check and allow entire-file-streaming for all compaction strategies (apippi-15657,apippi-15783)
 * Provide ability to configure IAuditLogger (apippi-15748)
 * Fix nodetool enablefullquerylog blocking param parsing (apippi-15819)
 * Add isTransient to SSTableMetadataView (apippi-15806)
 * Fix tools/bin/fqltool for all shells (apippi-15820)
 * Fix clearing of legacy size_estimates (apippi-15776)
 * Update port when reconnecting to pre-4.0 SSL storage (apippi-15727)
 * Only calculate dynamicBadnessThreshold once per loop in DynamicEndpointSnitch (apippi-15798)
 * Cleanup redundant nodetool commands added in 4.0 (apippi-15256)
 * Update to Python driver 3.23 for cqlsh (apippi-15793)
 * Add tunable initial size and growth factor to RangeTombstoneList (apippi-15763)
 * Improve debug logging in SSTableReader for index summary (apippi-15755)
 * bin/sstableverify should support user provided token ranges (apippi-15753)
 * Improve logging when mutation passed to commit log is too large (apippi-14781)
 * replace LZ4FastDecompressor with LZ4SafeDecompressor (apippi-15560)
 * Fix buffer pool NPE with concurrent release due to in-progress tiny pool eviction (apippi-15726)
 * Avoid race condition when completing stream sessions (apippi-15666)
 * Flush with fast compressors by default (apippi-15379)
 * Fix CqlInputFormat regression from the switch to system.size_estimates (apippi-15637)
 * Allow sending Entire SSTables over SSL (apippi-15740)
 * Fix CQLSH UTF-8 encoding issue for Python 2/3 compatibility (apippi-15739)
 * Fix batch statement preparation when multiple tables and parameters are used (apippi-15730)
 * Fix regression with traceOutgoingMessage printing message size (apippi-15687)
 * Ensure repaired data tracking reads a consistent amount of data across replicas (apippi-15601)
 * Fix CQLSH to avoid arguments being evaluated (apippi-15660)
 * Correct Visibility and Improve Safety of Methods in LatencyMetrics (apippi-15597)
 * Allow cqlsh to run with Python2.7/Python3.6+ (apippi-15659,apippi-15573)
 * Improve logging around incremental repair (apippi-15599)
 * Do not check cdc_raw_directory filesystem space if CDC disabled (apippi-15688)
 * Replace array iterators with get by index (apippi-15394)
 * Minimize BTree iterator allocations (apippi-15389)
Merged from 3.11:
 * Fix cqlsh output when fetching all rows in batch mode (apippi-15905)
 * Upgrade Jackson to 2.9.10 (apippi-15867)
 * Fix CQL formatting of read command restrictions for slow query log (apippi-15503)
Merged from 3.0:
 * Avoid hinted handoff per-host throttle being arounded to 0 in large cluster (apippi-15859)
 * Avoid emitting empty range tombstones from RangeTombstoneList (apippi-15924)
 * Avoid thread starvation, and improve compare-and-swap performance, in the slab allocators (apippi-15922)
 * Add token to tombstone warning and error messages (apippi-15890)
 * Fixed range read concurrency factor computation and capped as 10 times tpc cores (apippi-15752)
 * Catch exception on bootstrap resume and init native transport (apippi-15863)
 * Fix replica-side filtering returning stale data with CL > ONE (apippi-8272, apippi-8273)
 * Rely on snapshotted session infos on StreamResultFuture.maybeComplete to avoid race conditions (apippi-15667)
 * EmptyType doesn't override writeValue so could attempt to write bytes when expected not to (apippi-15790)
 * Fix index queries on partition key columns when some partitions contains only static data (apippi-13666)
 * Avoid creating duplicate rows during major upgrades (apippi-15789)
 * liveDiskSpaceUsed and totalDiskSpaceUsed get corrupted if IndexSummaryRedistribution gets interrupted (apippi-15674)
 * Fix Debian init start/stop (apippi-15770)
 * Fix infinite loop on index query paging in tables with clustering (apippi-14242)
 * Fix chunk index overflow due to large sstable with small chunk length (apippi-15595)
 * Allow selecting static column only when querying static index (apippi-14242)
 * cqlsh return non-zero status when STDIN CQL fails (apippi-15623)
 * Don't skip sstables in slice queries based only on local min/max/deletion timestamp (apippi-15690)
Merged from 2.2:
 * Fix nomenclature of allow and deny lists (apippi-15862)
 * Remove generated files from source artifact (apippi-15849)
 * Remove duplicated tools binaries from tarballs (apippi-15768)
 * Duplicate results with DISTINCT queries in mixed mode (apippi-15501)
Merged from 2.1:
 * Fix writing of snapshot manifest when the table has table-backed secondary indexes (apippi-10968)

4.0-alpha4
 * Add client request size server metrics (apippi-15704)
 * Add additional logging around FileUtils and compaction leftover cleanup (apippi-15705)
 * Mark system_views/system_virtual_schema as non-alterable keyspaces in cqlsh (apippi-15711)
 * Fail incremental repair if an old version sstable is involved (apippi-15612)
 * Fix overflows on StreamingTombstoneHistogramBuilder produced by large deletion times (apippi-14773)
 * Mark system_views/system_virtual_schema as system keyspaces in cqlsh (apippi-15706)
 * Avoid unnecessary collection/iterator allocations during btree construction (apippi-15390)
 * Repair history tables should have TTL and TWCS (apippi-12701)
 * Fix cqlsh erroring out on Python 3.7 due to webbrowser module being absent (apippi-15572)
 * Fix IMH#acquireCapacity() to return correct Outcome when endpoint reserve runs out (apippi-15607)
 * Fix nodetool describering output (apippi-15682)
 * Only track ideal CL failure when request CL met (apippi-15696)
 * Fix flaky CoordinatorMessagingTest and docstring in OutboundSink and ConsistentSession (apippi-15672)
 * Fix force compaction of wrapping ranges (apippi-15664)
 * Expose repair streaming metrics (apippi-15656)
 * Set now in seconds in the future for validation repairs (apippi-15655)
 * Emit metric on preview repair failure (apippi-15654)
 * Use more appropriate logging levels (apippi-15661)
 * Fixed empty check in TrieMemIndex due to potential state inconsistency in ConcurrentSkipListMap (apippi-15526)
 * Added UnleveledSSTables global and table level metric (apippi-15620)
 * Added Virtual Table exposing apippi relevant system properties (apippi-15616, apippi-15643)
 * Improve the algorithmic token allocation in case racks = RF (apippi-15600)
 * Fix ConnectionTest.testAcquireReleaseOutbound (apippi-15308)
 * Include finalized pending sstables in preview repair (apippi-15553)
 * Reverted to the original behavior of CLUSTERING ORDER on CREATE TABLE (apippi-15271)
 * Correct inaccurate logging message (apippi-15549)
 * Unset GREP_OPTIONS (apippi-14487)
 * Update to Python driver 3.21 for cqlsh (apippi-14872)
 * Fix missing Keyspaces in cqlsh describe output (apippi-15576)
 * Fix multi DC nodetool status output (apippi-15305)
 * updateCoordinatorWriteLatencyTableMetric can produce misleading metrics (apippi-15569)
 * Make cqlsh and cqlshlib Python 2 & 3 compatible (apippi-10190)
 * Improve the description of nodetool listsnapshots command (apippi-14587)
 * allow embedded apippi launched from a one-jar or uno-jar (apippi-15494)
 * Update hppc library to version 0.8.1 (apippi-12995)
 * Limit the dependencies used by UDFs/UDAs (apippi-14737)
 * Make native_transport_max_concurrent_requests_in_bytes updatable (apippi-15519)
 * Cleanup and improvements to IndexInfo/ColumnIndex (apippi-15469)
 * Potential Overflow in DatabaseDescriptor Functions That Convert Between KB/MB & Bytes (apippi-15470)
Merged from 3.11:
 * Allow sstableloader to use SSL on the native port (apippi-14904)
Merged from 3.0:
 * cqlsh return non-zero status when STDIN CQL fails (apippi-15623)
 * Don't skip sstables in slice queries based only on local min/max/deletion timestamp (apippi-15690)
 * Memtable memory allocations may deadlock (apippi-15367)
 * Run evictFromMembership in GossipStage (apippi-15592)
Merged from 2.2:
 * Duplicate results with DISTINCT queries in mixed mode (apippi-15501)
 * Disable JMX rebinding (apippi-15653)
Merged from 2.1:
 * Fix parse error in cqlsh COPY FROM and formatting for map of blobs (apippi-15679)
 * Fix Commit log replays when static column clustering keys are collections (apippi-14365)
 * Fix Red Hat init script on newer systemd versions (apippi-15273)
 * Allow EXTRA_CLASSPATH to work on tar/source installations (apippi-15567)

4.0-alpha3
 * Restore monotonic read consistency guarantees for blocking read repair (apippi-14740)
 * Separate exceptions for CAS write timeout exceptions caused by contention and unkown result (apippi-15350)
 * Fix in-jvm dtest java 11 compatibility (apippi-15463)
 * Remove joda time dependency (apippi-15257)
 * Exclude purgeable tombstones from repaired data tracking (apippi-15462)
 * Exclude legacy counter shards from repaired data tracking (apippi-15461)
 * Make it easier to add trace headers to messages (apippi-15499)
 * Fix and optimise partial compressed sstable streaming (apippi-13938)
 * Improve error when JVM 11 can't access required modules (apippi-15468)
 * Better handling of file deletion failures by DiskFailurePolicy (apippi-15143)
 * Prevent read repair mutations from increasing read timeout (apippi-15442)
 * Document 4.0 system keyspace changes, bump generations (apippi-15454)
 * Make it possible to disable STCS-in-L0 during runtime (apippi-15445)
 * Removed obsolete OldNetworkTopologyStrategy (apippi-13990)
 * Align record header of FQL and audit binary log (apippi-15076)
 * Shuffle forwarding replica for messages to non-local DC (apippi-15318)
 * Optimise native protocol ASCII string encoding (apippi-15410)
 * Make sure all exceptions are propagated in DebuggableThreadPoolExecutor (apippi-15332)
 * Make it possible to resize concurrent read / write thread pools at runtime (apippi-15277)
 * Close channels on error (apippi-15407)
 * Integrate SJK into nodetool (apippi-12197)
 * Ensure that empty clusterings with kind==CLUSTERING are Clustering.EMPTY (apippi-15498)
 * The flag 'cross_node_timeout' has been set as true by default. This change
   is done under the assumption that users have setup NTP on their clusters or
   otherwise synchronize their clocks, and that clocks are mostly in sync, since
   this is a requirement for general correctness of last write wins. (apippi-15216)
Merged from 3.11:
 * Fix bad UDT sstable metadata serialization headers written by C* 3.0 on upgrade and in sstablescrub (apippi-15035)
 * Fix nodetool compactionstats showing extra pending task for TWCS - patch implemented (apippi-15409)
 * Fix SELECT JSON formatting for the "duration" type (apippi-15075)
 * Update nodetool help stop output (apippi-15401)
Merged from 3.0:
 * Fix race condition when setting bootstrap flags (apippi-14878)
 * Run in-jvm upgrade dtests in circleci (apippi-15506)
 * Include updates to static column in mutation size calculations (apippi-15293)
 * Fix point-in-time recoevery ignoring timestamp of updates to static columns (apippi-15292)
 * GC logs are also put under $apippi_LOG_DIR (apippi-14306)
 * Fix sstabledump's position key value when partitions have multiple rows (apippi-14721)
 * Avoid over-scanning data directories in LogFile.verify() (apippi-15364)
 * Bump generations and document changes to system_distributed and system_traces in 3.0, 3.11
   (apippi-15441)
 * Fix system_traces creation timestamp; optimise system keyspace upgrades (apippi-15398)
 * Make sure index summary redistribution does not start when compactions are paused (apippi-15265)
 * Fix NativeLibrary.tryOpenDirectory callers for Windows (apippi-15426)
Merged from 2.2:
 * Fix SELECT JSON output for empty blobs (apippi-15435)
 * In-JVM DTest: Set correct internode message version for upgrade test (apippi-15371)
 * In-JVM DTest: Support NodeTool in dtest (apippi-15429)
 * Added data modeling documentation (apippi-15443)

4.0-alpha2
 * Fix SASI non-literal string comparisons (range operators) (apippi-15169)
 * Upgrade Guava to 27, and to java-driver 3.6.0 (from 3.4.0-SNAPSHOT) (apippi-14655)
 * Extract an AbstractCompactionController to allow for custom implementations (apippi-15286)
 * Move chronicle-core version from snapshot to stable, and include carrotsearch in generated pom.xml (apippi-15321)
 * Untangle RepairMessage sub-hierarchy of messages, use new messaging (more) correctly (apippi-15163)
 * Add `allocate_tokens_for_local_replication_factor` option for token allocation (apippi-15260)
 * Add Alibaba Cloud Platform snitch (apippi-15092)
Merged from 3.0:
 * Fix various data directory prefix matching issues (apippi-13974)
 * Minimize clustering values in metadata collector (apippi-15400)
 * Make sure index summary redistribution does not start when compactions are paused (apippi-15265)
 * Add ability to cap max negotiable protocol version (apippi-15193)
 * Gossip tokens on startup if available (apippi-15335)
 * Fix resource leak in CompressedSequentialWriter (apippi-15340)
 * Fix bad merge that reverted apippi-14993 (apippi-15289)
 * Add support for network topology and query tracing for inJVM dtest (apippi-15319)


4.0-alpha1
 * Inaccurate exception message with nodetool snapshot (apippi-15287)
 * Fix InternodeOutboundMetrics overloaded bytes/count mixup (apippi-15186)
 * Enhance & reenable RepairTest with compression=off and compression=on (apippi-15272)
 * Improve readability of Table metrics Virtual tables units (apippi-15194)
 * Fix error with non-existent table for nodetool tablehistograms (apippi-14410)
 * Avoid result truncation in decimal operations (apippi-15232)
 * Catch non-IOException in FileUtils.close to make sure that all resources are closed (apippi-15225)
 * Align load column in nodetool status output (apippi-14787)
 * apippiNetworkAuthorizer uses cached roles info (apippi-15089)
 * Introduce optional timeouts for idle client sessions (apippi-11097)
 * Fix AlterTableStatement dropped type validation order (apippi-15203)
 * Update Netty dependencies to latest, clean up SocketFactory (apippi-15195)
 * Native Transport - Apply noSpamLogger to ConnectionLimitHandler (apippi-15167)
 * Reduce heap pressure during compactions (apippi-14654)
 * Support building apippi with JDK 11 (apippi-15108)
 * Use quilt to patch apippi.in.sh in Debian packaging (apippi-14710)
 * Take sstable references before calculating approximate key count (apippi-14647)
 * Restore snapshotting of system keyspaces on version change (apippi-14412)
 * Fix AbstractBTreePartition locking in java 11 (apippi-14607)
 * SimpleClient should pass connection properties as options (apippi-15056)
 * Set repaired data tracking flag on range reads if enabled (apippi-15019)
 * Calculate pending ranges for BOOTSTRAP_REPLACE correctly (apippi-14802)
 * Make TableCQLHelper reuse the single quote pattern (apippi-15033)
 * Add Zstd compressor (apippi-14482)
 * Fix IR prepare anti-compaction race (apippi-15027)
 * Fix SimpleStrategy option validation (apippi-15007)
 * Don't try to cancel 2i compactions when starting anticompaction (apippi-15024)
 * Avoid NPE in RepairRunnable.recordFailure (apippi-15025)
 * SSL Cert Hot Reloading should check for sanity of the new keystore/truststore before loading it (apippi-14991)
 * Avoid leaking threads when failing anticompactions and rate limit anticompactions (apippi-15002)
 * Validate token() arguments early instead of throwing NPE at execution (apippi-14989)
 * Add a new tool to dump audit logs (apippi-14885)
 * Fix generating javadoc with Java11 (apippi-14988)
 * Only cancel conflicting compactions when starting anticompactions and sub range compactions (apippi-14935)
 * Use a stub IndexRegistry for non-daemon use cases (apippi-14938)
 * Don't enable client transports when bootstrap is pending (apippi-14525)
 * Make antiCompactGroup throw exception on error and anticompaction non cancellable
   again (apippi-14936)
 * Catch empty/invalid bounds in SelectStatement (apippi-14849)
 * Auto-expand replication_factor for NetworkTopologyStrategy (apippi-14303)
 * Transient Replication: support EACH_QUORUM (apippi-14727)
 * BufferPool: allocating thread for new chunks should acquire directly (apippi-14832)
 * Send correct messaging version in internode messaging handshake's third message (apippi-14896)
 * Make Read and Write Latency columns consistent for proxyhistograms and tablehistograms (apippi-11939)
 * Make protocol checksum type option case insensitive (apippi-14716)
 * Forbid re-adding static columns as regular and vice versa (apippi-14913)
 * Audit log allows system keyspaces to be audited via configuration options (apippi-14498)
 * Lower default chunk_length_in_kb from 64kb to 16kb (apippi-13241)
 * Startup checker should wait for count rather than percentage (apippi-14297)
 * Fix incorrect sorting of replicas in SimpleStrategy.calculateNaturalReplicas (apippi-14862)
 * Partitioned outbound internode TCP connections can occur when nodes restart (apippi-14358)
 * Don't write to system_distributed.repair_history, system_traces.sessions, system_traces.events in mixed version 3.X/4.0 clusters (apippi-14841)
 * Avoid running query to self through messaging service (apippi-14807)
 * Allow using custom script for chronicle queue BinLog archival (apippi-14373)
 * Transient->Full range movements mishandle consistency level upgrade (apippi-14759)
 * ReplicaCollection follow-up (apippi-14726)
 * Transient node receives full data requests (apippi-14762)
 * Enable snapshot artifacts publish (apippi-12704)
 * Introduce RangesAtEndpoint.unwrap to simplify StreamSession.addTransferRanges (apippi-14770)
 * LOCAL_QUORUM may speculate to non-local nodes, resulting in Timeout instead of Unavailable (apippi-14735)
 * Avoid creating empty compaction tasks after truncate (apippi-14780)
 * Fail incremental repair prepare phase if it encounters sstables from un-finalized sessions (apippi-14763)
 * Add a check for receiving digest response from transient node (apippi-14750)
 * Fail query on transient replica if coordinator only expects full data (apippi-14704)
 * Remove mentions of transient replication from repair path (apippi-14698)
 * Fix handleRepairStatusChangedNotification to remove first then add (apippi-14720)
 * Allow transient node to serve as a repair coordinator (apippi-14693)
 * DecayingEstimatedHistogramReservoir.EstimatedHistogramReservoirSnapshot returns wrong value for size() and incorrectly calculates count (apippi-14696)
 * AbstractReplicaCollection equals and hash code should throw due to conflict between order sensitive/insensitive uses (apippi-14700)
 * Detect inconsistencies in repaired data on the read path (apippi-14145)
 * Add checksumming to the native protocol (apippi-13304)
 * Make AuthCache more easily extendable (apippi-14662)
 * Extend RolesCache to include detailed role info (apippi-14497)
 * Add fqltool compare (apippi-14619)
 * Add fqltool replay (apippi-14618)
 * Log keyspace in full query log (apippi-14656)
 * Transient Replication and Cheap Quorums (apippi-14404)
 * Log server-generated timestamp and nowInSeconds used by queries in FQL (apippi-14675)
 * Add diagnostic events for read repairs (apippi-14668)
 * Use consistent nowInSeconds and timestamps values within a request (apippi-14671)
 * Add sampler for query time and expose with nodetool (apippi-14436)
 * Clean up Message.Request implementations (apippi-14677)
 * Disable old native protocol versions on demand (CASANDRA-14659)
 * Allow specifying now-in-seconds in native protocol (apippi-14664)
 * Improve BTree build performance by avoiding data copy (apippi-9989)
 * Make monotonic read / read repair configurable (apippi-14635)
 * Refactor CompactionStrategyManager (apippi-14621)
 * Flush netty client messages immediately by default (apippi-13651)
 * Improve read repair blocking behavior (apippi-10726)
 * Add a virtual table to expose settings (apippi-14573)
 * Fix up chunk cache handling of metrics (apippi-14628)
 * Extend IAuthenticator to accept peer SSL certificates (apippi-14652)
 * Incomplete handling of exceptions when decoding incoming messages (apippi-14574)
 * Add diagnostic events for user audit logging (apippi-13668)
 * Allow retrieving diagnostic events via JMX (apippi-14435)
 * Add base classes for diagnostic events (apippi-13457)
 * Clear view system metadata when dropping keyspace (apippi-14646)
 * Allocate ReentrantLock on-demand in java11 AtomicBTreePartitionerBase (apippi-14637)
 * Make all existing virtual tables use LocalPartitioner (apippi-14640)
 * Revert 4.0 GC alg back to CMS (CASANDRA-14636)
 * Remove hardcoded java11 jvm args in idea workspace files (apippi-14627)
 * Update netty to 4.1.128 (apippi-14633)
 * Add a virtual table to expose thread pools (apippi-14523)
 * Add a virtual table to expose caches (apippi-14538, apippi-14626)
 * Fix toDate function for timestamp arguments (apippi-14502)
 * Stream entire SSTables when possible (apippi-14556)
 * Cell reconciliation should not depend on nowInSec (apippi-14592)
 * Add experimental support for Java 11 (apippi-9608)
 * Make PeriodicCommitLogService.blockWhenSyncLagsNanos configurable (apippi-14580)
 * Improve logging in MessageInHandler's constructor (apippi-14576)
 * Set broadcast address in internode messaging handshake (apippi-14579)
 * Wait for schema agreement prior to building MVs (apippi-14571)
 * Make all DDL statements idempotent and not dependent on global state (apippi-13426)
 * Bump the hints messaging version to match the current one (apippi-14536)
 * OffsetAwareConfigurationLoader doesn't set ssl storage port causing bind errors in CircleCI (apippi-14546)
 * Report why native_transport_port fails to bind (apippi-14544)
 * Optimize internode messaging protocol (apippi-14485)
 * Internode messaging handshake sends wrong messaging version number (apippi-14540)
 * Add a virtual table to expose active client connections (apippi-14458)
 * Clean up and refactor client metrics (apippi-14524)
 * Nodetool import row cache invalidation races with adding sstables to tracker (apippi-14529)
 * Fix assertions in LWTs after TableMetadata was made immutable (apippi-14356)
 * Abort compactions quicker (apippi-14397)
 * Support light-weight transactions in apippi-stress (apippi-13529)
 * Make AsyncOneResponse use the correct timeout (apippi-14509)
 * Add option to sanity check tombstones on reads/compactions (apippi-14467)
 * Add a virtual table to expose all running sstable tasks (apippi-14457)
 * Let nodetool import take a list of directories (apippi-14442)
 * Avoid unneeded memory allocations / cpu for disabled log levels (apippi-14488)
 * Implement virtual keyspace interface (apippi-7622)
 * nodetool import cleanup and improvements (apippi-14417)
 * Bump jackson version to >= 2.9.5 (apippi-14427)
 * Allow nodetool toppartitions without specifying table (apippi-14360)
 * Audit logging for database activity (apippi-12151)
 * Clean up build artifacts in docs container (apippi-14432)
 * Minor network authz improvements (apippi-14413)
 * Automatic sstable upgrades (apippi-14197)
 * Replace deprecated junit.framework.Assert usages with org.junit.Assert (apippi-14431)
 * apippi-stress throws NPE if insert section isn't specified in user profile (CASSSANDRA-14426)
 * List clients by protocol versions `nodetool clientstats --by-protocol` (apippi-14335)
 * Improve LatencyMetrics performance by reducing write path processing (apippi-14281)
 * Add network authz (apippi-13985)
 * Use the correct IP/Port for Streaming when localAddress is left unbound (apippi-14389)
 * nodetool listsnapshots is missing local system keyspace snapshots (apippi-14381)
 * Remove StreamCoordinator.streamExecutor thread pool (apippi-14402)
 * Rename nodetool --with-port to --print-port to disambiguate from --port (apippi-14392)
 * Client TOPOLOGY_CHANGE messages have wrong port. (apippi-14398)
 * Add ability to load new SSTables from a separate directory (apippi-6719)
 * Eliminate background repair and probablistic read_repair_chance table options
   (apippi-13910)
 * Bind to correct local address in 4.0 streaming (apippi-14362)
 * Use standard Amazon naming for datacenter and rack in Ec2Snitch (apippi-7839)
 * Abstract write path for pluggable storage (apippi-14118)
 * nodetool describecluster should be more informative (apippi-13853)
 * Compaction performance improvements (apippi-14261)
 * Refactor Pair usage to avoid boxing ints/longs (apippi-14260)
 * Add options to nodetool tablestats to sort and limit output (apippi-13889)
 * Rename internals to reflect CQL vocabulary (apippi-14354)
 * Add support for hybrid MIN(), MAX() speculative retry policies
   (apippi-14293, apippi-14338, apippi-14352)
 * Fix some regressions caused by 14058 (apippi-14353)
 * Abstract repair for pluggable storage (apippi-14116)
 * Add meaningful toString() impls (apippi-13653)
 * Add sstableloader option to accept target keyspace name (apippi-13884)
 * Move processing of EchoMessage response to gossip stage (apippi-13713)
 * Add coordinator write metric per CF (apippi-14232)
 * Correct and clarify SSLFactory.getSslContext method and call sites (apippi-14314)
 * Handle static and partition deletion properly on ThrottledUnfilteredIterator (apippi-14315)
 * NodeTool clientstats should show SSL Cipher (apippi-14322)
 * Add ability to specify driver name and version (apippi-14275)
 * Abstract streaming for pluggable storage (apippi-14115)
 * Forced incremental repairs should promote sstables if they can (apippi-14294)
 * Use Murmur3 for validation compactions (apippi-14002)
 * Comma at the end of the seed list is interpretated as localhost (apippi-14285)
 * Refactor read executor and response resolver, abstract read repair (apippi-14058)
 * Add optional startup delay to wait until peers are ready (apippi-13993)
 * Add a few options to nodetool verify (apippi-14201)
 * CVE-2017-5929 Security vulnerability and redefine default log rotation policy (apippi-14183)
 * Use JVM default SSL validation algorithm instead of custom default (apippi-13259)
 * Better document in code InetAddressAndPort usage post 7544, incorporate port into UUIDGen node (apippi-14226)
 * Fix sstablemetadata date string for minLocalDeletionTime (apippi-14132)
 * Make it possible to change neverPurgeTombstones during runtime (apippi-14214)
 * Remove GossipDigestSynVerbHandler#doSort() (apippi-14174)
 * Add nodetool clientlist (apippi-13665)
 * Revert ProtocolVersion changes from apippi-7544 (apippi-14211)
 * Non-disruptive seed node list reload (apippi-14190)
 * Nodetool tablehistograms to print statics for all the tables (apippi-14185)
 * Migrate dtests to use pytest and python3 (apippi-14134)
 * Allow storage port to be configurable per node (apippi-7544)
 * Make sub-range selection for non-frozen collections return null instead of empty (apippi-14182)
 * BloomFilter serialization format should not change byte ordering (apippi-9067)
 * Remove unused on-heap BloomFilter implementation (apippi-14152)
 * Delete temp test files on exit (apippi-14153)
 * Make PartitionUpdate and Mutation immutable (apippi-13867)
 * Fix CommitLogReplayer exception for CDC data (apippi-14066)
 * Fix apippi-stress startup failure (apippi-14106)
 * Remove initialDirectories from CFS (apippi-13928)
 * Fix trivial log format error (apippi-14015)
 * Allow sstabledump to do a json object per partition (apippi-13848)
 * Add option to optimise merkle tree comparison across replicas (apippi-3200)
 * Remove unused and deprecated methods from AbstractCompactionStrategy (apippi-14081)
 * Fix Distribution.average in apippi-stress (apippi-14090)
 * Support a means of logging all queries as they were invoked (apippi-13983)
 * Presize collections (apippi-13760)
 * Add GroupCommitLogService (apippi-13530)
 * Parallelize initial materialized view build (apippi-12245)
 * Make LWTs send resultset metadata on every request (apippi-13992)
 * Fix flaky indexWithFailedInitializationIsNotQueryableAfterPartialRebuild (apippi-13963)
 * Introduce leaf-only iterator (apippi-9988)
 * Upgrade Guava to 23.3 and Airline to 0.8 (apippi-13997)
 * Allow only one concurrent call to StatusLogger (apippi-12182)
 * Refactoring to specialised functional interfaces (apippi-13982)
 * Speculative retry should allow more friendly params (apippi-13876)
 * Throw exception if we send/receive repair messages to incompatible nodes (apippi-13944)
 * Replace usages of MessageDigest with Guava's Hasher (apippi-13291)
 * Add nodetool cmd to print hinted handoff window (apippi-13728)
 * Fix some alerts raised by static analysis (apippi-13799)
 * Checksum sstable metadata (apippi-13321, apippi-13593)
 * Add result set metadata to prepared statement MD5 hash calculation (apippi-10786)
 * Refactor GcCompactionTest to avoid boxing (apippi-13941)
 * Expose recent histograms in JmxHistograms (apippi-13642)
 * Fix buffer length comparison when decompressing in netty-based streaming (apippi-13899)
 * Properly close StreamCompressionInputStream to release any ByteBuf (apippi-13906)
 * Add SERIAL and LOCAL_SERIAL support for apippi-stress (apippi-13925)
 * LCS needlessly checks for L0 STCS candidates multiple times (apippi-12961)
 * Correctly close netty channels when a stream session ends (apippi-13905)
 * Update lz4 to 1.4.0 (apippi-13741)
 * Optimize Paxos prepare and propose stage for local requests (apippi-13862)
 * Throttle base partitions during MV repair streaming to prevent OOM (apippi-13299)
 * Use compaction threshold for STCS in L0 (apippi-13861)
 * Fix problem with min_compress_ratio: 1 and disallow ratio < 1 (apippi-13703)
 * Add extra information to SASI timeout exception (apippi-13677)
 * Add incremental repair support for --hosts, --force, and subrange repair (apippi-13818)
 * Rework CompactionStrategyManager.getScanners synchronization (apippi-13786)
 * Add additional unit tests for batch behavior, TTLs, Timestamps (apippi-13846)
 * Add keyspace and table name in schema validation exception (apippi-13845)
 * Emit metrics whenever we hit tombstone failures and warn thresholds (apippi-13771)
 * Make netty EventLoopGroups daemon threads (apippi-13837)
 * Race condition when closing stream sessions (apippi-13852)
 * NettyFactoryTest is failing in trunk on macOS (apippi-13831)
 * Allow changing log levels via nodetool for related classes (apippi-12696)
 * Add stress profile yaml with LWT (apippi-7960)
 * Reduce memory copies and object creations when acting on ByteBufs (apippi-13789)
 * Simplify mx4j configuration (apippi-13578)
 * Fix trigger example on 4.0 (apippi-13796)
 * Force minumum timeout value (apippi-9375)
 * Use netty for streaming (apippi-12229)
 * Use netty for internode messaging (apippi-8457)
 * Add bytes repaired/unrepaired to nodetool tablestats (apippi-13774)
 * Don't delete incremental repair sessions if they still have sstables (apippi-13758)
 * Fix pending repair manager index out of bounds check (apippi-13769)
 * Don't use RangeFetchMapCalculator when RF=1 (apippi-13576)
 * Don't optimise trivial ranges in RangeFetchMapCalculator (apippi-13664)
 * Use an ExecutorService for repair commands instead of new Thread(..).start() (apippi-13594)
 * Fix race / ref leak in anticompaction (apippi-13688)
 * Expose tasks queue length via JMX (apippi-12758)
 * Fix race / ref leak in PendingRepairManager (apippi-13751)
 * Enable ppc64le runtime as unsupported architecture (apippi-13615)
 * Improve sstablemetadata output (apippi-11483)
 * Support for migrating legacy users to roles has been dropped (apippi-13371)
 * Introduce error metrics for repair (apippi-13387)
 * Refactoring to primitive functional interfaces in AuthCache (apippi-13732)
 * Update metrics to 3.1.5 (apippi-13648)
 * batch_size_warn_threshold_in_kb can now be set at runtime (apippi-13699)
 * Avoid always rebuilding secondary indexes at startup (apippi-13725)
 * Upgrade JMH from 1.13 to 1.19 (apippi-13727)
 * Upgrade SLF4J from 1.7.7 to 1.7.25 (apippi-12996)
 * Default for start_native_transport now true if not set in config (apippi-13656)
 * Don't add localhost to the graph when calculating where to stream from (apippi-13583)
 * Make CDC availability more deterministic via hard-linking (apippi-12148)
 * Allow skipping equality-restricted clustering columns in ORDER BY clause (apippi-10271)
 * Use common nowInSec for validation compactions (apippi-13671)
 * Improve handling of IR prepare failures (apippi-13672)
 * Send IR coordinator messages synchronously (apippi-13673)
 * Flush system.repair table before IR finalize promise (apippi-13660)
 * Fix column filter creation for wildcard queries (apippi-13650)
 * Add 'nodetool getbatchlogreplaythrottle' and 'nodetool setbatchlogreplaythrottle' (apippi-13614)
 * fix race condition in PendingRepairManager (apippi-13659)
 * Allow noop incremental repair state transitions (apippi-13658)
 * Run repair with down replicas (apippi-10446)
 * Added started & completed repair metrics (apippi-13598)
 * Added started & completed repair metrics (apippi-13598)
 * Improve secondary index (re)build failure and concurrency handling (apippi-10130)
 * Improve calculation of available disk space for compaction (apippi-13068)
 * Change the accessibility of RowCacheSerializer for third party row cache plugins (apippi-13579)
 * Allow sub-range repairs for a preview of repaired data (apippi-13570)
 * NPE in IR cleanup when columnfamily has no sstables (apippi-13585)
 * Fix Randomness of stress values (apippi-12744)
 * Allow selecting Map values and Set elements (apippi-7396)
 * Fast and garbage-free Streaming Histogram (apippi-13444)
 * Update repairTime for keyspaces on completion (apippi-13539)
 * Add configurable upper bound for validation executor threads (apippi-13521)
 * Bring back maxHintTTL propery (apippi-12982)
 * Add testing guidelines (apippi-13497)
 * Add more repair metrics (apippi-13531)
 * RangeStreamer should be smarter when picking endpoints for streaming (apippi-4650)
 * Avoid rewrapping an exception thrown for cache load functions (apippi-13367)
 * Log time elapsed for each incremental repair phase (apippi-13498)
 * Add multiple table operation support to apippi-stress (apippi-8780)
 * Fix incorrect cqlsh results when selecting same columns multiple times (apippi-13262)
 * Fix WriteResponseHandlerTest is sensitive to test execution order (apippi-13421)
 * Improve incremental repair logging (apippi-13468)
 * Start compaction when incremental repair finishes (apippi-13454)
 * Add repair streaming preview (apippi-13257)
 * Cleanup isIncremental/repairedAt usage (apippi-13430)
 * Change protocol to allow sending key space independent of query string (apippi-10145)
 * Make gc_log and gc_warn settable at runtime (apippi-12661)
 * Take number of files in L0 in account when estimating remaining compaction tasks (apippi-13354)
 * Skip building views during base table streams on range movements (apippi-13065)
 * Improve error messages for +/- operations on maps and tuples (apippi-13197)
 * Remove deprecated repair JMX APIs (apippi-11530)
 * Fix version check to enable streaming keep-alive (apippi-12929)
 * Make it possible to monitor an ideal consistency level separate from actual consistency level (apippi-13289)
 * Outbound TCP connections ignore internode authenticator (apippi-13324)
 * Cleanup ParentRepairSession after repairs (apippi-13359)
 * Upgrade snappy-java to 1.1.2.6 (apippi-13336)
 * Incremental repair not streaming correct sstables (apippi-13328)
 * Upgrade the jna version to 4.3.0 (apippi-13300)
 * Add the currentTimestamp, currentDate, currentTime and currentTimeUUID functions (apippi-13132)
 * Remove config option index_interval (apippi-10671)
 * Reduce lock contention for collection types and serializers (apippi-13271)
 * Make it possible to override MessagingService.Verb ids (apippi-13283)
 * Avoid synchronized on prepareForRepair in ActiveRepairService (apippi-9292)
 * Adds the ability to use uncompressed chunks in compressed files (apippi-10520)
 * Don't flush sstables when streaming for incremental repair (apippi-13226)
 * Remove unused method (apippi-13227)
 * Fix minor bugs related to #9143 (apippi-13217)
 * Output warning if user increases RF (apippi-13079)
 * Remove pre-3.0 streaming compatibility code for 4.0 (apippi-13081)
 * Add support for + and - operations on dates (apippi-11936)
 * Fix consistency of incrementally repaired data (apippi-9143)
 * Increase commitlog version (apippi-13161)
 * Make TableMetadata immutable, optimize Schema (apippi-9425)
 * Refactor ColumnCondition (apippi-12981)
 * Parallelize streaming of different keyspaces (apippi-4663)
 * Improved compactions metrics (apippi-13015)
 * Speed-up start-up sequence by avoiding un-needed flushes (apippi-13031)
 * Use Caffeine (W-TinyLFU) for on-heap caches (apippi-10855)
 * Thrift removal (apippi-11115)
 * Remove pre-3.0 compatibility code for 4.0 (apippi-12716)
 * Add column definition kind to dropped columns in schema (apippi-12705)
 * Add (automate) Nodetool Documentation (apippi-12672)
 * Update bundled cqlsh python driver to 3.7.0 (apippi-12736)
 * Reject invalid replication settings when creating or altering a keyspace (apippi-12681)
 * Clean up the SSTableReader#getScanner API wrt removal of RateLimiter (apippi-12422)
 * Use new token allocation for non bootstrap case as well (apippi-13080)
 * Avoid byte-array copy when key cache is disabled (apippi-13084)
 * Require forceful decommission if number of nodes is less than replication factor (apippi-12510)
 * Allow IN restrictions on column families with collections (apippi-12654)
 * Log message size in trace message in OutboundTcpConnection (apippi-13028)
 * Add timeUnit Days for apippi-stress (apippi-13029)
 * Add mutation size and batch metrics (apippi-12649)
 * Add method to get size of endpoints to TokenMetadata (apippi-12999)
 * Expose time spent waiting in thread pool queue (apippi-8398)
 * Conditionally update index built status to avoid unnecessary flushes (apippi-12969)
 * cqlsh auto completion: refactor definition of compaction strategy options (apippi-12946)
 * Add support for arithmetic operators (apippi-11935)
 * Add histogram for delay to deliver hints (apippi-13234)
 * Fix cqlsh automatic protocol downgrade regression (apippi-13307)
 * Changing `max_hint_window_in_ms` at runtime (apippi-11720)
 * Trivial format error in StorageProxy (apippi-13551)
 * Nodetool repair can hang forever if we lose the notification for the repair completing/failing (apippi-13480)
 * Anticompaction can cause noisy log messages (apippi-13684)
 * Switch to client init for sstabledump (apippi-13683)
 * CQLSH: Don't pause when capturing data (apippi-13743)
 * nodetool clearsnapshot requires --all to clear all snapshots (apippi-13391)
 * Correctly count range tombstones in traces and tombstone thresholds (apippi-8527)
 * cqlshrc.sample uses incorrect option for time formatting (apippi-14243)
 * Multi-version in-JVM dtests (apippi-14937)
 * Allow instance class loaders to be garbage collected for inJVM dtest (apippi-15170)

3.11.6
 * Fix bad UDT sstable metadata serialization headers written by C* 3.0 on upgrade and in sstablescrub (apippi-15035)
 * Fix nodetool compactionstats showing extra pending task for TWCS - patch implemented (apippi-15409)
 * Fix SELECT JSON formatting for the "duration" type (apippi-15075)
 * Fix LegacyLayout to have same behavior as 2.x when handling unknown column names (apippi-15081)
 * Update nodetool help stop output (apippi-15401)
Merged from 3.0:
 * Run in-jvm upgrade dtests in circleci (apippi-15506)
 * Include updates to static column in mutation size calculations (apippi-15293)
 * Fix point-in-time recoevery ignoring timestamp of updates to static columns (apippi-15292)
 * GC logs are also put under $apippi_LOG_DIR (apippi-14306)
 * Fix sstabledump's position key value when partitions have multiple rows (apippi-14721)
 * Avoid over-scanning data directories in LogFile.verify() (apippi-15364)
 * Bump generations and document changes to system_distributed and system_traces in 3.0, 3.11
   (apippi-15441)
 * Fix system_traces creation timestamp; optimise system keyspace upgrades (apippi-15398)
 * Fix various data directory prefix matching issues (apippi-13974)
 * Minimize clustering values in metadata collector (apippi-15400)
 * Avoid over-trimming of results in mixed mode clusters (apippi-15405)
 * validate value sizes in LegacyLayout (apippi-15373)
 * Ensure that tracing doesn't break connections in 3.x/4.0 mixed mode by default (apippi-15385)
 * Make sure index summary redistribution does not start when compactions are paused (apippi-15265)
 * Ensure legacy rows have primary key livenessinfo when they contain illegal cells (apippi-15365)
 * Fix race condition when setting bootstrap flags (apippi-14878)
Merged from 2.2:
 * Fix SELECT JSON output for empty blobs (apippi-15435)
 * In-JVM DTest: Set correct internode message version for upgrade test (apippi-15371)
 * In-JVM DTest: Support NodeTool in dtest (apippi-15429)
 * Fix NativeLibrary.tryOpenDirectory callers for Windows (apippi-15426)

3.11.5
 * Fix apippi-env.sh to use $apippi_CONF to find apippi-jaas.config (apippi-14305)
 * Fixed nodetool cfstats printing index name twice (apippi-14903)
 * Add flag to disable SASI indexes, and warnings on creation (apippi-14866)
Merged from 3.0:
 * Fix LegacyLayout RangeTombstoneList IndexOutOfBoundsException when upgrading and RangeTombstone bounds are asymmetric (apippi-15172)
 * Fix NPE when using allocate_tokens_for_keyspace on new DC/rack (apippi-14952)
 * Filter sstables earlier when running cleanup (apippi-15100)
 * Use mean row count instead of mean column count for index selectivity calculation (apippi-15259)
 * Avoid updating unchanged gossip states (apippi-15097)
 * Prevent recreation of previously dropped columns with a different kind (apippi-14948)
 * Prevent client requests from blocking on executor task queue (apippi-15013)
 * Toughen up column drop/recreate type validations (apippi-15204)
 * LegacyLayout should handle paging states that cross a collection column (apippi-15201)
 * Prevent RuntimeException when username or password is empty/null (apippi-15198)
 * Multiget thrift query returns null records after digest mismatch (apippi-14812)
 * Handle paging states serialized with a different version than the session's (apippi-15176)
 * Throw IOE instead of asserting on unsupporter peer versions (apippi-15066)
 * Update token metadata when handling MOVING/REMOVING_TOKEN events (apippi-15120)
 * Add ability to customize apippi log directory using $apippi_LOG_DIR (apippi-15090)
 * Fix assorted gossip races and add related runtime checks (apippi-15059)
 * apippi-stress works with frozen collections: list and set (apippi-14907)
 * Fix handling FS errors on writing and reading flat files - LogTransaction and hints (apippi-15053)
 * Avoid double closing the iterator to avoid overcounting the number of requests (apippi-15058)
 * Improve `nodetool status -r` speed (apippi-14847)
 * Improve merkle tree size and time on heap (apippi-14096)
 * Add missing commands to nodetool_completion (apippi-14916)
 * Anti-compaction temporarily corrupts sstable state for readers (apippi-15004)
Merged from 2.2:
 * Handle exceptions during authentication/authorization (apippi-15041)
 * Support cross version messaging in in-jvm upgrade dtests (apippi-15078)
 * Fix index summary redistribution cancellation (apippi-15045)
 * Refactor Circle CI configuration (apippi-14806)
 * Fixing invalid CQL in security documentation (apippi-15020)


3.11.4
 * Make stop-server.bat wait for apippi to terminate (apippi-14829)
 * Correct sstable sorting for garbagecollect and levelled compaction (apippi-14870)
Merged from 3.0:
 * Improve merkle tree size and time on heap (apippi-14096)
 * Severe concurrency issues in STCS,DTCS,TWCS,TMD.Topology,TypeParser
 * Add a script to make running the cqlsh tests in apippi repo easier (apippi-14951)
 * If SizeEstimatesRecorder misses a 'onDropTable' notification, the size_estimates table will never be cleared for that table. (apippi-14905)
 * Streaming needs to synchronise access to LifecycleTransaction (apippi-14554)
 * Fix apippi-stress write hang with default options (apippi-14616)
 * Netty epoll IOExceptions caused by unclean client disconnects being logged at INFO (apippi-14909)
 * Unfiltered.isEmpty conflicts with Row extends AbstractCollection.isEmpty (apippi-14588)
 * RangeTombstoneList doesn't properly clean up mergeable or superseded rts in some cases (apippi-14894)
 * Fix handling of collection tombstones for dropped columns from legacy sstables (apippi-14912)
 * Throw exception if Columns serialized subset encode more columns than possible (apippi-14591)
 * Drop/add column name with different Kind can result in corruption (apippi-14843)
 * Fix missing rows when reading 2.1 SSTables with static columns in 3.0 (apippi-14873)
 * Move TWCS message 'No compaction necessary for bucket size' to Trace level (apippi-14884)
 * Sstable min/max metadata can cause data loss (apippi-14861)
 * Dropped columns can cause reverse sstable iteration to return prematurely (apippi-14838)
 * Legacy sstables with  multi block range tombstones create invalid bound sequences (apippi-14823)
 * Expand range tombstone validation checks to multiple interim request stages (apippi-14824)
 * Reverse order reads can return incomplete results (apippi-14803)
 * Avoid calling iter.next() in a loop when notifying indexers about range tombstones (apippi-14794)
 * Fix purging semi-expired RT boundaries in reversed iterators (apippi-14672)
 * DESC order reads can fail to return the last Unfiltered in the partition (apippi-14766)
 * Fix corrupted collection deletions for dropped columns in 3.0 <-> 2.{1,2} messages (apippi-14568)
 * Fix corrupted static collection deletions in 3.0 <-> 2.{1,2} messages (apippi-14568)
 * Handle failures in parallelAllSSTableOperation (cleanup/upgradesstables/etc) (apippi-14657)
 * Improve TokenMetaData cache populating performance avoid long locking (apippi-14660)
 * Backport: Flush netty client messages immediately (not by default) (apippi-13651)
 * Fix static column order for SELECT * wildcard queries (apippi-14638)
 * sstableloader should use discovered broadcast address to connect intra-cluster (apippi-14522)
 * Fix reading columns with non-UTF names from schema (apippi-14468)
Merged from 2.2:
 * CircleCI docker image should bake in more dependencies (apippi-14985)
 * MigrationManager attempts to pull schema from different major version nodes (apippi-14928)
 * Returns null instead of NaN or Infinity in JSON strings (apippi-14377)
Merged from 2.1:
 * Paged Range Slice queries with DISTINCT can drop rows from results (apippi-14956)
 * Update release checksum algorithms to SHA-256, SHA-512 (apippi-14970)


3.11.3
 * Validate supported column type with SASI analyzer (apippi-13669)
 * Remove BTree.Builder Recycler to reduce memory usage (apippi-13929)
 * Reduce nodetool GC thread count (apippi-14475)
 * Fix New SASI view creation during Index Redistribution (apippi-14055)
 * Remove string formatting lines from BufferPool hot path (apippi-14416)
 * Detect OpenJDK jvm type and architecture (apippi-12793)
 * Don't use guava collections in the non-system keyspace jmx attributes (apippi-12271)
 * Allow existing nodes to use all peers in shadow round (apippi-13851)
 * Fix cqlsh to read connection.ssl cqlshrc option again (apippi-14299)
 * Downgrade log level to trace for CommitLogSegmentManager (apippi-14370)
 * CQL fromJson(null) throws NullPointerException (apippi-13891)
 * Serialize empty buffer as empty string for json output format (apippi-14245)
 * Allow logging implementation to be interchanged for embedded testing (apippi-13396)
 * SASI tokenizer for simple delimiter based entries (apippi-14247)
 * Fix Loss of digits when doing CAST from varint/bigint to decimal (apippi-14170)
 * RateBasedBackPressure unnecessarily invokes a lock on the Guava RateLimiter (apippi-14163)
 * Fix wildcard GROUP BY queries (apippi-14209)
Merged from 3.0:
 * Fix corrupted static collection deletions in 3.0 -> 2.{1,2} messages (apippi-14568)
 * Fix potential IndexOutOfBoundsException with counters (apippi-14167)
 * Always close RT markers returned by ReadCommand#executeLocally() (apippi-14515)
 * Reverse order queries with range tombstones can cause data loss (apippi-14513)
 * Fix regression of lagging commitlog flush log message (apippi-14451)
 * Add Missing dependencies in pom-all (apippi-14422)
 * Cleanup StartupClusterConnectivityChecker and PING Verb (apippi-14447)
 * apippi not starting when using enhanced startup scripts in windows (apippi-14418)
 * Fix progress stats and units in compactionstats (apippi-12244)
 * Better handle missing partition columns in system_schema.columns (apippi-14379)
 * Delay hints store excise by write timeout to avoid race with decommission (apippi-13740)
 * Add missed CQL keywords to documentation (apippi-14359)
 * Fix unbounded validation compactions on repair / revert apippi-13797 (apippi-14332)
 * Avoid deadlock when running nodetool refresh before node is fully up (apippi-14310)
 * Handle all exceptions when opening sstables (apippi-14202)
 * Handle incompletely written hint descriptors during startup (apippi-14080)
 * Handle repeat open bound from SRP in read repair (apippi-14330)
 * Use zero as default score in DynamicEndpointSnitch (apippi-14252)
 * Respect max hint window when hinting for LWT (apippi-14215)
 * Adding missing WriteType enum values to v3, v4, and v5 spec (apippi-13697)
 * Don't regenerate bloomfilter and summaries on startup (apippi-11163)
 * Fix NPE when performing comparison against a null frozen in LWT (apippi-14087)
 * Log when SSTables are deleted (apippi-14302)
 * Fix batch commitlog sync regression (apippi-14292)
 * Write to pending endpoint when view replica is also base replica (apippi-14251)
 * Chain commit log marker potential performance regression in batch commit mode (apippi-14194)
 * Fully utilise specified compaction threads (apippi-14210)
 * Pre-create deletion log records to finish compactions quicker (apippi-12763)
Merged from 2.2:
 * Fix compaction failure caused by reading un-flushed data (apippi-12743)
 * Use Bounds instead of Range for sstables in anticompaction (apippi-14411)
 * Fix JSON queries with IN restrictions and ORDER BY clause (apippi-14286)
 * CQL fromJson(null) throws NullPointerException (apippi-13891)
Merged from 2.1:
 * Check checksum before decompressing data (apippi-14284)


3.11.2
 * Fix ReadCommandTest (apippi-14234)
 * Remove trailing period from latency reports at keyspace level (apippi-14233)
 * Backport apippi-13080: Use new token allocation for non bootstrap case as well (apippi-14212)
 * Remove dependencies on JVM internal classes from JMXServerUtils (apippi-14173)
 * Add DEFAULT, UNSET, MBEAN and MBEANS to `ReservedKeywords` (apippi-14205)
 * Print correct snitch info from nodetool describecluster (apippi-13528)
 * Enable CDC unittest (apippi-14141)
 * Acquire read lock before accessing CompactionStrategyManager fields (apippi-14139)
 * Avoid invalidating disk boundaries unnecessarily (apippi-14083)
 * Avoid exposing compaction strategy index externally (apippi-14082)
 * Fix imbalanced disks when replacing node with same address with JBOD (apippi-14084)
 * Reload compaction strategies when disk boundaries are invalidated (apippi-13948)
 * Remove OpenJDK log warning (apippi-13916)
 * Prevent compaction strategies from looping indefinitely (apippi-14079)
 * Cache disk boundaries (apippi-13215)
 * Add asm jar to build.xml for maven builds (apippi-11193)
 * Round buffer size to powers of 2 for the chunk cache (apippi-13897)
 * Update jackson JSON jars (apippi-13949)
 * Avoid locks when checking LCS fanout and if we should defrag (apippi-13930)
Merged from 3.0:
 * Fix unit test failures in ViewComplexTest (apippi-14219)
 * Add MinGW uname check to start scripts (apippi-12840)
 * Use the correct digest file and reload sstable metadata in nodetool verify (apippi-14217)
 * Handle failure when mutating repaired status in Verifier (apippi-13933)
 * Set encoding for javadoc generation (apippi-14154)
 * Fix index target computation for dense composite tables with dropped compact storage (apippi-14104)
 * Improve commit log chain marker updating (apippi-14108)
 * Extra range tombstone bound creates double rows (apippi-14008)
 * Fix SStable ordering by max timestamp in SinglePartitionReadCommand (apippi-14010)
 * Accept role names containing forward-slash (apippi-14088)
 * Optimize CRC check chance probability calculations (apippi-14094)
 * Fix cleanup on keyspace with no replicas (apippi-13526)
 * Fix updating base table rows with TTL not removing materialized view entries (apippi-14071)
 * Reduce garbage created by DynamicSnitch (apippi-14091)
 * More frequent commitlog chained markers (apippi-13987)
 * Fix serialized size of DataLimits (apippi-14057)
 * Add flag to allow dropping oversized read repair mutations (apippi-13975)
 * Fix SSTableLoader logger message (apippi-14003)
 * Fix repair race that caused gossip to block (apippi-13849)
 * Tracing interferes with digest requests when using RandomPartitioner (apippi-13964)
 * Add flag to disable materialized views, and warnings on creation (apippi-13959)
 * Don't let user drop or generally break tables in system_distributed (apippi-13813)
 * Provide a JMX call to sync schema with local storage (apippi-13954)
 * Mishandling of cells for removed/dropped columns when reading legacy files (apippi-13939)
 * Deserialise sstable metadata in nodetool verify (apippi-13922)
Merged from 2.2:
 * Fix the inspectJvmOptions startup check (apippi-14112)
 * Fix race that prevents submitting compaction for a table when executor is full (apippi-13801)
 * Rely on the JVM to handle OutOfMemoryErrors (apippi-13006)
 * Grab refs during scrub/index redistribution/cleanup (apippi-13873)
Merged from 2.1:
 * Protect against overflow of local expiration time (apippi-14092)
 * RPM package spec: fix permissions for installed jars and config files (apippi-14181)
 * More PEP8 compliance for cqlsh


3.11.1
 * Fix the computation of cdc_total_space_in_mb for exabyte filesystems (apippi-13808)
 * AbstractTokenTreeBuilder#serializedSize returns wrong value when there is a single leaf and overflow collisions (apippi-13869)
 * Add a compaction option to TWCS to ignore sstables overlapping checks (apippi-13418)
 * BTree.Builder memory leak (apippi-13754)
 * Revert apippi-10368 of supporting non-pk column filtering due to correctness (apippi-13798)
 * Add a skip read validation flag to apippi-stress (apippi-13772)
 * Fix apippi-stress hang issues when an error during cluster connection happens (apippi-12938)
 * Better bootstrap failure message when blocked by (potential) range movement (apippi-13744)
 * "ignore" option is ignored in sstableloader (apippi-13721)
 * Deadlock in AbstractCommitLogSegmentManager (apippi-13652)
 * Duplicate the buffer before passing it to analyser in SASI operation (apippi-13512)
 * Properly evict pstmts from prepared statements cache (apippi-13641)
Merged from 3.0:
 * Improve TRUNCATE performance (apippi-13909)
 * Implement short read protection on partition boundaries (apippi-13595)
 * Fix ISE thrown by UPI.Serializer.hasNext() for some SELECT queries (apippi-13911)
 * Filter header only commit logs before recovery (apippi-13918)
 * AssertionError prepending to a list (apippi-13149)
 * Fix support for SuperColumn tables (apippi-12373)
 * Handle limit correctly on tables with strict liveness (apippi-13883)
 * Fix missing original update in TriggerExecutor (apippi-13894)
 * Remove non-rpc-ready nodes from counter leader candidates (apippi-13043)
 * Improve short read protection performance (apippi-13794)
 * Fix sstable reader to support range-tombstone-marker for multi-slices (apippi-13787)
 * Fix short read protection for tables with no clustering columns (apippi-13880)
 * Make isBuilt volatile in PartitionUpdate (apippi-13619)
 * Prevent integer overflow of timestamps in CellTest and RowsTest (apippi-13866)
 * Fix counter application order in short read protection (apippi-12872)
 * Don't block RepairJob execution on validation futures (apippi-13797)
 * Wait for all management tasks to complete before shutting down CLSM (apippi-13123)
 * INSERT statement fails when Tuple type is used as clustering column with default DESC order (apippi-13717)
 * Fix pending view mutations handling and cleanup batchlog when there are local and remote paired mutations (apippi-13069)
 * Improve config validation and documentation on overflow and NPE (apippi-13622)
 * Range deletes in a CAS batch are ignored (apippi-13655)
 * Avoid assertion error when IndexSummary > 2G (apippi-12014)
 * Change repair midpoint logging for tiny ranges (apippi-13603)
 * Better handle corrupt final commitlog segment (apippi-11995)
 * StreamingHistogram is not thread safe (apippi-13756)
 * Fix MV timestamp issues (apippi-11500)
 * Better tolerate improperly formatted bcrypt hashes (apippi-13626)
 * Fix race condition in read command serialization (apippi-13363)
 * Fix AssertionError in short read protection (apippi-13747)
 * Don't skip corrupted sstables on startup (apippi-13620)
 * Fix the merging of cells with different user type versions (apippi-13776)
 * Copy session properties on cqlsh.py do_login (apippi-13640)
 * Potential AssertionError during ReadRepair of range tombstone and partition deletions (apippi-13719)
 * Don't let stress write warmup data if n=0 (apippi-13773)
 * Gossip thread slows down when using batch commit log (apippi-12966)
 * Randomize batchlog endpoint selection with only 1 or 2 racks (apippi-12884)
 * Fix digest calculation for counter cells (apippi-13750)
 * Fix ColumnDefinition.cellValueType() for non-frozen collection and change SSTabledump to use type.toJSONString() (apippi-13573)
 * Skip materialized view addition if the base table doesn't exist (apippi-13737)
 * Drop table should remove corresponding entries in dropped_columns table (apippi-13730)
 * Log warn message until legacy auth tables have been migrated (apippi-13371)
 * Fix incorrect [2.1 <- 3.0] serialization of counter cells created in 2.0 (apippi-13691)
 * Fix invalid writetime for null cells (apippi-13711)
 * Fix ALTER TABLE statement to atomically propagate changes to the table and its MVs (apippi-12952)
 * Fixed ambiguous output of nodetool tablestats command (apippi-13722)
 * Fix Digest mismatch Exception if hints file has UnknownColumnFamily (apippi-13696)
 * Purge tombstones created by expired cells (apippi-13643)
 * Make concat work with iterators that have different subsets of columns (apippi-13482)
 * Set test.runners based on cores and memory size (apippi-13078)
 * Allow different NUMACTL_ARGS to be passed in (apippi-13557)
 * Allow native function calls in CQLSSTableWriter (apippi-12606)
 * Fix secondary index queries on COMPACT tables (apippi-13627)
 * Nodetool listsnapshots output is missing a newline, if there are no snapshots (apippi-13568)
 * sstabledump reports incorrect usage for argument order (apippi-13532)
Merged from 2.2:
 * Safely handle empty buffers when outputting to JSON (apippi-13868)
 * Copy session properties on cqlsh.py do_login (apippi-13847)
 * Fix load over calculated issue in IndexSummaryRedistribution (apippi-13738)
 * Fix compaction and flush exception not captured (apippi-13833)
 * Uncaught exceptions in Netty pipeline (apippi-13649)
 * Prevent integer overflow on exabyte filesystems (apippi-13067)
 * Fix queries with LIMIT and filtering on clustering columns (apippi-11223)
 * Fix potential NPE when resume bootstrap fails (apippi-13272)
 * Fix toJSONString for the UDT, tuple and collection types (apippi-13592)
 * Fix nested Tuples/UDTs validation (apippi-13646)
Merged from 2.1:
 * Clone HeartBeatState when building gossip messages. Make its generation/version volatile (apippi-13700)


3.11.0
 * Allow native function calls in CQLSSTableWriter (apippi-12606)
 * Replace string comparison with regex/number checks in MessagingService test (apippi-13216)
 * Fix formatting of duration columns in CQLSH (apippi-13549)
 * Fix the problem with duplicated rows when using paging with SASI (apippi-13302)
 * Allow CONTAINS statements filtering on the partition key and itâ€™s parts (apippi-13275)
 * Fall back to even ranges calculation in clusters with vnodes when tokens are distributed unevenly (apippi-13229)
 * Fix duration type validation to prevent overflow (apippi-13218)
 * Forbid unsupported creation of SASI indexes over partition key columns (apippi-13228)
 * Reject multiple values for a key in CQL grammar. (apippi-13369)
 * UDA fails without input rows (apippi-13399)
 * Fix compaction-stress by using daemonInitialization (apippi-13188)
 * V5 protocol flags decoding broken (apippi-13443)
 * Use write lock not read lock for removing sstables from compaction strategies. (apippi-13422)
 * Use corePoolSize equal to maxPoolSize in JMXEnabledThreadPoolExecutors (apippi-13329)
 * Avoid rebuilding SASI indexes containing no values (apippi-12962)
 * Add charset to Analyser input stream (apippi-13151)
 * Fix testLimitSSTables flake caused by concurrent flush (apippi-12820)
 * cdc column addition strikes again (apippi-13382)
 * Fix static column indexes (apippi-13277)
 * DataOutputBuffer.asNewBuffer broken (apippi-13298)
 * unittest CipherFactoryTest failed on MacOS (apippi-13370)
 * Forbid SELECT restrictions and CREATE INDEX over non-frozen UDT columns (apippi-13247)
 * Default logging we ship will incorrectly print "?:?" for "%F:%L" pattern (apippi-13317)
 * Possible AssertionError in UnfilteredRowIteratorWithLowerBound (apippi-13366)
 * Support unaligned memory access for AArch64 (apippi-13326)
 * Improve SASI range iterator efficiency on intersection with an empty range (apippi-12915).
 * Fix equality comparisons of columns using the duration type (apippi-13174)
 * Move to FastThreadLocalThread and FastThreadLocal (apippi-13034)
 * nodetool stopdaemon errors out (apippi-13030)
 * Tables in system_distributed should not use gcgs of 0 (apippi-12954)
 * Fix primary index calculation for SASI (apippi-12910)
 * More fixes to the TokenAllocator (apippi-12990)
 * NoReplicationTokenAllocator should work with zero replication factor (apippi-12983)
 * Address message coalescing regression (apippi-12676)
 * Delete illegal character from StandardTokenizerImpl.jflex (apippi-13417)
 * Fix cqlsh automatic protocol downgrade regression (apippi-13307)
 * Tracing payload not passed from QueryMessage to tracing session (apippi-12835)
Merged from 3.0:
 * Filter header only commit logs before recovery (apippi-13918)
 * Ensure int overflow doesn't occur when calculating large partition warning size (apippi-13172)
 * Ensure consistent view of partition columns between coordinator and replica in ColumnFilter (apippi-13004)
 * Failed unregistering mbean during drop keyspace (apippi-13346)
 * nodetool scrub/cleanup/upgradesstables exit code is wrong (apippi-13542)
 * Fix the reported number of sstable data files accessed per read (apippi-13120)
 * Fix schema digest mismatch during rolling upgrades from versions before 3.0.12 (apippi-13559)
 * Upgrade JNA version to 4.4.0 (apippi-13072)
 * Interned ColumnIdentifiers should use minimal ByteBuffers (apippi-13533)
 * Fix repair process violating start/end token limits for small ranges (apippi-13052)
 * Add storage port options to sstableloader (apippi-13518)
 * Properly handle quoted index names in cqlsh DESCRIBE output (apippi-12847)
 * Fix NPE in StorageService.excise() (apippi-13163)
 * Expire OutboundTcpConnection messages by a single Thread (apippi-13265)
 * Fail repair if insufficient responses received (apippi-13397)
 * Fix SSTableLoader fail when the loaded table contains dropped columns (apippi-13276)
 * Avoid name clashes in apippiIndexTest (apippi-13427)
 * Handling partially written hint files (apippi-12728)
 * Interrupt replaying hints on decommission (apippi-13308)
 * Handling partially written hint files (apippi-12728)
 * Fix NPE issue in StorageService (apippi-13060)
 * Make reading of range tombstones more reliable (apippi-12811)
 * Fix startup problems due to schema tables not completely flushed (apippi-12213)
 * Fix view builder bug that can filter out data on restart (apippi-13405)
 * Fix 2i page size calculation when there are no regular columns (apippi-13400)
 * Fix the conversion of 2.X expired rows without regular column data (apippi-13395)
 * Fix hint delivery when using ext+internal IPs with prefer_local enabled (apippi-13020)
 * Legacy deserializer can create empty range tombstones (apippi-13341)
 * Legacy caching options can prevent 3.0 upgrade (apippi-13384)
 * Use the Kernel32 library to retrieve the PID on Windows and fix startup checks (apippi-13333)
 * Fix code to not exchange schema across major versions (apippi-13274)
 * Dropping column results in "corrupt" SSTable (apippi-13337)
 * Bugs handling range tombstones in the sstable iterators (apippi-13340)
 * Fix CONTAINS filtering for null collections (apippi-13246)
 * Applying: Use a unique metric reservoir per test run when using apippi-wide metrics residing in MBeans (apippi-13216)
 * Propagate row deletions in 2i tables on upgrade (apippi-13320)
 * Slice.isEmpty() returns false for some empty slices (apippi-13305)
 * Add formatted row output to assertEmpty in CQL Tester (apippi-13238)
 * Prevent data loss on upgrade 2.1 - 3.0 by adding component separator to LogRecord absolute path (apippi-13294)
 * Improve testing on macOS by eliminating sigar logging (apippi-13233)
 * Cqlsh copy-from should error out when csv contains invalid data for collections (apippi-13071)
 * Fix "multiple versions of ant detected..." when running ant test (apippi-13232)
 * Coalescing strategy sleeps too much (apippi-13090)
 * Faster StreamingHistogram (apippi-13038)
 * Legacy deserializer can create unexpected boundary range tombstones (apippi-13237)
 * Remove unnecessary assertion from AntiCompactionTest (apippi-13070)
 * Fix cqlsh COPY for dates before 1900 (apippi-13185)
 * Use keyspace replication settings on system.size_estimates table (apippi-9639)
 * Add vm.max_map_count StartupCheck (apippi-13008)
 * Obfuscate password in stress-graphs (apippi-12233)
 * Hint related logging should include the IP address of the destination in addition to
   host ID (apippi-13205)
 * Reloading logback.xml does not work (apippi-13173)
 * Lightweight transactions temporarily fail after upgrade from 2.1 to 3.0 (apippi-13109)
 * Duplicate rows after upgrading from 2.1.16 to 3.0.10/3.9 (apippi-13125)
 * Fix UPDATE queries with empty IN restrictions (apippi-13152)
 * Fix handling of partition with partition-level deletion plus
   live rows in sstabledump (apippi-13177)
 * Provide user workaround when system_schema.columns does not contain entries
   for a table that's in system_schema.tables (apippi-13180)
 * Nodetool upgradesstables/scrub/compact ignores system tables (apippi-13410)
 * Fix schema version calculation for rolling upgrades (apippi-13441)
Merged from 2.2:
 * Nodes started with join_ring=False should be able to serve requests when authentication is enabled (apippi-11381)
 * cqlsh COPY FROM: increment error count only for failures, not for attempts (apippi-13209)
 * Avoid starting gossiper in RemoveTest (apippi-13407)
 * Fix weightedSize() for row-cache reported by JMX and NodeTool (apippi-13393)
 * Fix JVM metric names (apippi-13103)
 * Honor truststore-password parameter in apippi-stress (apippi-12773)
 * Discard in-flight shadow round responses (apippi-12653)
 * Don't anti-compact repaired data to avoid inconsistencies (apippi-13153)
 * Wrong logger name in AnticompactionTask (apippi-13343)
 * Commitlog replay may fail if last mutation is within 4 bytes of end of segment (apippi-13282)
 * Fix queries updating multiple time the same list (apippi-13130)
 * Fix GRANT/REVOKE when keyspace isn't specified (apippi-13053)
 * Fix flaky LongLeveledCompactionStrategyTest (apippi-12202)
 * Fix failing COPY TO STDOUT (apippi-12497)
 * Fix ColumnCounter::countAll behaviour for reverse queries (apippi-13222)
 * Exceptions encountered calling getSeeds() breaks OTC thread (apippi-13018)
 * Fix negative mean latency metric (apippi-12876)
 * Use only one file pointer when creating commitlog segments (apippi-12539)
Merged from 2.1:
 * Fix 2ndary index queries on partition keys for tables with static columns (apippi-13147)
 * Fix ParseError unhashable type list in cqlsh copy from (apippi-13364)
 * Remove unused repositories (apippi-13278)
 * Log stacktrace of uncaught exceptions (apippi-13108)
 * Use portable stderr for java error in startup (apippi-13211)
 * Fix Thread Leak in OutboundTcpConnection (apippi-13204)
 * Upgrade netty version to fix memory leak with client encryption (apippi-13114)
 * Coalescing strategy can enter infinite loop (apippi-13159)


3.10
 * Fix secondary index queries regression (apippi-13013)
 * Add duration type to the protocol V5 (apippi-12850)
 * Fix duration type validation (apippi-13143)
 * Fix flaky GcCompactionTest (apippi-12664)
 * Fix TestHintedHandoff.hintedhandoff_decom_test (apippi-13058)
 * Fixed query monitoring for range queries (apippi-13050)
 * Remove outboundBindAny configuration property (apippi-12673)
 * Use correct bounds for all-data range when filtering (apippi-12666)
 * Remove timing window in test case (apippi-12875)
 * Resolve unit testing without JCE security libraries installed (apippi-12945)
 * Fix inconsistencies in apippi-stress load balancing policy (apippi-12919)
 * Fix validation of non-frozen UDT cells (apippi-12916)
 * Don't shut down socket input/output on StreamSession (apippi-12903)
 * Fix Murmur3PartitionerTest (apippi-12858)
 * Move cqlsh syntax rules into separate module and allow easier customization (apippi-12897)
 * Fix CommitLogSegmentManagerTest (apippi-12283)
 * Fix apippi-stress truncate option (apippi-12695)
 * Fix crossNode value when receiving messages (apippi-12791)
 * Don't load MX4J beans twice (apippi-12869)
 * Extend native protocol request flags, add versions to SUPPORTED, and introduce ProtocolVersion enum (apippi-12838)
 * Set JOINING mode when running pre-join tasks (apippi-12836)
 * remove net.mintern.primitive library due to license issue (apippi-12845)
 * Properly format IPv6 addresses when logging JMX service URL (apippi-12454)
 * Optimize the vnode allocation for single replica per DC (apippi-12777)
 * Use non-token restrictions for bounds when token restrictions are overridden (apippi-12419)
 * Fix CQLSH auto completion for PER PARTITION LIMIT (apippi-12803)
 * Use different build directories for Eclipse and Ant (apippi-12466)
 * Avoid potential AttributeError in cqlsh due to no table metadata (apippi-12815)
 * Fix RandomReplicationAwareTokenAllocatorTest.testExistingCluster (apippi-12812)
 * Upgrade commons-codec to 1.9 (apippi-12790)
 * Add duration data type (apippi-11873)
 * Make the fanout size for LeveledCompactionStrategy to be configurable (apippi-11550)
 * Fix timeout in ReplicationAwareTokenAllocatorTest (apippi-12784)
 * Improve sum aggregate functions (apippi-12417)
 * Make apippi.yaml docs for batch_size_*_threshold_in_kb reflect changes in apippi-10876 (apippi-12761)
 * cqlsh fails to format collections when using aliases (apippi-11534)
 * Check for hash conflicts in prepared statements (apippi-12733)
 * Exit query parsing upon first error (apippi-12598)
 * Fix apippi-stress to use single seed in UUID generation (apippi-12729)
 * CQLSSTableWriter does not allow Update statement (apippi-12450)
 * Config class uses boxed types but DD exposes primitive types (apippi-12199)
 * Add pre- and post-shutdown hooks to Storage Service (apippi-12461)
 * Add hint delivery metrics (apippi-12693)
 * Remove IndexInfo cache from FileIndexInfoRetriever (apippi-12731)
 * ColumnIndex does not reuse buffer (apippi-12502)
 * cdc column addition still breaks schema migration tasks (apippi-12697)
 * Upgrade metrics-reporter dependencies (apippi-12089)
 * Tune compaction thread count via nodetool (apippi-12248)
 * Add +=/-= shortcut syntax for update queries (apippi-12232)
 * Include repair session IDs in repair start message (apippi-12532)
 * Add a blocking task to Index, run before joining the ring (apippi-12039)
 * Fix NPE when using CQLSSTableWriter (apippi-12667)
 * Support optional backpressure strategies at the coordinator (apippi-9318)
 * Make randompartitioner work with new vnode allocation (apippi-12647)
 * Fix apippi-stress graphing (apippi-12237)
 * Allow filtering on partition key columns for queries without secondary indexes (apippi-11031)
 * Fix apippi Stress reporting thread model and precision (apippi-12585)
 * Add JMH benchmarks.jar (apippi-12586)
 * Cleanup uses of AlterTableStatementColumn (apippi-12567)
 * Add keep-alive to streaming (apippi-11841)
 * Tracing payload is passed through newSession(..) (apippi-11706)
 * avoid deleting non existing sstable files and improve related log messages (apippi-12261)
 * json/yaml output format for nodetool compactionhistory (apippi-12486)
 * Retry all internode messages once after a connection is
   closed and reopened (apippi-12192)
 * Add support to rebuild from targeted replica (apippi-9875)
 * Add sequence distribution type to apippi stress (apippi-12490)
 * "SELECT * FROM foo LIMIT ;" does not error out (apippi-12154)
 * Define executeLocally() at the ReadQuery Level (apippi-12474)
 * Extend read/write failure messages with a map of replica addresses
   to error codes in the v5 native protocol (apippi-12311)
 * Fix rebuild of SASI indexes with existing index files (apippi-12374)
 * Let DatabaseDescriptor not implicitly startup services (apippi-9054, 12550)
 * Fix clustering indexes in presence of static columns in SASI (apippi-12378)
 * Fix queries on columns with reversed type on SASI indexes (apippi-12223)
 * Added slow query log (apippi-12403)
 * Count full coordinated request against timeout (apippi-12256)
 * Allow TTL with null value on insert and update (apippi-12216)
 * Make decommission operation resumable (apippi-12008)
 * Add support to one-way targeted repair (apippi-9876)
 * Remove clientutil jar (apippi-11635)
 * Fix compaction throughput throttle (apippi-12366, apippi-12717)
 * Delay releasing Memtable memory on flush until PostFlush has finished running (apippi-12358)
 * apippi stress should dump all setting on startup (apippi-11914)
 * Make it possible to compact a given token range (apippi-10643)
 * Allow updating DynamicEndpointSnitch properties via JMX (apippi-12179)
 * Collect metrics on queries by consistency level (apippi-7384)
 * Add support for GROUP BY to SELECT statement (apippi-10707)
 * Deprecate memtable_cleanup_threshold and update default for memtable_flush_writers (apippi-12228)
 * Upgrade to OHC 0.4.4 (apippi-12133)
 * Add version command to apippi-stress (apippi-12258)
 * Create compaction-stress tool (apippi-11844)
 * Garbage-collecting compaction operation and schema option (apippi-7019)
 * Add beta protocol flag for v5 native protocol (apippi-12142)
 * Support filtering on non-PRIMARY KEY columns in the CREATE
   MATERIALIZED VIEW statement's WHERE clause (apippi-10368)
 * Unify STDOUT and SYSTEMLOG logback format (apippi-12004)
 * COPY FROM should raise error for non-existing input files (apippi-12174)
 * Faster write path (apippi-12269)
 * Option to leave omitted columns in INSERT JSON unset (apippi-11424)
 * Support json/yaml output in nodetool tpstats (apippi-12035)
 * Expose metrics for successful/failed authentication attempts (apippi-10635)
 * Prepend snapshot name with "truncated" or "dropped" when a snapshot
   is taken before truncating or dropping a table (apippi-12178)
 * Optimize RestrictionSet (apippi-12153)
 * cqlsh does not automatically downgrade CQL version (apippi-12150)
 * Omit (de)serialization of state variable in UDAs (apippi-9613)
 * Create a system table to expose prepared statements (apippi-8831)
 * Reuse DataOutputBuffer from ColumnIndex (apippi-11970)
 * Remove DatabaseDescriptor dependency from SegmentedFile (apippi-11580)
 * Add supplied username to authentication error messages (apippi-12076)
 * Remove pre-startup check for open JMX port (apippi-12074)
 * Remove compaction Severity from DynamicEndpointSnitch (apippi-11738)
 * Restore resumable hints delivery (apippi-11960)
 * Properly record CAS contention (apippi-12626)
Merged from 3.0:
 * Dump threads when unit tests time out (apippi-13117)
 * Better error when modifying function permissions without explicit keyspace (apippi-12925)
 * Indexer is not correctly invoked when building indexes over sstables (apippi-13075)
 * Stress daemon help is incorrect (apippi-12563)
 * Read repair is not blocking repair to finish in foreground repair (apippi-13115)
 * Replace empty strings with null values if they cannot be converted (apippi-12794)
 * Remove support for non-JavaScript UDFs (apippi-12883)
 * Fix deserialization of 2.x DeletedCells (apippi-12620)
 * Add parent repair session id to anticompaction log message (apippi-12186)
 * Improve contention handling on failure to acquire MV lock for streaming and hints (apippi-12905)
 * Fix DELETE and UPDATE queries with empty IN restrictions (apippi-12829)
 * Mark MVs as built after successful bootstrap (apippi-12984)
 * Estimated TS drop-time histogram updated with Cell.NO_DELETION_TIME (apippi-13040)
 * Nodetool compactionstats fails with NullPointerException (apippi-13021)
 * Thread local pools never cleaned up (apippi-13033)
 * Set RPC_READY to false when draining or if a node is marked as shutdown (apippi-12781)
 * CQL often queries static columns unnecessarily (apippi-12768)
 * Make sure sstables only get committed when it's safe to discard commit log records (apippi-12956)
 * Reject default_time_to_live option when creating or altering MVs (apippi-12868)
 * Nodetool should use a more sane max heap size (apippi-12739)
 * LocalToken ensures token values are cloned on heap (apippi-12651)
 * AnticompactionRequestSerializer serializedSize is incorrect (apippi-12934)
 * Prevent reloading of logback.xml from UDF sandbox (apippi-12535)
 * Reenable HeapPool (apippi-12900)
 * Disallow offheap_buffers memtable allocation (apippi-11039)
 * Fix CommitLogSegmentManagerTest (apippi-12283)
 * Pass root cause to CorruptBlockException when uncompression failed (apippi-12889)
 * Batch with multiple conditional updates for the same partition causes AssertionError (apippi-12867)
 * Make AbstractReplicationStrategy extendable from outside its package (apippi-12788)
 * Don't tell users to turn off consistent rangemovements during rebuild. (apippi-12296)
 * Fix CommitLogTest.testDeleteIfNotDirty (apippi-12854)
 * Avoid deadlock due to MV lock contention (apippi-12689)
 * Fix for KeyCacheCqlTest flakiness (apippi-12801)
 * Include SSTable filename in compacting large row message (apippi-12384)
 * Fix potential socket leak (apippi-12329, apippi-12330)
 * Fix ViewTest.testCompaction (apippi-12789)
 * Improve avg aggregate functions (apippi-12417)
 * Preserve quoted reserved keyword column names in MV creation (apippi-11803)
 * nodetool stopdaemon errors out (apippi-12646)
 * Split materialized view mutations on build to prevent OOM (apippi-12268)
 * mx4j does not work in 3.0.8 (apippi-12274)
 * Abort cqlsh copy-from in case of no answer after prolonged period of time (apippi-12740)
 * Avoid sstable corrupt exception due to dropped static column (apippi-12582)
 * Make stress use client mode to avoid checking commit log size on startup (apippi-12478)
 * Fix exceptions with new vnode allocation (apippi-12715)
 * Unify drain and shutdown processes (apippi-12509)
 * Fix NPE in ComponentOfSlice.isEQ() (apippi-12706)
 * Fix failure in LogTransactionTest (apippi-12632)
 * Fix potentially incomplete non-frozen UDT values when querying with the
   full primary key specified (apippi-12605)
 * Make sure repaired tombstones are dropped when only_purge_repaired_tombstones is enabled (apippi-12703)
 * Skip writing MV mutations to commitlog on mutation.applyUnsafe() (apippi-11670)
 * Establish consistent distinction between non-existing partition and NULL value for LWTs on static columns (apippi-12060)
 * Extend ColumnIdentifier.internedInstances key to include the type that generated the byte buffer (apippi-12516)
 * Handle composite prefixes with final EOC=0 as in 2.x and refactor LegacyLayout.decodeBound (apippi-12423)
 * select_distinct_with_deletions_test failing on non-vnode environments (apippi-11126)
 * Stack Overflow returned to queries while upgrading (apippi-12527)
 * Fix legacy regex for temporary files from 2.2 (apippi-12565)
 * Add option to state current gc_grace_seconds to tools/bin/sstablemetadata (apippi-12208)
 * Fix file system race condition that may cause LogAwareFileLister to fail to classify files (apippi-11889)
 * Fix file handle leaks due to simultaneous compaction/repair and
   listing snapshots, calculating snapshot sizes, or making schema
   changes (apippi-11594)
 * Fix nodetool repair exits with 0 for some errors (apippi-12508)
 * Do not shut down BatchlogManager twice during drain (apippi-12504)
 * Disk failure policy should not be invoked on out of space (apippi-12385)
 * Calculate last compacted key on startup (apippi-6216)
 * Add schema to snapshot manifest, add USING TIMESTAMP clause to ALTER TABLE statements (apippi-7190)
 * If CF has no clustering columns, any row cache is full partition cache (apippi-12499)
 * Correct log message for statistics of offheap memtable flush (apippi-12776)
 * Explicitly set locale for string validation (apippi-12541,apippi-12542,apippi-12543,apippi-12545)
Merged from 2.2:
 * Fix speculative retry bugs (apippi-13009)
 * Fix handling of nulls and unsets in IN conditions (apippi-12981)
 * Fix race causing infinite loop if Thrift server is stopped before it starts listening (apippi-12856)
 * CompactionTasks now correctly drops sstables out of compaction when not enough disk space is available (apippi-12979)
 * Fix DynamicEndpointSnitch noop in multi-datacenter situations (apippi-13074)
 * cqlsh copy-from: encode column names to avoid primary key parsing errors (apippi-12909)
 * Temporarily fix bug that creates commit log when running offline tools (apippi-8616)
 * Reduce granuality of OpOrder.Group during index build (apippi-12796)
 * Test bind parameters and unset parameters in InsertUpdateIfConditionTest (apippi-12980)
 * Use saved tokens when setting local tokens on StorageService.joinRing (apippi-12935)
 * cqlsh: fix DESC TYPES errors (apippi-12914)
 * Fix leak on skipped SSTables in sstableupgrade (apippi-12899)
 * Avoid blocking gossip during pending range calculation (apippi-12281)
 * Fix purgeability of tombstones with max timestamp (apippi-12792)
 * Fail repair if participant dies during sync or anticompaction (apippi-12901)
 * cqlsh COPY: unprotected pk values before converting them if not using prepared statements (apippi-12863)
 * Fix Util.spinAssertEquals (apippi-12283)
 * Fix potential NPE for compactionstats (apippi-12462)
 * Prepare legacy authenticate statement if credentials table initialised after node startup (apippi-12813)
 * Change apippi.wait_for_tracing_events_timeout_secs default to 0 (apippi-12754)
 * Clean up permissions when a UDA is dropped (apippi-12720)
 * Limit colUpdateTimeDelta histogram updates to reasonable deltas (apippi-11117)
 * Fix leak errors and execution rejected exceptions when draining (apippi-12457)
 * Fix merkle tree depth calculation (apippi-12580)
 * Make Collections deserialization more robust (apippi-12618)
 * Fix exceptions when enabling gossip on nodes that haven't joined the ring (apippi-12253)
 * Fix authentication problem when invoking cqlsh copy from a SOURCE command (apippi-12642)
 * Decrement pending range calculator jobs counter in finally block
 * cqlshlib tests: increase default execute timeout (apippi-12481)
 * Forward writes to replacement node when replace_address != broadcast_address (apippi-8523)
 * Fail repair on non-existing table (apippi-12279)
 * Enable repair -pr and -local together (fix regression of apippi-7450) (apippi-12522)
 * Better handle invalid system roles table (apippi-12700)
 * Split consistent range movement flag correction (apippi-12786)
Merged from 2.1:
 * cqlsh copy-from: sort user type fields in csv (apippi-12959)
 * Don't skip sstables based on maxLocalDeletionTime (apippi-12765)


3.8, 3.9
 * Fix value skipping with counter columns (apippi-11726)
 * Fix nodetool tablestats miss SSTable count (apippi-12205)
 * Fixed flacky SSTablesIteratedTest (apippi-12282)
 * Fixed flacky SSTableRewriterTest: check file counts before calling validateCFS (apippi-12348)
 * cqlsh: Fix handling of $$-escaped strings (apippi-12189)
 * Fix SSL JMX requiring truststore containing server cert (apippi-12109)
 * RTE from new CDC column breaks in flight queries (apippi-12236)
 * Fix hdr logging for single operation workloads (apippi-12145)
 * Fix SASI PREFIX search in CONTAINS mode with partial terms (apippi-12073)
 * Increase size of flushExecutor thread pool (apippi-12071)
 * Partial revert of apippi-11971, cannot recycle buffer in SP.sendMessagesToNonlocalDC (apippi-11950)
 * Upgrade netty to 4.0.39 (apippi-12032, apippi-12034)
 * Improve details in compaction log message (apippi-12080)
 * Allow unset values in CQLSSTableWriter (apippi-11911)
 * Chunk cache to request compressor-compatible buffers if pool space is exhausted (apippi-11993)
 * Remove DatabaseDescriptor dependencies from SequentialWriter (apippi-11579)
 * Move skip_stop_words filter before stemming (apippi-12078)
 * Support seek() in EncryptedFileSegmentInputStream (apippi-11957)
 * SSTable tools mishandling LocalPartitioner (apippi-12002)
 * When SEPWorker assigned work, set thread name to match pool (apippi-11966)
 * Add cross-DC latency metrics (apippi-11569)
 * Allow terms in selection clause (apippi-10783)
 * Add bind variables to trace (apippi-11719)
 * Switch counter shards' clock to timestamps (apippi-9811)
 * Introduce HdrHistogram and response/service/wait separation to stress tool (apippi-11853)
 * entry-weighers in QueryProcessor should respect partitionKeyBindIndexes field (apippi-11718)
 * Support older ant versions (apippi-11807)
 * Estimate compressed on disk size when deciding if sstable size limit reached (apippi-11623)
 * apippi-stress profiles should support case sensitive schemas (apippi-11546)
 * Remove DatabaseDescriptor dependency from FileUtils (apippi-11578)
 * Faster streaming (apippi-9766)
 * Add prepared query parameter to trace for "Execute CQL3 prepared query" session (apippi-11425)
 * Add repaired percentage metric (apippi-11503)
 * Add Change-Data-Capture (apippi-8844)
Merged from 3.0:
 * Fix paging for 2.x to 3.x upgrades (apippi-11195)
 * Fix clean interval not sent to commit log for empty memtable flush (apippi-12436)
 * Fix potential resource leak in RMIServerSocketFactoryImpl (apippi-12331)
 * Make sure compaction stats are updated when compaction is interrupted (apippi-12100)
 * Change commitlog and sstables to track dirty and clean intervals (apippi-11828)
 * NullPointerException during compaction on table with static columns (apippi-12336)
 * Fixed ConcurrentModificationException when reading metrics in GraphiteReporter (apippi-11823)
 * Fix upgrade of super columns on thrift (apippi-12335)
 * Fixed flacky BlacklistingCompactionsTest, switched to fixed size types and increased corruption size (apippi-12359)
 * Rerun ReplicationAwareTokenAllocatorTest on failure to avoid flakiness (apippi-12277)
 * Exception when computing read-repair for range tombstones (apippi-12263)
 * Lost counter writes in compact table and static columns (apippi-12219)
 * AssertionError with MVs on updating a row that isn't indexed due to a null value (apippi-12247)
 * Disable RR and speculative retry with EACH_QUORUM reads (apippi-11980)
 * Add option to override compaction space check (apippi-12180)
 * Faster startup by only scanning each directory for temporary files once (apippi-12114)
 * Respond with v1/v2 protocol header when responding to driver that attempts
   to connect with too low of a protocol version (apippi-11464)
 * NullPointerExpception when reading/compacting table (apippi-11988)
 * Fix problem with undeleteable rows on upgrade to new sstable format (apippi-12144)
 * Fix potential bad messaging service message for paged range reads
   within mixed-version 3.x clusters (apippi-12249)
 * Fix paging logic for deleted partitions with static columns (apippi-12107)
 * Wait until the message is being send to decide which serializer must be used (apippi-11393)
 * Fix migration of static thrift column names with non-text comparators (apippi-12147)
 * Fix upgrading sparse tables that are incorrectly marked as dense (apippi-11315)
 * Fix reverse queries ignoring range tombstones (apippi-11733)
 * Avoid potential race when rebuilding CFMetaData (apippi-12098)
 * Avoid missing sstables when getting the canonical sstables (apippi-11996)
 * Always select the live sstables when getting sstables in bounds (apippi-11944)
 * Fix column ordering of results with static columns for Thrift requests in
   a mixed 2.x/3.x cluster, also fix potential non-resolved duplication of
   those static columns in query results (apippi-12123)
 * Avoid digest mismatch with empty but static rows (apippi-12090)
 * Fix EOF exception when altering column type (apippi-11820)
 * Fix potential race in schema during new table creation (apippi-12083)
 * cqlsh: fix error handling in rare COPY FROM failure scenario (apippi-12070)
 * Disable autocompaction during drain (apippi-11878)
 * Add a metrics timer to MemtablePool and use it to track time spent blocked on memory in MemtableAllocator (apippi-11327)
 * Fix upgrading schema with super columns with non-text subcomparators (apippi-12023)
 * Add TimeWindowCompactionStrategy (apippi-9666)
 * Fix JsonTransformer output of partition with deletion info (apippi-12418)
 * Fix NPE in SSTableLoader when specifying partial directory path (apippi-12609)
Merged from 2.2:
 * Add local address entry in PropertyFileSnitch (apippi-11332)
 * cqlsh copy: fix missing counter values (apippi-12476)
 * Move migration tasks to non-periodic queue, assure flush executor shutdown after non-periodic executor (apippi-12251)
 * cqlsh copy: fixed possible race in initializing feeding thread (apippi-11701)
 * Only set broadcast_rpc_address on Ec2MultiRegionSnitch if it's not set (apippi-11357)
 * Update StorageProxy range metrics for timeouts, failures and unavailables (apippi-9507)
 * Add Sigar to classes included in clientutil.jar (apippi-11635)
 * Add decay to histograms and timers used for metrics (apippi-11752)
 * Fix hanging stream session (apippi-10992)
 * Fix INSERT JSON, fromJson() support of smallint, tinyint types (apippi-12371)
 * Restore JVM metric export for metric reporters (apippi-12312)
 * Release sstables of failed stream sessions only when outgoing transfers are finished (apippi-11345)
 * Wait for tracing events before returning response and query at same consistency level client side (apippi-11465)
 * cqlsh copyutil should get host metadata by connected address (apippi-11979)
 * Fixed cqlshlib.test.remove_test_db (apippi-12214)
 * Synchronize ThriftServer::stop() (apippi-12105)
 * Use dedicated thread for JMX notifications (apippi-12146)
 * Improve streaming synchronization and fault tolerance (apippi-11414)
 * MemoryUtil.getShort() should return an unsigned short also for architectures not supporting unaligned memory accesses (apippi-11973)
Merged from 2.1:
 * Fix queries with empty ByteBuffer values in clustering column restrictions (apippi-12127)
 * Disable passing control to post-flush after flush failure to prevent data loss (apippi-11828)
 * Allow STCS-in-L0 compactions to reduce scope with LCS (apippi-12040)
 * cannot use cql since upgrading python to 2.7.11+ (apippi-11850)
 * Fix filtering on clustering columns when 2i is used (apippi-11907)


3.0.8
 * Fix potential race in schema during new table creation (apippi-12083)
 * cqlsh: fix error handling in rare COPY FROM failure scenario (apippi-12070)
 * Disable autocompaction during drain (apippi-11878)
 * Add a metrics timer to MemtablePool and use it to track time spent blocked on memory in MemtableAllocator (apippi-11327)
 * Fix upgrading schema with super columns with non-text subcomparators (apippi-12023)
 * Add TimeWindowCompactionStrategy (apippi-9666)
Merged from 2.2:
 * Allow nodetool info to run with readonly JMX access (apippi-11755)
 * Validate bloom_filter_fp_chance against lowest supported
   value when the table is created (apippi-11920)
 * Don't send erroneous NEW_NODE notifications on restart (apippi-11038)
 * StorageService shutdown hook should use a volatile variable (apippi-11984)
Merged from 2.1:
 * Add system property to set the max number of native transport requests in queue (apippi-11363)
 * Fix queries with empty ByteBuffer values in clustering column restrictions (apippi-12127)
 * Disable passing control to post-flush after flush failure to prevent data loss (apippi-11828)
 * Allow STCS-in-L0 compactions to reduce scope with LCS (apippi-12040)
 * cannot use cql since upgrading python to 2.7.11+ (apippi-11850)
 * Fix filtering on clustering columns when 2i is used (apippi-11907)
 * Avoid stalling paxos when the paxos state expires (apippi-12043)
 * Remove finished incoming streaming connections from MessagingService (apippi-11854)
 * Don't try to get sstables for non-repairing column families (apippi-12077)
 * Avoid marking too many sstables as repaired (apippi-11696)
 * Prevent select statements with clustering key > 64k (apippi-11882)
 * Fix clock skew corrupting other nodes with paxos (apippi-11991)
 * Remove distinction between non-existing static columns and existing but null in LWTs (apippi-9842)
 * Cache local ranges when calculating repair neighbors (apippi-11934)
 * Allow LWT operation on static column with only partition keys (apippi-10532)
 * Create interval tree over canonical sstables to avoid missing sstables during streaming (apippi-11886)
 * cqlsh COPY FROM: shutdown parent cluster after forking, to avoid corrupting SSL connections (apippi-11749)


3.7
 * Support multiple folders for user defined compaction tasks (apippi-11765)
 * Fix race in CompactionStrategyManager's pause/resume (apippi-11922)
Merged from 3.0:
 * Fix legacy serialization of Thrift-generated non-compound range tombstones
   when communicating with 2.x nodes (apippi-11930)
 * Fix Directories instantiations where CFS.initialDirectories should be used (apippi-11849)
 * Avoid referencing DatabaseDescriptor in AbstractType (apippi-11912)
 * Don't use static dataDirectories field in Directories instances (apippi-11647)
 * Fix sstables not being protected from removal during index build (apippi-11905)
 * cqlsh: Suppress stack trace from Read/WriteFailures (apippi-11032)
 * Remove unneeded code to repair index summaries that have
   been improperly down-sampled (apippi-11127)
 * Avoid WriteTimeoutExceptions during commit log replay due to materialized
   view lock contention (apippi-11891)
 * Prevent OOM failures on SSTable corruption, improve tests for corruption detection (apippi-9530)
 * Use CFS.initialDirectories when clearing snapshots (apippi-11705)
 * Allow compaction strategies to disable early open (apippi-11754)
 * Refactor Materialized View code (apippi-11475)
 * Update Java Driver (apippi-11615)
Merged from 2.2:
 * Persist local metadata earlier in startup sequence (apippi-11742)
 * cqlsh: fix tab completion for case-sensitive identifiers (apippi-11664)
 * Avoid showing estimated key as -1 in tablestats (apippi-11587)
 * Fix possible race condition in CommitLog.recover (apippi-11743)
 * Enable client encryption in sstableloader with cli options (apippi-11708)
 * Possible memory leak in NIODataInputStream (apippi-11867)
 * Add seconds to cqlsh tracing session duration (apippi-11753)
 * Fix commit log replay after out-of-order flush completion (apippi-9669)
 * Prohibit Reversed Counter type as part of the PK (apippi-9395)
 * cqlsh: correctly handle non-ascii chars in error messages (apippi-11626)
Merged from 2.1:
 * Run CommitLog tests with different compression settings (apippi-9039)
 * cqlsh: apply current keyspace to source command (apippi-11152)
 * Clear out parent repair session if repair coordinator dies (apippi-11824)
 * Set default streaming_socket_timeout_in_ms to 24 hours (apippi-11840)
 * Do not consider local node a valid source during replace (apippi-11848)
 * Add message dropped tasks to nodetool netstats (apippi-11855)
 * Avoid holding SSTableReaders for duration of incremental repair (apippi-11739)


3.6
 * Correctly migrate schema for frozen UDTs during 2.x -> 3.x upgrades
   (does not affect any released versions) (apippi-11613)
 * Allow server startup if JMX is configured directly (apippi-11725)
 * Prevent direct memory OOM on buffer pool allocations (apippi-11710)
 * Enhanced Compaction Logging (apippi-10805)
 * Make prepared statement cache size configurable (apippi-11555)
 * Integrated JMX authentication and authorization (apippi-10091)
 * Add units to stress ouput (apippi-11352)
 * Fix PER PARTITION LIMIT for single and multi partitions queries (apippi-11603)
 * Add uncompressed chunk cache for RandomAccessReader (apippi-5863)
 * Clarify ClusteringPrefix hierarchy (apippi-11213)
 * Always perform collision check before joining ring (apippi-10134)
 * SSTableWriter output discrepancy (apippi-11646)
 * Fix potential timeout in NativeTransportService.testConcurrentDestroys (apippi-10756)
 * Support large partitions on the 3.0 sstable format (apippi-11206,11763)
 * Add support to rebuild from specific range (apippi-10406)
 * Optimize the overlapping lookup by calculating all the
   bounds in advance (apippi-11571)
 * Support json/yaml output in nodetool tablestats (apippi-5977)
 * (stress) Add datacenter option to -node options (apippi-11591)
 * Fix handling of empty slices (apippi-11513)
 * Make number of cores used by cqlsh COPY visible to testing code (apippi-11437)
 * Allow filtering on clustering columns for queries without secondary indexes (apippi-11310)
 * Refactor Restriction hierarchy (apippi-11354)
 * Eliminate allocations in R/W path (apippi-11421)
 * Update Netty to 4.0.36 (apippi-11567)
 * Fix PER PARTITION LIMIT for queries requiring post-query ordering (apippi-11556)
 * Allow instantiation of UDTs and tuples in UDFs (apippi-10818)
 * Support UDT in CQLSSTableWriter (apippi-10624)
 * Support for non-frozen user-defined types, updating
   individual fields of user-defined types (apippi-7423)
 * Make LZ4 compression level configurable (apippi-11051)
 * Allow per-partition LIMIT clause in CQL (apippi-7017)
 * Make custom filtering more extensible with UserExpression (apippi-11295)
 * Improve field-checking and error reporting in apippi.yaml (apippi-10649)
 * Print CAS stats in nodetool proxyhistograms (apippi-11507)
 * More user friendly error when providing an invalid token to nodetool (apippi-9348)
 * Add static column support to SASI index (apippi-11183)
 * Support EQ/PREFIX queries in SASI CONTAINS mode without tokenization (apippi-11434)
 * Support LIKE operator in prepared statements (apippi-11456)
 * Add a command to see if a Materialized View has finished building (apippi-9967)
 * Log endpoint and port associated with streaming operation (apippi-8777)
 * Print sensible units for all log messages (apippi-9692)
 * Upgrade Netty to version 4.0.34 (apippi-11096)
 * Break the CQL grammar into separate Parser and Lexer (apippi-11372)
 * Compress only inter-dc traffic by default (apippi-8888)
 * Add metrics to track write amplification (apippi-11420)
 * apippi-stress: cannot handle "value-less" tables (apippi-7739)
 * Add/drop multiple columns in one ALTER TABLE statement (apippi-10411)
 * Add require_endpoint_verification opt for internode encryption (apippi-9220)
 * Add auto import java.util for UDF code block (apippi-11392)
 * Add --hex-format option to nodetool getsstables (apippi-11337)
 * sstablemetadata should print sstable min/max token (apippi-7159)
 * Do not wrap apippiException in TriggerExecutor (apippi-9421)
 * COPY TO should have higher double precision (apippi-11255)
 * Stress should exit with non-zero status after failure (apippi-10340)
 * Add client to cqlsh SHOW_SESSION (apippi-8958)
 * Fix nodetool tablestats keyspace level metrics (apippi-11226)
 * Store repair options in parent_repair_history (apippi-11244)
 * Print current leveling in sstableofflinerelevel (apippi-9588)
 * Change repair message for keyspaces with RF 1 (apippi-11203)
 * Remove hard-coded SSL cipher suites and protocols (apippi-10508)
 * Improve concurrency in CompactionStrategyManager (apippi-10099)
 * (cqlsh) interpret CQL type for formatting blobs (apippi-11274)
 * Refuse to start and print txn log information in case of disk
   corruption (apippi-10112)
 * Resolve some eclipse-warnings (apippi-11086)
 * (cqlsh) Show static columns in a different color (apippi-11059)
 * Allow to remove TTLs on table with default_time_to_live (apippi-11207)
Merged from 3.0:
 * Disallow creating view with a static column (apippi-11602)
 * Reduce the amount of object allocations caused by the getFunctions methods (apippi-11593)
 * Potential error replaying commitlog with smallint/tinyint/date/time types (apippi-11618)
 * Fix queries with filtering on counter columns (apippi-11629)
 * Improve tombstone printing in sstabledump (apippi-11655)
 * Fix paging for range queries where all clustering columns are specified (apippi-11669)
 * Don't require HEAP_NEW_SIZE to be set when using G1 (apippi-11600)
 * Fix sstabledump not showing cells after tombstone marker (apippi-11654)
 * Ignore all LocalStrategy keyspaces for streaming and other related
   operations (apippi-11627)
 * Ensure columnfilter covers indexed columns for thrift 2i queries (apippi-11523)
 * Only open one sstable scanner per sstable (apippi-11412)
 * Option to specify ProtocolVersion in apippi-stress (apippi-11410)
 * ArithmeticException in avgFunctionForDecimal (apippi-11485)
 * LogAwareFileLister should only use OLD sstable files in current folder to determine disk consistency (apippi-11470)
 * Notify indexers of expired rows during compaction (apippi-11329)
 * Properly respond with ProtocolError when a v1/v2 native protocol
   header is received (apippi-11464)
 * Validate that num_tokens and initial_token are consistent with one another (apippi-10120)
Merged from 2.2:
 * Exit JVM if JMX server fails to startup (apippi-11540)
 * Produce a heap dump when exiting on OOM (apippi-9861)
 * Restore ability to filter on clustering columns when using a 2i (apippi-11510)
 * JSON datetime formatting needs timezone (apippi-11137)
 * Fix is_dense recalculation for Thrift-updated tables (apippi-11502)
 * Remove unnescessary file existence check during anticompaction (apippi-11660)
 * Add missing files to debian packages (apippi-11642)
 * Avoid calling Iterables::concat in loops during ModificationStatement::getFunctions (apippi-11621)
 * cqlsh: COPY FROM should use regular inserts for single statement batches and
   report errors correctly if workers processes crash on initialization (apippi-11474)
 * Always close cluster with connection in CqlRecordWriter (apippi-11553)
 * Allow only DISTINCT queries with partition keys restrictions (apippi-11339)
 * CqlConfigHelper no longer requires both a keystore and truststore to work (apippi-11532)
 * Make deprecated repair methods backward-compatible with previous notification service (apippi-11430)
 * IncomingStreamingConnection version check message wrong (apippi-11462)
Merged from 2.1:
 * Support mlockall on IBM POWER arch (apippi-11576)
 * Add option to disable use of severity in DynamicEndpointSnitch (apippi-11737)
 * cqlsh COPY FROM fails for null values with non-prepared statements (apippi-11631)
 * Make cython optional in pylib/setup.py (apippi-11630)
 * Change order of directory searching for apippi.in.sh to favor local one (apippi-11628)
 * cqlsh COPY FROM fails with []{} chars in UDT/tuple fields/values (apippi-11633)
 * clqsh: COPY FROM throws TypeError with Cython extensions enabled (apippi-11574)
 * cqlsh: COPY FROM ignores NULL values in conversion (apippi-11549)
 * Validate levels when building LeveledScanner to avoid overlaps with orphaned sstables (apippi-9935)


3.5
 * StaticTokenTreeBuilder should respect posibility of duplicate tokens (apippi-11525)
 * Correctly fix potential assertion error during compaction (apippi-11353)
 * Avoid index segment stitching in RAM which lead to OOM on big SSTable files (apippi-11383)
 * Fix clustering and row filters for LIKE queries on clustering columns (apippi-11397)
Merged from 3.0:
 * Fix rare NPE on schema upgrade from 2.x to 3.x (apippi-10943)
 * Improve backoff policy for cqlsh COPY FROM (apippi-11320)
 * Improve IF NOT EXISTS check in CREATE INDEX (apippi-11131)
 * Upgrade ohc to 0.4.3
 * Enable SO_REUSEADDR for JMX RMI server sockets (apippi-11093)
 * Allocate merkletrees with the correct size (apippi-11390)
 * Support streaming pre-3.0 sstables (apippi-10990)
 * Add backpressure to compressed or encrypted commit log (apippi-10971)
 * SSTableExport supports secondary index tables (apippi-11330)
 * Fix sstabledump to include missing info in debug output (apippi-11321)
 * Establish and implement canonical bulk reading workload(s) (apippi-10331)
 * Fix paging for IN queries on tables without clustering columns (apippi-11208)
 * Remove recursive call from CompositesSearcher (apippi-11304)
 * Fix filtering on non-primary key columns for queries without index (apippi-6377)
 * Fix sstableloader fail when using materialized view (apippi-11275)
Merged from 2.2:
 * DatabaseDescriptor should log stacktrace in case of Eception during seed provider creation (apippi-11312)
 * Use canonical path for directory in SSTable descriptor (apippi-10587)
 * Add apippi-stress keystore option (apippi-9325)
 * Dont mark sstables as repairing with sub range repairs (apippi-11451)
 * Notify when sstables change after cancelling compaction (apippi-11373)
 * cqlsh: COPY FROM should check that explicit column names are valid (apippi-11333)
 * Add -Dapippi.start_gossip startup option (apippi-10809)
 * Fix UTF8Validator.validate() for modified UTF-8 (apippi-10748)
 * Clarify that now() function is calculated on the coordinator node in CQL documentation (apippi-10900)
 * Fix bloom filter sizing with LCS (apippi-11344)
 * (cqlsh) Fix error when result is 0 rows with EXPAND ON (apippi-11092)
 * Add missing newline at end of bin/cqlsh (apippi-11325)
 * Unresolved hostname leads to replace being ignored (apippi-11210)
 * Only log yaml config once, at startup (apippi-11217)
 * Reference leak with parallel repairs on the same table (apippi-11215)
Merged from 2.1:
 * Add a -j parameter to scrub/cleanup/upgradesstables to state how
   many threads to use (apippi-11179)
 * COPY FROM on large datasets: fix progress report and debug performance (apippi-11053)
 * InvalidateKeys should have a weak ref to key cache (apippi-11176)


3.4
 * (cqlsh) add cqlshrc option to always connect using ssl (apippi-10458)
 * Cleanup a few resource warnings (apippi-11085)
 * Allow custom tracing implementations (apippi-10392)
 * Extract LoaderOptions to be able to be used from outside (apippi-10637)
 * fix OnDiskIndexTest to properly treat empty ranges (apippi-11205)
 * fix TrackerTest to handle new notifications (apippi-11178)
 * add SASI validation for partitioner and complex columns (apippi-11169)
 * Add caching of encrypted credentials in PasswordAuthenticator (apippi-7715)
 * fix SASI memtable switching on flush (apippi-11159)
 * Remove duplicate offline compaction tracking (apippi-11148)
 * fix EQ semantics of analyzed SASI indexes (apippi-11130)
 * Support long name output for nodetool commands (apippi-7950)
 * Encrypted hints (apippi-11040)
 * SASI index options validation (apippi-11136)
 * Optimize disk seek using min/max column name meta data when the LIMIT clause is used
   (apippi-8180)
 * Add LIKE support to CQL3 (apippi-11067)
 * Generic Java UDF types (apippi-10819)
 * cqlsh: Include sub-second precision in timestamps by default (apippi-10428)
 * Set javac encoding to utf-8 (apippi-11077)
 * Integrate SASI index into apippi (apippi-10661)
 * Add --skip-flush option to nodetool snapshot
 * Skip values for non-queried columns (apippi-10657)
 * Add support for secondary indexes on static columns (apippi-8103)
 * CommitLogUpgradeTestMaker creates broken commit logs (apippi-11051)
 * Add metric for number of dropped mutations (apippi-10866)
 * Simplify row cache invalidation code (apippi-10396)
 * Support user-defined compaction through nodetool (apippi-10660)
 * Stripe view locks by key and table ID to reduce contention (apippi-10981)
 * Add nodetool gettimeout and settimeout commands (apippi-10953)
 * Add 3.0 metadata to sstablemetadata output (apippi-10838)
Merged from 3.0:
 * MV should only query complex columns included in the view (apippi-11069)
 * Failed aggregate creation breaks server permanently (apippi-11064)
 * Add sstabledump tool (apippi-7464)
 * Introduce backpressure for hints (apippi-10972)
 * Fix ClusteringPrefix not being able to read tombstone range boundaries (apippi-11158)
 * Prevent logging in sandboxed state (apippi-11033)
 * Disallow drop/alter operations of UDTs used by UDAs (apippi-10721)
 * Add query time validation method on Index (apippi-11043)
 * Avoid potential AssertionError in mixed version cluster (apippi-11128)
 * Properly handle hinted handoff after topology changes (apippi-5902)
 * AssertionError when listing sstable files on inconsistent disk state (apippi-11156)
 * Fix wrong rack counting and invalid conditions check for TokenAllocation
   (apippi-11139)
 * Avoid creating empty hint files (apippi-11090)
 * Fix leak detection strong reference loop using weak reference (apippi-11120)
 * Configurie BatchlogManager to stop delayed tasks on shutdown (apippi-11062)
 * Hadoop integration is incompatible with apippi Driver 3.0.0 (apippi-11001)
 * Add dropped_columns to the list of schema table so it gets handled
   properly (apippi-11050)
 * Fix NPE when using forceRepairRangeAsync without DC (apippi-11239)
Merged from 2.2:
 * Preserve order for preferred SSL cipher suites (apippi-11164)
 * Range.compareTo() violates the contract of Comparable (apippi-11216)
 * Avoid NPE when serializing ErrorMessage with null message (apippi-11167)
 * Replacing an aggregate with a new version doesn't reset INITCOND (apippi-10840)
 * (cqlsh) cqlsh cannot be called through symlink (apippi-11037)
 * fix ohc and java-driver pom dependencies in build.xml (apippi-10793)
 * Protect from keyspace dropped during repair (apippi-11065)
 * Handle adding fields to a UDT in SELECT JSON and toJson() (apippi-11146)
 * Better error message for cleanup (apippi-10991)
 * cqlsh pg-style-strings broken if line ends with ';' (apippi-11123)
 * Always persist upsampled index summaries (apippi-10512)
 * (cqlsh) Fix inconsistent auto-complete (apippi-10733)
 * Make SELECT JSON and toJson() threadsafe (apippi-11048)
 * Fix SELECT on tuple relations for mixed ASC/DESC clustering order (apippi-7281)
 * Use cloned TokenMetadata in size estimates to avoid race against membership check
   (apippi-10736)
 * (cqlsh) Support utf-8/cp65001 encoding on Windows (apippi-11030)
 * Fix paging on DISTINCT queries repeats result when first row in partition changes
   (apippi-10010)
 * (cqlsh) Support timezone conversion using pytz (apippi-10397)
 * cqlsh: change default encoding to UTF-8 (apippi-11124)
Merged from 2.1:
 * Checking if an unlogged batch is local is inefficient (apippi-11529)
 * Fix out-of-space error treatment in memtable flushing (apippi-11448).
 * Don't do defragmentation if reading from repaired sstables (apippi-10342)
 * Fix streaming_socket_timeout_in_ms not enforced (apippi-11286)
 * Avoid dropping message too quickly due to missing unit conversion (apippi-11302)
 * Don't remove FailureDetector history on removeEndpoint (apippi-10371)
 * Only notify if repair status changed (apippi-11172)
 * Use logback setting for 'apippi -v' command (apippi-10767)
 * Fix sstableloader to unthrottle streaming by default (apippi-9714)
 * Fix incorrect warning in 'nodetool status' (apippi-10176)
 * Properly release sstable ref when doing offline scrub (apippi-10697)
 * Improve nodetool status performance for large cluster (apippi-7238)
 * Gossiper#isEnabled is not thread safe (apippi-11116)
 * Avoid major compaction mixing repaired and unrepaired sstables in DTCS (apippi-11113)
 * Make it clear what DTCS timestamp_resolution is used for (apippi-11041)
 * (cqlsh) Display milliseconds when datetime overflows (apippi-10625)


3.3
 * Avoid infinite loop if owned range is smaller than number of
   data dirs (apippi-11034)
 * Avoid bootstrap hanging when existing nodes have no data to stream (apippi-11010)
Merged from 3.0:
 * Remove double initialization of newly added tables (apippi-11027)
 * Filter keys searcher results by target range (apippi-11104)
 * Fix deserialization of legacy read commands (apippi-11087)
 * Fix incorrect computation of deletion time in sstable metadata (apippi-11102)
 * Avoid memory leak when collecting sstable metadata (apippi-11026)
 * Mutations do not block for completion under view lock contention (apippi-10779)
 * Invalidate legacy schema tables when unloading them (apippi-11071)
 * (cqlsh) handle INSERT and UPDATE statements with LWT conditions correctly
   (apippi-11003)
 * Fix DISTINCT queries in mixed version clusters (apippi-10762)
 * Migrate build status for indexes along with legacy schema (apippi-11046)
 * Ensure SSTables for legacy KEYS indexes can be read (apippi-11045)
 * Added support for IBM zSystems architecture (apippi-11054)
 * Update CQL documentation (apippi-10899)
 * Check the column name, not cell name, for dropped columns when reading
   legacy sstables (apippi-11018)
 * Don't attempt to index clustering values of static rows (apippi-11021)
 * Remove checksum files after replaying hints (apippi-10947)
 * Support passing base table metadata to custom 2i validation (apippi-10924)
 * Ensure stale index entries are purged during reads (apippi-11013)
 * (cqlsh) Also apply --connect-timeout to control connection
   timeout (apippi-10959)
 * Fix AssertionError when removing from list using UPDATE (apippi-10954)
 * Fix UnsupportedOperationException when reading old sstable with range
   tombstone (apippi-10743)
 * MV should use the maximum timestamp of the primary key (apippi-10910)
 * Fix potential assertion error during compaction (apippi-10944)
Merged from 2.2:
 * maxPurgeableTimestamp needs to check memtables too (apippi-9949)
 * Apply change to compaction throughput in real time (apippi-10025)
 * (cqlsh) encode input correctly when saving history
 * Fix potential NPE on ORDER BY queries with IN (apippi-10955)
 * Start L0 STCS-compactions even if there is a L0 -> L1 compaction
   going (apippi-10979)
 * Make UUID LSB unique per process (apippi-7925)
 * Avoid NPE when performing sstable tasks (scrub etc.) (apippi-10980)
 * Make sure client gets tombstone overwhelmed warning (apippi-9465)
 * Fix error streaming section more than 2GB (apippi-10961)
 * Histogram buckets exposed in jmx are sorted incorrectly (apippi-10975)
 * Enable GC logging by default (apippi-10140)
 * Optimize pending range computation (apippi-9258)
 * Skip commit log and saved cache directories in SSTable version startup check (apippi-10902)
 * drop/alter user should be case sensitive (apippi-10817)
Merged from 2.1:
 * test_bulk_round_trip_blogposts is failing occasionally (apippi-10938)
 * Fix isJoined return true only after becoming cluster member (CASANDRA-11007)
 * Fix bad gossip generation seen in long-running clusters (apippi-10969)
 * Avoid NPE when incremental repair fails (apippi-10909)
 * Unmark sstables compacting once they are done in cleanup/scrub/upgradesstables (apippi-10829)
 * Allow simultaneous bootstrapping with strict consistency when no vnodes are used (apippi-11005)
 * Log a message when major compaction does not result in a single file (apippi-10847)
 * (cqlsh) fix cqlsh_copy_tests when vnodes are disabled (apippi-10997)
 * (cqlsh) Add request timeout option to cqlsh (apippi-10686)
 * Avoid AssertionError while submitting hint with LWT (apippi-10477)
 * If CompactionMetadata is not in stats file, use index summary instead (apippi-10676)
 * Retry sending gossip syn multiple times during shadow round (apippi-8072)
 * Fix pending range calculation during moves (apippi-10887)
 * Sane default (200Mbps) for inter-DC streaming througput (apippi-8708)



3.2
 * Make sure tokens don't exist in several data directories (apippi-6696)
 * Add requireAuthorization method to IAuthorizer (apippi-10852)
 * Move static JVM options to conf/jvm.options file (apippi-10494)
 * Fix apippiVersion to accept x.y version string (apippi-10931)
 * Add forceUserDefinedCleanup to allow more flexible cleanup (apippi-10708)
 * (cqlsh) allow setting TTL with COPY (apippi-9494)
 * Fix counting of received sstables in streaming (apippi-10949)
 * Implement hints compression (apippi-9428)
 * Fix potential assertion error when reading static columns (apippi-10903)
 * Fix EstimatedHistogram creation in nodetool tablehistograms (apippi-10859)
 * Establish bootstrap stream sessions sequentially (apippi-6992)
 * Sort compactionhistory output by timestamp (apippi-10464)
 * More efficient BTree removal (apippi-9991)
 * Make tablehistograms accept the same syntax as tablestats (apippi-10149)
 * Group pending compactions based on table (apippi-10718)
 * Add compressor name in sstablemetadata output (apippi-9879)
 * Fix type casting for counter columns (apippi-10824)
 * Prevent running apippi as root (apippi-8142)
 * bound maximum in-flight commit log replay mutation bytes to 64 megabytes (apippi-8639)
 * Normalize all scripts (apippi-10679)
 * Make compression ratio much more accurate (apippi-10225)
 * Optimize building of Clustering object when only one is created (apippi-10409)
 * Make index building pluggable (apippi-10681)
 * Add sstable flush observer (apippi-10678)
 * Improve NTS endpoints calculation (apippi-10200)
 * Improve performance of the folderSize function (apippi-10677)
 * Add support for type casting in selection clause (apippi-10310)
 * Added graphing option to apippi-stress (apippi-7918)
 * Abort in-progress queries that time out (apippi-7392)
 * Add transparent data encryption core classes (apippi-9945)
Merged from 3.0:
 * Better handling of SSL connection errors inter-node (apippi-10816)
 * Avoid NoSuchElementException when executing empty batch (apippi-10711)
 * Avoid building PartitionUpdate in toString (apippi-10897)
 * Reduce heap spent when receiving many SSTables (apippi-10797)
 * Add back support for 3rd party auth providers to bulk loader (apippi-10873)
 * Eliminate the dependency on jgrapht for UDT resolution (apippi-10653)
 * (Hadoop) Close Clusters and Sessions in Hadoop Input/Output classes (apippi-10837)
 * Fix sstableloader not working with upper case keyspace name (apippi-10806)
Merged from 2.2:
 * jemalloc detection fails due to quoting issues in regexv (apippi-10946)
 * (cqlsh) show correct column names for empty result sets (apippi-9813)
 * Add new types to Stress (apippi-9556)
 * Add property to allow listening on broadcast interface (apippi-9748)
Merged from 2.1:
 * Match apippi-loader options in COPY FROM (apippi-9303)
 * Fix binding to any address in CqlBulkRecordWriter (apippi-9309)
 * cqlsh fails to decode utf-8 characters for text typed columns (apippi-10875)
 * Log error when stream session fails (apippi-9294)
 * Fix bugs in commit log archiving startup behavior (apippi-10593)
 * (cqlsh) further optimise COPY FROM (apippi-9302)
 * Allow CREATE TABLE WITH ID (apippi-9179)
 * Make Stress compiles within eclipse (apippi-10807)
 * apippi Daemon should print JVM arguments (apippi-10764)
 * Allow cancellation of index summary redistribution (apippi-8805)


3.1.1
Merged from 3.0:
  * Fix upgrade data loss due to range tombstone deleting more data than then should
    (apippi-10822)


3.1
Merged from 3.0:
 * Avoid MV race during node decommission (apippi-10674)
 * Disable reloading of GossipingPropertyFileSnitch (apippi-9474)
 * Handle single-column deletions correction in materialized views
   when the column is part of the view primary key (apippi-10796)
 * Fix issue with datadir migration on upgrade (apippi-10788)
 * Fix bug with range tombstones on reverse queries and test coverage for
   AbstractBTreePartition (apippi-10059)
 * Remove 64k limit on collection elements (apippi-10374)
 * Remove unclear Indexer.indexes() method (apippi-10690)
 * Fix NPE on stream read error (apippi-10771)
 * Normalize cqlsh DESC output (apippi-10431)
 * Rejects partition range deletions when columns are specified (apippi-10739)
 * Fix error when saving cached key for old format sstable (apippi-10778)
 * Invalidate prepared statements on DROP INDEX (apippi-10758)
 * Fix SELECT statement with IN restrictions on partition key,
   ORDER BY and LIMIT (apippi-10729)
 * Improve stress performance over 1k threads (apippi-7217)
 * Wait for migration responses to complete before bootstrapping (apippi-10731)
 * Unable to create a function with argument of type Inet (apippi-10741)
 * Fix backward incompatibiliy in CqlInputFormat (apippi-10717)
 * Correctly preserve deletion info on updated rows when notifying indexers
   of single-row deletions (apippi-10694)
 * Notify indexers of partition delete during cleanup (apippi-10685)
 * Keep the file open in trySkipCache (apippi-10669)
 * Updated trigger example (apippi-10257)
Merged from 2.2:
 * Verify tables in pseudo-system keyspaces at startup (apippi-10761)
 * Fix IllegalArgumentException in DataOutputBuffer.reallocate for large buffers (apippi-10592)
 * Show CQL help in cqlsh in web browser (apippi-7225)
 * Serialize on disk the proper SSTable compression ratio (apippi-10775)
 * Reject index queries while the index is building (apippi-8505)
 * CQL.textile syntax incorrectly includes optional keyspace for aggregate SFUNC and FINALFUNC (apippi-10747)
 * Fix JSON update with prepared statements (apippi-10631)
 * Don't do anticompaction after subrange repair (apippi-10422)
 * Fix SimpleDateType type compatibility (apippi-10027)
 * (Hadoop) fix splits calculation (apippi-10640)
 * (Hadoop) ensure that Cluster instances are always closed (apippi-10058)
Merged from 2.1:
 * Fix Stress profile parsing on Windows (apippi-10808)
 * Fix incremental repair hang when replica is down (apippi-10288)
 * Optimize the way we check if a token is repaired in anticompaction (apippi-10768)
 * Add proper error handling to stream receiver (apippi-10774)
 * Warn or fail when changing cluster topology live (apippi-10243)
 * Status command in debian/ubuntu init script doesn't work (apippi-10213)
 * Some DROP ... IF EXISTS incorrectly result in exceptions on non-existing KS (apippi-10658)
 * DeletionTime.compareTo wrong in rare cases (apippi-10749)
 * Force encoding when computing statement ids (apippi-10755)
 * Properly reject counters as map keys (apippi-10760)
 * Fix the sstable-needs-cleanup check (apippi-10740)
 * (cqlsh) Print column names before COPY operation (apippi-8935)
 * Fix CompressedInputStream for proper cleanup (apippi-10012)
 * (cqlsh) Support counters in COPY commands (apippi-9043)
 * Try next replica if not possible to connect to primary replica on
   ColumnFamilyRecordReader (apippi-2388)
 * Limit window size in DTCS (apippi-10280)
 * sstableloader does not use MAX_HEAP_SIZE env parameter (apippi-10188)
 * (cqlsh) Improve COPY TO performance and error handling (apippi-9304)
 * Create compression chunk for sending file only (apippi-10680)
 * Forbid compact clustering column type changes in ALTER TABLE (apippi-8879)
 * Reject incremental repair with subrange repair (apippi-10422)
 * Add a nodetool command to refresh size_estimates (apippi-9579)
 * Invalidate cache after stream receive task is completed (apippi-10341)
 * Reject counter writes in CQLSSTableWriter (apippi-10258)
 * Remove superfluous COUNTER_MUTATION stage mapping (apippi-10605)


3.0
 * Fix AssertionError while flushing memtable due to materialized views
   incorrectly inserting empty rows (apippi-10614)
 * Store UDA initcond as CQL literal in the schema table, instead of a blob (apippi-10650)
 * Don't use -1 for the position of partition key in schema (apippi-10491)
 * Fix distinct queries in mixed version cluster (apippi-10573)
 * Skip sstable on clustering in names query (apippi-10571)
 * Remove value skipping as it breaks read-repair (apippi-10655)
 * Fix bootstrapping with MVs (apippi-10621)
 * Make sure EACH_QUORUM reads are using NTS (apippi-10584)
 * Fix MV replica filtering for non-NetworkTopologyStrategy (apippi-10634)
 * (Hadoop) fix CIF describeSplits() not handling 0 size estimates (apippi-10600)
 * Fix reading of legacy sstables (apippi-10590)
 * Use CQL type names in schema metadata tables (apippi-10365)
 * Guard batchlog replay against integer division by zero (apippi-9223)
 * Fix bug when adding a column to thrift with the same name than a primary key (apippi-10608)
 * Add client address argument to IAuthenticator::newSaslNegotiator (apippi-8068)
 * Fix implementation of LegacyLayout.LegacyBoundComparator (apippi-10602)
 * Don't use 'names query' read path for counters (apippi-10572)
 * Fix backward compatibility for counters (apippi-10470)
 * Remove memory_allocator paramter from apippi.yaml (apippi-10581,10628)
 * Execute the metadata reload task of all registered indexes on CFS::reload (apippi-10604)
 * Fix thrift cas operations with defined columns (apippi-10576)
 * Fix PartitionUpdate.operationCount()for updates with static column operations (apippi-10606)
 * Fix thrift get() queries with defined columns (apippi-10586)
 * Fix marking of indexes as built and removed (apippi-10601)
 * Skip initialization of non-registered 2i instances, remove Index::getIndexName (apippi-10595)
 * Fix batches on multiple tables (apippi-10554)
 * Ensure compaction options are validated when updating KeyspaceMetadata (apippi-10569)
 * Flatten Iterator Transformation Hierarchy (apippi-9975)
 * Remove token generator (apippi-5261)
 * RolesCache should not be created for any authenticator that does not requireAuthentication (apippi-10562)
 * Fix LogTransaction checking only a single directory for files (apippi-10421)
 * Fix handling of range tombstones when reading old format sstables (apippi-10360)
 * Aggregate with Initial Condition fails with C* 3.0 (apippi-10367)
Merged from 2.2:
 * (cqlsh) show partial trace if incomplete after max_trace_wait (apippi-7645)
 * Use most up-to-date version of schema for system tables (apippi-10652)
 * Deprecate memory_allocator in apippi.yaml (apippi-10581,10628)
 * Expose phi values from failure detector via JMX and tweak debug
   and trace logging (apippi-9526)
 * Fix IllegalArgumentException in DataOutputBuffer.reallocate for large buffers (apippi-10592)
Merged from 2.1:
 * Shutdown compaction in drain to prevent leak (apippi-10079)
 * (cqlsh) fix COPY using wrong variable name for time_format (apippi-10633)
 * Do not run SizeEstimatesRecorder if a node is not a member of the ring (apippi-9912)
 * Improve handling of dead nodes in gossip (apippi-10298)
 * Fix logback-tools.xml incorrectly configured for outputing to System.err
   (apippi-9937)
 * Fix streaming to catch exception so retry not fail (apippi-10557)
 * Add validation method to PerRowSecondaryIndex (apippi-10092)
 * Support encrypted and plain traffic on the same port (apippi-10559)
 * Do STCS in DTCS windows (apippi-10276)
 * Avoid repetition of JVM_OPTS in debian package (apippi-10251)
 * Fix potential NPE from handling result of SIM.highestSelectivityIndex (apippi-10550)
 * Fix paging issues with partitions containing only static columns data (apippi-10381)
 * Fix conditions on static columns (apippi-10264)
 * AssertionError: attempted to delete non-existing file CommitLog (apippi-10377)
 * Fix sorting for queries with an IN condition on partition key columns (apippi-10363)


3.0-rc2
 * Fix SELECT DISTINCT queries between 2.2.2 nodes and 3.0 nodes (apippi-10473)
 * Remove circular references in SegmentedFile (apippi-10543)
 * Ensure validation of indexed values only occurs once per-partition (apippi-10536)
 * Fix handling of static columns for range tombstones in thrift (apippi-10174)
 * Support empty ColumnFilter for backward compatility on empty IN (apippi-10471)
 * Remove Pig support (apippi-10542)
 * Fix LogFile throws Exception when assertion is disabled (apippi-10522)
 * Revert apippi-7486, make CMS default GC, move GC config to
   conf/jvm.options (apippi-10403)
 * Fix TeeingAppender causing some logs to be truncated/empty (apippi-10447)
 * Allow EACH_QUORUM for reads (apippi-9602)
 * Fix potential ClassCastException while upgrading (apippi-10468)
 * Fix NPE in MVs on update (apippi-10503)
 * Only include modified cell data in indexing deltas (apippi-10438)
 * Do not load keyspace when creating sstable writer (apippi-10443)
 * If node is not yet gossiping write all MV updates to batchlog only (apippi-10413)
 * Re-populate token metadata after commit log recovery (apippi-10293)
 * Provide additional metrics for materialized views (apippi-10323)
 * Flush system schema tables after local schema changes (apippi-10429)
Merged from 2.2:
 * Reduce contention getting instances of CompositeType (apippi-10433)
 * Fix the regression when using LIMIT with aggregates (apippi-10487)
 * Avoid NoClassDefFoundError during DataDescriptor initialization on windows (apippi-10412)
 * Preserve case of quoted Role & User names (apippi-10394)
 * cqlsh pg-style-strings broken (apippi-10484)
 * cqlsh prompt includes name of keyspace after failed `use` statement (apippi-10369)
Merged from 2.1:
 * (cqlsh) Distinguish negative and positive infinity in output (apippi-10523)
 * (cqlsh) allow custom time_format for COPY TO (apippi-8970)
 * Don't allow startup if the node's rack has changed (apippi-10242)
 * (cqlsh) show partial trace if incomplete after max_trace_wait (apippi-7645)
 * Allow LOCAL_JMX to be easily overridden (apippi-10275)
 * Mark nodes as dead even if they've already left (apippi-10205)


3.0.0-rc1
 * Fix mixed version read request compatibility for compact static tables
   (apippi-10373)
 * Fix paging of DISTINCT with static and IN (apippi-10354)
 * Allow MATERIALIZED VIEW's SELECT statement to restrict primary key
   columns (apippi-9664)
 * Move crc_check_chance out of compression options (apippi-9839)
 * Fix descending iteration past end of BTreeSearchIterator (apippi-10301)
 * Transfer hints to a different node on decommission (apippi-10198)
 * Check partition keys for CAS operations during stmt validation (apippi-10338)
 * Add custom query expressions to SELECT (apippi-10217)
 * Fix minor bugs in MV handling (apippi-10362)
 * Allow custom indexes with 0,1 or multiple target columns (apippi-10124)
 * Improve MV schema representation (apippi-9921)
 * Add flag to enable/disable coordinator batchlog for MV writes (apippi-10230)
 * Update cqlsh COPY for new internal driver serialization interface (apippi-10318)
 * Give index implementations more control over rebuild operations (apippi-10312)
 * Update index file format (apippi-10314)
 * Add "shadowable" row tombstones to deal with mv timestamp issues (apippi-10261)
 * CFS.loadNewSSTables() broken for pre-3.0 sstables
 * Cache selected index in read command to reduce lookups (apippi-10215)
 * Small optimizations of sstable index serialization (apippi-10232)
 * Support for both encrypted and unencrypted native transport connections (apippi-9590)
Merged from 2.2:
 * Configurable page size in cqlsh (apippi-9855)
 * Defer default role manager setup until all nodes are on 2.2+ (apippi-9761)
 * Handle missing RoleManager in config after upgrade to 2.2 (apippi-10209)
Merged from 2.1:
 * Bulk Loader API could not tolerate even node failure (apippi-10347)
 * Avoid misleading pushed notifications when multiple nodes
   share an rpc_address (apippi-10052)
 * Fix dropping undroppable when message queue is full (apippi-10113)
 * Fix potential ClassCastException during paging (apippi-10352)
 * Prevent ALTER TYPE from creating circular references (apippi-10339)
 * Fix cache handling of 2i and base tables (apippi-10155, 10359)
 * Fix NPE in nodetool compactionhistory (apippi-9758)
 * (Pig) support BulkOutputFormat as a URL parameter (apippi-7410)
 * BATCH statement is broken in cqlsh (apippi-10272)
 * (cqlsh) Make cqlsh PEP8 Compliant (apippi-10066)
 * (cqlsh) Fix error when starting cqlsh with --debug (apippi-10282)
 * Scrub, Cleanup and Upgrade do not unmark compacting until all operations
   have completed, regardless of the occurence of exceptions (apippi-10274)


3.0.0-beta2
 * Fix columns returned by AbstractBtreePartitions (apippi-10220)
 * Fix backward compatibility issue due to AbstractBounds serialization bug (apippi-9857)
 * Fix startup error when upgrading nodes (apippi-10136)
 * Base table PRIMARY KEY can be assumed to be NOT NULL in MV creation (apippi-10147)
 * Improve batchlog write patch (apippi-9673)
 * Re-apply MaterializedView updates on commitlog replay (apippi-10164)
 * Require AbstractType.isByteOrderComparable declaration in constructor (apippi-9901)
 * Avoid digest mismatch on upgrade to 3.0 (apippi-9554)
 * Fix Materialized View builder when adding multiple MVs (apippi-10156)
 * Choose better poolingOptions for protocol v4 in apippi-stress (apippi-10182)
 * Fix LWW bug affecting Materialized Views (apippi-10197)
 * Ensures frozen sets and maps are always sorted (apippi-10162)
 * Don't deadlock when flushing CFS backed custom indexes (apippi-10181)
 * Fix double flushing of secondary index tables (apippi-10180)
 * Fix incorrect handling of range tombstones in thrift (apippi-10046)
 * Only use batchlog when paired materialized view replica is remote (apippi-10061)
 * Reuse TemporalRow when updating multiple MaterializedViews (apippi-10060)
 * Validate gc_grace_seconds for batchlog writes and MVs (apippi-9917)
 * Fix sstablerepairedset (apippi-10132)
Merged from 2.2:
 * Cancel transaction for sstables we wont redistribute index summary
   for (apippi-10270)
 * Retry snapshot deletion after compaction and gc on Windows (apippi-10222)
 * Fix failure to start with space in directory path on Windows (apippi-10239)
 * Fix repair hang when snapshot failed (apippi-10057)
 * Fall back to 1/4 commitlog volume for commitlog_total_space on small disks
   (apippi-10199)
Merged from 2.1:
 * Added configurable warning threshold for GC duration (apippi-8907)
 * Fix handling of streaming EOF (apippi-10206)
 * Only check KeyCache when it is enabled
 * Change streaming_socket_timeout_in_ms default to 1 hour (apippi-8611)
 * (cqlsh) update list of CQL keywords (apippi-9232)
 * Add nodetool gettraceprobability command (apippi-10234)
Merged from 2.0:
 * Fix rare race where older gossip states can be shadowed (apippi-10366)
 * Fix consolidating racks violating the RF contract (apippi-10238)
 * Disallow decommission when node is in drained state (apippi-8741)


2.2.1
 * Fix race during construction of commit log (apippi-10049)
 * Fix LeveledCompactionStrategyTest (apippi-9757)
 * Fix broken UnbufferedDataOutputStreamPlus.writeUTF (apippi-10203)
 * (cqlsh) default load-from-file encoding to utf-8 (apippi-9898)
 * Avoid returning Permission.NONE when failing to query users table (apippi-10168)
 * (cqlsh) add CLEAR command (apippi-10086)
 * Support string literals as Role names for compatibility (apippi-10135)
Merged from 2.1:
 * Only check KeyCache when it is enabled
 * Change streaming_socket_timeout_in_ms default to 1 hour (apippi-8611)
 * (cqlsh) update list of CQL keywords (apippi-9232)


3.0.0-beta1
 * Redesign secondary index API (apippi-9459, 7771, 9041)
 * Fix throwing ReadFailure instead of ReadTimeout on range queries (apippi-10125)
 * Rewrite hinted handoff (apippi-6230)
 * Fix query on static compact tables (apippi-10093)
 * Fix race during construction of commit log (apippi-10049)
 * Add option to only purge repaired tombstones (apippi-6434)
 * Change authorization handling for MVs (apippi-9927)
 * Add custom JMX enabled executor for UDF sandbox (apippi-10026)
 * Fix row deletion bug for Materialized Views (apippi-10014)
 * Support mixed-version clusters with apippi 2.1 and 2.2 (apippi-9704)
 * Fix multiple slices on RowSearchers (apippi-10002)
 * Fix bug in merging of collections (apippi-10001)
 * Optimize batchlog replay to avoid full scans (apippi-7237)
 * Repair improvements when using vnodes (apippi-5220)
 * Disable scripted UDFs by default (apippi-9889)
 * Bytecode inspection for Java-UDFs (apippi-9890)
 * Use byte to serialize MT hash length (apippi-9792)
 * Replace usage of Adler32 with CRC32 (apippi-8684)
 * Fix migration to new format from 2.1 SSTable (apippi-10006)
 * SequentialWriter should extend BufferedDataOutputStreamPlus (apippi-9500)
 * Use the same repairedAt timestamp within incremental repair session (apippi-9111)
Merged from 2.2:
 * Allow count(*) and count(1) to be use as normal aggregation (apippi-10114)
 * An NPE is thrown if the column name is unknown for an IN relation (apippi-10043)
 * Apply commit_failure_policy to more errors on startup (apippi-9749)
 * Fix histogram overflow exception (apippi-9973)
 * Route gossip messages over dedicated socket (apippi-9237)
 * Add checksum to saved cache files (apippi-9265)
 * Log warning when using an aggregate without partition key (apippi-9737)
Merged from 2.1:
 * (cqlsh) Allow encoding to be set through command line (apippi-10004)
 * Add new JMX methods to change local compaction strategy (apippi-9965)
 * Write hints for paxos commits (apippi-7342)
 * (cqlsh) Fix timestamps before 1970 on Windows, always
   use UTC for timestamp display (apippi-10000)
 * (cqlsh) Avoid overwriting new config file with old config
   when both exist (apippi-9777)
 * Release snapshot selfRef when doing snapshot repair (apippi-9998)
 * Cannot replace token does not exist - DN node removed as Fat Client (apippi-9871)
Merged from 2.0:
 * Don't cast expected bf size to an int (apippi-9959)
 * Make getFullyExpiredSSTables less expensive (apippi-9882)


3.0.0-alpha1
 * Implement proper sandboxing for UDFs (apippi-9402)
 * Simplify (and unify) cleanup of compaction leftovers (apippi-7066)
 * Allow extra schema definitions in apippi-stress yaml (apippi-9850)
 * Metrics should use up to date nomenclature (apippi-9448)
 * Change CREATE/ALTER TABLE syntax for compression (apippi-8384)
 * Cleanup crc and adler code for java 8 (apippi-9650)
 * Storage engine refactor (apippi-8099, 9743, 9746, 9759, 9781, 9808, 9825,
   9848, 9705, 9859, 9867, 9874, 9828, 9801)
 * Update Guava to 18.0 (apippi-9653)
 * Bloom filter false positive ratio is not honoured (apippi-8413)
 * New option for apippi-stress to leave a ratio of columns null (apippi-9522)
 * Change hinted_handoff_enabled yaml setting, JMX (apippi-9035)
 * Add algorithmic token allocation (apippi-7032)
 * Add nodetool command to replay batchlog (apippi-9547)
 * Make file buffer cache independent of paths being read (apippi-8897)
 * Remove deprecated legacy Hadoop code (apippi-9353)
 * Decommissioned nodes will not rejoin the cluster (apippi-8801)
 * Change gossip stabilization to use endpoit size (apippi-9401)
 * Change default garbage collector to G1 (apippi-7486)
 * Populate TokenMetadata early during startup (apippi-9317)
 * Undeprecate cache recentHitRate (apippi-6591)
 * Add support for selectively varint encoding fields (apippi-9499, 9865)
 * Materialized Views (apippi-6477)
Merged from 2.2:
 * Avoid grouping sstables for anticompaction with DTCS (apippi-9900)
 * UDF / UDA execution time in trace (apippi-9723)
 * Fix broken internode SSL (apippi-9884)
Merged from 2.1:
 * Add new JMX methods to change local compaction strategy (apippi-9965)
 * Fix handling of enable/disable autocompaction (apippi-9899)
 * Add consistency level to tracing ouput (apippi-9827)
 * Remove repair snapshot leftover on startup (apippi-7357)
 * Use random nodes for batch log when only 2 racks (apippi-8735)
 * Ensure atomicity inside thrift and stream session (apippi-7757)
 * Fix nodetool info error when the node is not joined (apippi-9031)
Merged from 2.0:
 * Log when messages are dropped due to cross_node_timeout (apippi-9793)
 * Don't track hotness when opening from snapshot for validation (apippi-9382)


2.2.0
 * Allow the selection of columns together with aggregates (apippi-9767)
 * Fix cqlsh copy methods and other windows specific issues (apippi-9795)
 * Don't wrap byte arrays in SequentialWriter (apippi-9797)
 * sum() and avg() functions missing for smallint and tinyint types (apippi-9671)
 * Revert apippi-9542 (allow native functions in UDA) (apippi-9771)
Merged from 2.1:
 * Fix MarshalException when upgrading superColumn family (apippi-9582)
 * Fix broken logging for "empty" flushes in Memtable (apippi-9837)
 * Handle corrupt files on startup (apippi-9686)
 * Fix clientutil jar and tests (apippi-9760)
 * (cqlsh) Allow the SSL protocol version to be specified through the
    config file or environment variables (apippi-9544)
Merged from 2.0:
 * Add tool to find why expired sstables are not getting dropped (apippi-10015)
 * Remove erroneous pending HH tasks from tpstats/jmx (apippi-9129)
 * Don't cast expected bf size to an int (apippi-9959)
 * checkForEndpointCollision fails for legitimate collisions (apippi-9765)
 * Complete apippi-8448 fix (apippi-9519)
 * Don't include auth credentials in debug log (apippi-9682)
 * Can't transition from write survey to normal mode (apippi-9740)
 * Scrub (recover) sstables even when -Index.db is missing (apippi-9591)
 * Fix growing pending background compaction (apippi-9662)


2.2.0-rc2
 * Re-enable memory-mapped I/O on Windows (apippi-9658)
 * Warn when an extra-large partition is compacted (apippi-9643)
 * (cqlsh) Allow setting the initial connection timeout (apippi-9601)
 * BulkLoader has --transport-factory option but does not use it (apippi-9675)
 * Allow JMX over SSL directly from nodetool (apippi-9090)
 * Update cqlsh for UDFs (apippi-7556)
 * Change Windows kernel default timer resolution (apippi-9634)
 * Deprected sstable2json and json2sstable (apippi-9618)
 * Allow native functions in user-defined aggregates (apippi-9542)
 * Don't repair system_distributed by default (apippi-9621)
 * Fix mixing min, max, and count aggregates for blob type (CASSANRA-9622)
 * Rename class for DATE type in Java driver (apippi-9563)
 * Duplicate compilation of UDFs on coordinator (apippi-9475)
 * Fix connection leak in CqlRecordWriter (apippi-9576)
 * Mlockall before opening system sstables & remove boot_without_jna option (apippi-9573)
 * Add functions to convert timeuuid to date or time, deprecate dateOf and unixTimestampOf (apippi-9229)
 * Make sure we cancel non-compacting sstables from LifecycleTransaction (apippi-9566)
 * Fix deprecated repair JMX API (apippi-9570)
 * Add logback metrics (apippi-9378)
 * Update and refactor ant test/test-compression to run the tests in parallel (apippi-9583)
 * Fix upgrading to new directory for secondary index (apippi-9687)
Merged from 2.1:
 * (cqlsh) Fix bad check for CQL compatibility when DESCRIBE'ing
   COMPACT STORAGE tables with no clustering columns
 * Eliminate strong self-reference chains in sstable ref tidiers (apippi-9656)
 * Ensure StreamSession uses canonical sstable reader instances (apippi-9700)
 * Ensure memtable book keeping is not corrupted in the event we shrink usage (apippi-9681)
 * Update internal python driver for cqlsh (apippi-9064)
 * Fix IndexOutOfBoundsException when inserting tuple with too many
   elements using the string literal notation (apippi-9559)
 * Enable describe on indices (apippi-7814)
 * Fix incorrect result for IN queries where column not found (apippi-9540)
 * ColumnFamilyStore.selectAndReference may block during compaction (apippi-9637)
 * Fix bug in cardinality check when compacting (apippi-9580)
 * Fix memory leak in Ref due to ConcurrentLinkedQueue.remove() behaviour (apippi-9549)
 * Make rebuild only run one at a time (apippi-9119)
Merged from 2.0:
 * Avoid NPE in AuthSuccess#decode (apippi-9727)
 * Add listen_address to system.local (apippi-9603)
 * Bug fixes to resultset metadata construction (apippi-9636)
 * Fix setting 'durable_writes' in ALTER KEYSPACE (apippi-9560)
 * Avoids ballot clash in Paxos (apippi-9649)
 * Improve trace messages for RR (apippi-9479)
 * Fix suboptimal secondary index selection when restricted
   clustering column is also indexed (apippi-9631)
 * (cqlsh) Add min_threshold to DTCS option autocomplete (apippi-9385)
 * Fix error message when attempting to create an index on a column
   in a COMPACT STORAGE table with clustering columns (apippi-9527)
 * 'WITH WITH' in alter keyspace statements causes NPE (apippi-9565)
 * Expose some internals of SelectStatement for inspection (apippi-9532)
 * ArrivalWindow should use primitives (apippi-9496)
 * Periodically submit background compaction tasks (apippi-9592)
 * Set HAS_MORE_PAGES flag to false when PagingState is null (apippi-9571)


2.2.0-rc1
 * Compressed commit log should measure compressed space used (apippi-9095)
 * Fix comparison bug in apippiRoleManager#collectRoles (apippi-9551)
 * Add tinyint,smallint,time,date support for UDFs (apippi-9400)
 * Deprecates SSTableSimpleWriter and SSTableSimpleUnsortedWriter (apippi-9546)
 * Empty INITCOND treated as null in aggregate (apippi-9457)
 * Remove use of Cell in Thrift MapReduce classes (apippi-8609)
 * Integrate pre-release Java Driver 2.2-rc1, custom build (apippi-9493)
 * Clean up gossiper logic for old versions (apippi-9370)
 * Fix custom payload coding/decoding to match the spec (apippi-9515)
 * ant test-all results incomplete when parsed (apippi-9463)
 * Disallow frozen<> types in function arguments and return types for
   clarity (apippi-9411)
 * Static Analysis to warn on unsafe use of Autocloseable instances (apippi-9431)
 * Update commitlog archiving examples now that commitlog segments are
   not recycled (apippi-9350)
 * Extend Transactional API to sstable lifecycle management (apippi-8568)
 * (cqlsh) Add support for native protocol 4 (apippi-9399)
 * Ensure that UDF and UDAs are keyspace-isolated (apippi-9409)
 * Revert apippi-7807 (tracing completion client notifications) (apippi-9429)
 * Add ability to stop compaction by ID (apippi-7207)
 * Let apippiVersion handle SNAPSHOT version (apippi-9438)
Merged from 2.1:
 * (cqlsh) Fix using COPY through SOURCE or -f (apippi-9083)
 * Fix occasional lack of `system` keyspace in schema tables (apippi-8487)
 * Use ProtocolError code instead of ServerError code for native protocol
   error responses to unsupported protocol versions (apippi-9451)
 * Default commitlog_sync_batch_window_in_ms changed to 2ms (apippi-9504)
 * Fix empty partition assertion in unsorted sstable writing tools (apippi-9071)
 * Ensure truncate without snapshot cannot produce corrupt responses (apippi-9388)
 * Consistent error message when a table mixes counter and non-counter
   columns (apippi-9492)
 * Avoid getting unreadable keys during anticompaction (apippi-9508)
 * (cqlsh) Better float precision by default (apippi-9224)
 * Improve estimated row count (apippi-9107)
 * Optimize range tombstone memory footprint (apippi-8603)
 * Use configured gcgs in anticompaction (apippi-9397)
Merged from 2.0:
 * Don't accumulate more range than necessary in RangeTombstone.Tracker (apippi-9486)
 * Add broadcast and rpc addresses to system.local (apippi-9436)
 * Always mark sstable suspect when corrupted (apippi-9478)
 * Add database users and permissions to CQL3 documentation (apippi-7558)
 * Allow JVM_OPTS to be passed to standalone tools (apippi-5969)
 * Fix bad condition in RangeTombstoneList (apippi-9485)
 * Fix potential StackOverflow when setting CrcCheckChance over JMX (apippi-9488)
 * Fix null static columns in pages after the first, paged reversed
   queries (apippi-8502)
 * Fix counting cache serialization in request metrics (apippi-9466)
 * Add option not to validate atoms during scrub (apippi-9406)


2.2.0-beta1
 * Introduce Transactional API for internal state changes (apippi-8984)
 * Add a flag in apippi.yaml to enable UDFs (apippi-9404)
 * Better support of null for UDF (apippi-8374)
 * Use ecj instead of javassist for UDFs (apippi-8241)
 * faster async logback configuration for tests (apippi-9376)
 * Add `smallint` and `tinyint` data types (apippi-8951)
 * Avoid thrift schema creation when native driver is used in stress tool (apippi-9374)
 * Make Functions.declared thread-safe
 * Add client warnings to native protocol v4 (apippi-8930)
 * Allow roles cache to be invalidated (apippi-8967)
 * Upgrade Snappy (apippi-9063)
 * Don't start Thrift rpc by default (apippi-9319)
 * Only stream from unrepaired sstables with incremental repair (apippi-8267)
 * Aggregate UDFs allow SFUNC return type to differ from STYPE if FFUNC specified (apippi-9321)
 * Remove Thrift dependencies in bundled tools (apippi-8358)
 * Disable memory mapping of hsperfdata file for JVM statistics (apippi-9242)
 * Add pre-startup checks to detect potential incompatibilities (apippi-8049)
 * Distinguish between null and unset in protocol v4 (apippi-7304)
 * Add user/role permissions for user-defined functions (apippi-7557)
 * Allow apippi config to be updated to restart daemon without unloading classes (apippi-9046)
 * Don't initialize compaction writer before checking if iter is empty (apippi-9117)
 * Don't execute any functions at prepare-time (apippi-9037)
 * Share file handles between all instances of a SegmentedFile (apippi-8893)
 * Make it possible to major compact LCS (apippi-7272)
 * Make FunctionExecutionException extend RequestExecutionException
   (apippi-9055)
 * Add support for SELECT JSON, INSERT JSON syntax and new toJson(), fromJson()
   functions (apippi-7970)
 * Optimise max purgeable timestamp calculation in compaction (apippi-8920)
 * Constrain internode message buffer sizes, and improve IO class hierarchy (apippi-8670)
 * New tool added to validate all sstables in a node (apippi-5791)
 * Push notification when tracing completes for an operation (apippi-7807)
 * Delay "node up" and "node added" notifications until native protocol server is started (apippi-8236)
 * Compressed Commit Log (apippi-6809)
 * Optimise IntervalTree (apippi-8988)
 * Add a key-value payload for third party usage (apippi-8553, 9212)
 * Bump metrics-reporter-config dependency for metrics 3.0 (apippi-8149)
 * Partition intra-cluster message streams by size, not type (apippi-8789)
 * Add WriteFailureException to native protocol, notify coordinator of
   write failures (apippi-8592)
 * Convert SequentialWriter to nio (apippi-8709)
 * Add role based access control (apippi-7653, 8650, 7216, 8760, 8849, 8761, 8850)
 * Record client ip address in tracing sessions (apippi-8162)
 * Indicate partition key columns in response metadata for prepared
   statements (apippi-7660)
 * Merge UUIDType and TimeUUIDType parse logic (apippi-8759)
 * Avoid memory allocation when searching index summary (apippi-8793)
 * Optimise (Time)?UUIDType Comparisons (apippi-8730)
 * Make CRC32Ex into a separate maven dependency (apippi-8836)
 * Use preloaded jemalloc w/ Unsafe (apippi-8714, 9197)
 * Avoid accessing partitioner through StorageProxy (apippi-8244, 8268)
 * Upgrade Metrics library and remove depricated metrics (apippi-5657)
 * Serializing Row cache alternative, fully off heap (apippi-7438)
 * Duplicate rows returned when in clause has repeated values (apippi-6706)
 * Make apippiException unchecked, extend RuntimeException (apippi-8560)
 * Support direct buffer decompression for reads (apippi-8464)
 * DirectByteBuffer compatible LZ4 methods (apippi-7039)
 * Group sstables for anticompaction correctly (apippi-8578)
 * Add ReadFailureException to native protocol, respond
   immediately when replicas encounter errors while handling
   a read request (apippi-7886)
 * Switch CommitLogSegment from RandomAccessFile to nio (apippi-8308)
 * Allow mixing token and partition key restrictions (apippi-7016)
 * Support index key/value entries on map collections (apippi-8473)
 * Modernize schema tables (apippi-8261)
 * Support for user-defined aggregation functions (apippi-8053)
 * Fix NPE in SelectStatement with empty IN values (apippi-8419)
 * Refactor SelectStatement, return IN results in natural order instead
   of IN value list order and ignore duplicate values in partition key IN restrictions (apippi-7981)
 * Support UDTs, tuples, and collections in user-defined
   functions (apippi-7563)
 * Fix aggregate fn results on empty selection, result column name,
   and cqlsh parsing (apippi-8229)
 * Mark sstables as repaired after full repair (apippi-7586)
 * Extend Descriptor to include a format value and refactor reader/writer
   APIs (apippi-7443)
 * Integrate JMH for microbenchmarks (apippi-8151)
 * Keep sstable levels when bootstrapping (apippi-7460)
 * Add Sigar library and perform basic OS settings check on startup (apippi-7838)
 * Support for aggregation functions (apippi-4914)
 * Remove apippi-cli (apippi-7920)
 * Accept dollar quoted strings in CQL (apippi-7769)
 * Make assassinate a first class command (apippi-7935)
 * Support IN clause on any partition key column (apippi-7855)
 * Support IN clause on any clustering column (apippi-4762)
 * Improve compaction logging (apippi-7818)
 * Remove YamlFileNetworkTopologySnitch (apippi-7917)
 * Do anticompaction in groups (apippi-6851)
 * Support user-defined functions (apippi-7395, 7526, 7562, 7740, 7781, 7929,
   7924, 7812, 8063, 7813, 7708)
 * Permit configurable timestamps with apippi-stress (apippi-7416)
 * Move sstable RandomAccessReader to nio2, which allows using the
   FILE_SHARE_DELETE flag on Windows (apippi-4050)
 * Remove CQL2 (apippi-5918)
 * Optimize fetching multiple cells by name (apippi-6933)
 * Allow compilation in java 8 (apippi-7028)
 * Make incremental repair default (apippi-7250)
 * Enable code coverage thru JaCoCo (apippi-7226)
 * Switch external naming of 'column families' to 'tables' (apippi-4369)
 * Shorten SSTable path (apippi-6962)
 * Use unsafe mutations for most unit tests (apippi-6969)
 * Fix race condition during calculation of pending ranges (apippi-7390)
 * Fail on very large batch sizes (apippi-8011)
 * Improve concurrency of repair (apippi-6455, 8208, 9145)
 * Select optimal CRC32 implementation at runtime (apippi-8614)
 * Evaluate MurmurHash of Token once per query (apippi-7096)
 * Generalize progress reporting (apippi-8901)
 * Resumable bootstrap streaming (apippi-8838, apippi-8942)
 * Allow scrub for secondary index (apippi-5174)
 * Save repair data to system table (apippi-5839)
 * fix nodetool names that reference column families (apippi-8872)
 Merged from 2.1:
 * Warn on misuse of unlogged batches (apippi-9282)
 * Failure detector detects and ignores local pauses (apippi-9183)
 * Add utility class to support for rate limiting a given log statement (apippi-9029)
 * Add missing consistency levels to apippi-stess (apippi-9361)
 * Fix commitlog getCompletedTasks to not increment (apippi-9339)
 * Fix for harmless exceptions logged as ERROR (apippi-8564)
 * Delete processed sstables in sstablesplit/sstableupgrade (apippi-8606)
 * Improve sstable exclusion from partition tombstones (apippi-9298)
 * Validate the indexed column rather than the cell's contents for 2i (apippi-9057)
 * Add support for top-k custom 2i queries (apippi-8717)
 * Fix error when dropping table during compaction (apippi-9251)
 * apippi-stress supports validation operations over user profiles (apippi-8773)
 * Add support for rate limiting log messages (apippi-9029)
 * Log the partition key with tombstone warnings (apippi-8561)
 * Reduce runWithCompactionsDisabled poll interval to 1ms (apippi-9271)
 * Fix PITR commitlog replay (apippi-9195)
 * GCInspector logs very different times (apippi-9124)
 * Fix deleting from an empty list (apippi-9198)
 * Update tuple and collection types that use a user-defined type when that UDT
   is modified (apippi-9148, apippi-9192)
 * Use higher timeout for prepair and snapshot in repair (apippi-9261)
 * Fix anticompaction blocking ANTI_ENTROPY stage (apippi-9151)
 * Repair waits for anticompaction to finish (apippi-9097)
 * Fix streaming not holding ref when stream error (apippi-9295)
 * Fix canonical view returning early opened SSTables (apippi-9396)
Merged from 2.0:
 * (cqlsh) Add LOGIN command to switch users (apippi-7212)
 * Clone SliceQueryFilter in AbstractReadCommand implementations (apippi-8940)
 * Push correct protocol notification for DROP INDEX (apippi-9310)
 * token-generator - generated tokens too long (apippi-9300)
 * Fix counting of tombstones for TombstoneOverwhelmingException (apippi-9299)
 * Fix ReconnectableSnitch reconnecting to peers during upgrade (apippi-6702)
 * Include keyspace and table name in error log for collections over the size
   limit (apippi-9286)
 * Avoid potential overlap in LCS with single-partition sstables (apippi-9322)
 * Log warning message when a table is queried before the schema has fully
   propagated (apippi-9136)
 * Overload SecondaryIndex#indexes to accept the column definition (apippi-9314)
 * (cqlsh) Add SERIAL and LOCAL_SERIAL consistency levels (apippi-8051)
 * Fix index selection during rebuild with certain table layouts (apippi-9281)
 * Fix partition-level-delete-only workload accounting (apippi-9194)
 * Allow scrub to handle corrupted compressed chunks (apippi-9140)
 * Fix assertion error when resetlocalschema is run during repair (apippi-9249)
 * Disable single sstable tombstone compactions for DTCS by default (apippi-9234)
 * IncomingTcpConnection thread is not named (apippi-9262)
 * Close incoming connections when MessagingService is stopped (apippi-9238)
 * Fix streaming hang when retrying (apippi-9132)


2.1.5
 * Re-add deprecated cold_reads_to_omit param for backwards compat (apippi-9203)
 * Make anticompaction visible in compactionstats (apippi-9098)
 * Improve nodetool getendpoints documentation about the partition
   key parameter (apippi-6458)
 * Don't check other keyspaces for schema changes when an user-defined
   type is altered (apippi-9187)
 * Add generate-idea-files target to build.xml (apippi-9123)
 * Allow takeColumnFamilySnapshot to take a list of tables (apippi-8348)
 * Limit major sstable operations to their canonical representation (apippi-8669)
 * cqlsh: Add tests for INSERT and UPDATE tab completion (apippi-9125)
 * cqlsh: quote column names when needed in COPY FROM inserts (apippi-9080)
 * Do not load read meter for offline operations (apippi-9082)
 * cqlsh: Make CompositeType data readable (apippi-8919)
 * cqlsh: Fix display of triggers (apippi-9081)
 * Fix NullPointerException when deleting or setting an element by index on
   a null list collection (apippi-9077)
 * Buffer bloom filter serialization (apippi-9066)
 * Fix anti-compaction target bloom filter size (apippi-9060)
 * Make FROZEN and TUPLE unreserved keywords in CQL (apippi-9047)
 * Prevent AssertionError from SizeEstimatesRecorder (apippi-9034)
 * Avoid overwriting index summaries for sstables with an older format that
   does not support downsampling; rebuild summaries on startup when this
   is detected (apippi-8993)
 * Fix potential data loss in CompressedSequentialWriter (apippi-8949)
 * Make PasswordAuthenticator number of hashing rounds configurable (apippi-8085)
 * Fix AssertionError when binding nested collections in DELETE (apippi-8900)
 * Check for overlap with non-early sstables in LCS (apippi-8739)
 * Only calculate max purgable timestamp if we have to (apippi-8914)
 * (cqlsh) Greatly improve performance of COPY FROM (apippi-8225)
 * IndexSummary effectiveIndexInterval is now a guideline, not a rule (apippi-8993)
 * Use correct bounds for page cache eviction of compressed files (apippi-8746)
 * SSTableScanner enforces its bounds (apippi-8946)
 * Cleanup cell equality (apippi-8947)
 * Introduce intra-cluster message coalescing (apippi-8692)
 * DatabaseDescriptor throws NPE when rpc_interface is used (apippi-8839)
 * Don't check if an sstable is live for offline compactions (apippi-8841)
 * Don't set clientMode in SSTableLoader (apippi-8238)
 * Fix SSTableRewriter with disabled early open (apippi-8535)
 * Fix apippi-stress so it respects the CL passed in user mode (apippi-8948)
 * Fix rare NPE in ColumnDefinition#hasIndexOption() (apippi-8786)
 * apippi-stress reports per-operation statistics, plus misc (apippi-8769)
 * Add SimpleDate (cql date) and Time (cql time) types (apippi-7523)
 * Use long for key count in cfstats (apippi-8913)
 * Make SSTableRewriter.abort() more robust to failure (apippi-8832)
 * Remove cold_reads_to_omit from STCS (apippi-8860)
 * Make EstimatedHistogram#percentile() use ceil instead of floor (apippi-8883)
 * Fix top partitions reporting wrong cardinality (apippi-8834)
 * Fix rare NPE in KeyCacheSerializer (apippi-8067)
 * Pick sstables for validation as late as possible inc repairs (apippi-8366)
 * Fix commitlog getPendingTasks to not increment (apippi-8862)
 * Fix parallelism adjustment in range and secondary index queries
   when the first fetch does not satisfy the limit (apippi-8856)
 * Check if the filtered sstables is non-empty in STCS (apippi-8843)
 * Upgrade java-driver used for apippi-stress (apippi-8842)
 * Fix CommitLog.forceRecycleAllSegments() memory access error (apippi-8812)
 * Improve assertions in Memory (apippi-8792)
 * Fix SSTableRewriter cleanup (apippi-8802)
 * Introduce SafeMemory for CompressionMetadata.Writer (apippi-8758)
 * 'nodetool info' prints exception against older node (apippi-8796)
 * Ensure SSTableReader.last corresponds exactly with the file end (apippi-8750)
 * Make SSTableWriter.openEarly more robust and obvious (apippi-8747)
 * Enforce SSTableReader.first/last (apippi-8744)
 * Cleanup SegmentedFile API (apippi-8749)
 * Avoid overlap with early compaction replacement (apippi-8683)
 * Safer Resource Management++ (apippi-8707)
 * Write partition size estimates into a system table (apippi-7688)
 * cqlsh: Fix keys() and full() collection indexes in DESCRIBE output
   (apippi-8154)
 * Show progress of streaming in nodetool netstats (apippi-8886)
 * IndexSummaryBuilder utilises offheap memory, and shares data between
   each IndexSummary opened from it (apippi-8757)
 * markCompacting only succeeds if the exact SSTableReader instances being
   marked are in the live set (apippi-8689)
 * apippi-stress support for varint (apippi-8882)
 * Fix Adler32 digest for compressed sstables (apippi-8778)
 * Add nodetool statushandoff/statusbackup (apippi-8912)
 * Use stdout for progress and stats in sstableloader (apippi-8982)
 * Correctly identify 2i datadir from older versions (apippi-9116)
Merged from 2.0:
 * Ignore gossip SYNs after shutdown (apippi-9238)
 * Avoid overflow when calculating max sstable size in LCS (apippi-9235)
 * Make sstable blacklisting work with compression (apippi-9138)
 * Do not attempt to rebuild indexes if no index accepts any column (apippi-9196)
 * Don't initiate snitch reconnection for dead states (apippi-7292)
 * Fix ArrayIndexOutOfBoundsException in CQLSSTableWriter (apippi-8978)
 * Add shutdown gossip state to prevent timeouts during rolling restarts (apippi-8336)
 * Fix running with java.net.preferIPv6Addresses=true (apippi-9137)
 * Fix failed bootstrap/replace attempts being persisted in system.peers (apippi-9180)
 * Flush system.IndexInfo after marking index built (apippi-9128)
 * Fix updates to min/max_compaction_threshold through apippi-cli
   (apippi-8102)
 * Don't include tmp files when doing offline relevel (apippi-9088)
 * Use the proper CAS WriteType when finishing a previous round during Paxos
   preparation (apippi-8672)
 * Avoid race in cancelling compactions (apippi-9070)
 * More aggressive check for expired sstables in DTCS (apippi-8359)
 * Fix ignored index_interval change in ALTER TABLE statements (apippi-7976)
 * Do more aggressive compaction in old time windows in DTCS (apippi-8360)
 * java.lang.AssertionError when reading saved cache (apippi-8740)
 * "disk full" when running cleanup (apippi-9036)
 * Lower logging level from ERROR to DEBUG when a scheduled schema pull
   cannot be completed due to a node being down (apippi-9032)
 * Fix MOVED_NODE client event (apippi-8516)
 * Allow overriding MAX_OUTSTANDING_REPLAY_COUNT (apippi-7533)
 * Fix malformed JMX ObjectName containing IPv6 addresses (apippi-9027)
 * (cqlsh) Allow increasing CSV field size limit through
   cqlshrc config option (apippi-8934)
 * Stop logging range tombstones when exceeding the threshold
   (apippi-8559)
 * Fix NullPointerException when nodetool getendpoints is run
   against invalid keyspaces or tables (apippi-8950)
 * Allow specifying the tmp dir (apippi-7712)
 * Improve compaction estimated tasks estimation (apippi-8904)
 * Fix duplicate up/down messages sent to native clients (apippi-7816)
 * Expose commit log archive status via JMX (apippi-8734)
 * Provide better exceptions for invalid replication strategy parameters
   (apippi-8909)
 * Fix regression in mixed single and multi-column relation support for
   SELECT statements (apippi-8613)
 * Add ability to limit number of native connections (apippi-8086)
 * Fix CQLSSTableWriter throwing exception and spawning threads
   (apippi-8808)
 * Fix MT mismatch between empty and GC-able data (apippi-8979)
 * Fix incorrect validation when snapshotting single table (apippi-8056)
 * Add offline tool to relevel sstables (apippi-8301)
 * Preserve stream ID for more protocol errors (apippi-8848)
 * Fix combining token() function with multi-column relations on
   clustering columns (apippi-8797)
 * Make CFS.markReferenced() resistant to bad refcounting (apippi-8829)
 * Fix StreamTransferTask abort/complete bad refcounting (apippi-8815)
 * Fix AssertionError when querying a DESC clustering ordered
   table with ASC ordering and paging (apippi-8767)
 * AssertionError: "Memory was freed" when running cleanup (apippi-8716)
 * Make it possible to set max_sstable_age to fractional days (apippi-8406)
 * Fix some multi-column relations with indexes on some clustering
   columns (apippi-8275)
 * Fix memory leak in SSTableSimple*Writer and SSTableReader.validate()
   (apippi-8748)
 * Throw OOM if allocating memory fails to return a valid pointer (apippi-8726)
 * Fix SSTableSimpleUnsortedWriter ConcurrentModificationException (apippi-8619)
 * 'nodetool info' prints exception against older node (apippi-8796)
 * Ensure SSTableSimpleUnsortedWriter.close() terminates if
   disk writer has crashed (apippi-8807)


2.1.4
 * Bind JMX to localhost unless explicitly configured otherwise (apippi-9085)


2.1.3
 * Fix HSHA/offheap_objects corruption (apippi-8719)
 * Upgrade libthrift to 0.9.2 (apippi-8685)
 * Don't use the shared ref in sstableloader (apippi-8704)
 * Purge internal prepared statements if related tables or
   keyspaces are dropped (apippi-8693)
 * (cqlsh) Handle unicode BOM at start of files (apippi-8638)
 * Stop compactions before exiting offline tools (apippi-8623)
 * Update tools/stress/README.txt to match current behaviour (apippi-7933)
 * Fix schema from Thrift conversion with empty metadata (apippi-8695)
 * Safer Resource Management (apippi-7705)
 * Make sure we compact highly overlapping cold sstables with
   STCS (apippi-8635)
 * rpc_interface and listen_interface generate NPE on startup when specified
   interface doesn't exist (apippi-8677)
 * Fix ArrayIndexOutOfBoundsException in nodetool cfhistograms (apippi-8514)
 * Switch from yammer metrics for nodetool cf/proxy histograms (apippi-8662)
 * Make sure we don't add tmplink files to the compaction
   strategy (apippi-8580)
 * (cqlsh) Handle maps with blob keys (apippi-8372)
 * (cqlsh) Handle DynamicCompositeType schemas correctly (apippi-8563)
 * Duplicate rows returned when in clause has repeated values (apippi-6706)
 * Add tooling to detect hot partitions (apippi-7974)
 * Fix apippi-stress user-mode truncation of partition generation (apippi-8608)
 * Only stream from unrepaired sstables during inc repair (apippi-8267)
 * Don't allow starting multiple inc repairs on the same sstables (apippi-8316)
 * Invalidate prepared BATCH statements when related tables
   or keyspaces are dropped (apippi-8652)
 * Fix missing results in secondary index queries on collections
   with ALLOW FILTERING (apippi-8421)
 * Expose EstimatedHistogram metrics for range slices (apippi-8627)
 * (cqlsh) Escape clqshrc passwords properly (apippi-8618)
 * Fix NPE when passing wrong argument in ALTER TABLE statement (apippi-8355)
 * Pig: Refactor and deprecate CqlStorage (apippi-8599)
 * Don't reuse the same cleanup strategy for all sstables (apippi-8537)
 * Fix case-sensitivity of index name on CREATE and DROP INDEX
   statements (apippi-8365)
 * Better detection/logging for corruption in compressed sstables (apippi-8192)
 * Use the correct repairedAt value when closing writer (apippi-8570)
 * (cqlsh) Handle a schema mismatch being detected on startup (apippi-8512)
 * Properly calculate expected write size during compaction (apippi-8532)
 * Invalidate affected prepared statements when a table's columns
   are altered (apippi-7910)
 * Stress - user defined writes should populate sequentally (apippi-8524)
 * Fix regression in SSTableRewriter causing some rows to become unreadable
   during compaction (apippi-8429)
 * Run major compactions for repaired/unrepaired in parallel (apippi-8510)
 * (cqlsh) Fix compression options in DESCRIBE TABLE output when compression
   is disabled (apippi-8288)
 * (cqlsh) Fix DESCRIBE output after keyspaces are altered (apippi-7623)
 * Make sure we set lastCompactedKey correctly (apippi-8463)
 * (cqlsh) Fix output of CONSISTENCY command (apippi-8507)
 * (cqlsh) Fixed the handling of LIST statements (apippi-8370)
 * Make sstablescrub check leveled manifest again (apippi-8432)
 * Check first/last keys in sstable when giving out positions (apippi-8458)
 * Disable mmap on Windows (apippi-6993)
 * Add missing ConsistencyLevels to apippi-stress (apippi-8253)
 * Add auth support to apippi-stress (apippi-7985)
 * Fix ArrayIndexOutOfBoundsException when generating error message
   for some CQL syntax errors (apippi-8455)
 * Scale memtable slab allocation logarithmically (apippi-7882)
 * apippi-stress simultaneous inserts over same seed (apippi-7964)
 * Reduce apippi-stress sampling memory requirements (apippi-7926)
 * Ensure memtable flush cannot expire commit log entries from its future (apippi-8383)
 * Make read "defrag" async to reclaim memtables (apippi-8459)
 * Remove tmplink files for offline compactions (apippi-8321)
 * Reduce maxHintsInProgress (apippi-8415)
 * BTree updates may call provided update function twice (apippi-8018)
 * Release sstable references after anticompaction (apippi-8386)
 * Handle abort() in SSTableRewriter properly (apippi-8320)
 * Centralize shared executors (apippi-8055)
 * Fix filtering for CONTAINS (KEY) relations on frozen collection
   clustering columns when the query is restricted to a single
   partition (apippi-8203)
 * Do more aggressive entire-sstable TTL expiry checks (apippi-8243)
 * Add more log info if readMeter is null (apippi-8238)
 * add check of the system wall clock time at startup (apippi-8305)
 * Support for frozen collections (apippi-7859)
 * Fix overflow on histogram computation (apippi-8028)
 * Have paxos reuse the timestamp generation of normal queries (apippi-7801)
 * Fix incremental repair not remove parent session on remote (apippi-8291)
 * Improve JBOD disk utilization (apippi-7386)
 * Log failed host when preparing incremental repair (apippi-8228)
 * Force config client mode in CQLSSTableWriter (apippi-8281)
 * Fix sstableupgrade throws exception (apippi-8688)
 * Fix hang when repairing empty keyspace (apippi-8694)
Merged from 2.0:
 * Fix IllegalArgumentException in dynamic snitch (apippi-8448)
 * Add support for UPDATE ... IF EXISTS (apippi-8610)
 * Fix reversal of list prepends (apippi-8733)
 * Prevent non-zero default_time_to_live on tables with counters
   (apippi-8678)
 * Fix SSTableSimpleUnsortedWriter ConcurrentModificationException
   (apippi-8619)
 * Round up time deltas lower than 1ms in BulkLoader (apippi-8645)
 * Add batch remove iterator to ABSC (apippi-8414, 8666)
 * Round up time deltas lower than 1ms in BulkLoader (apippi-8645)
 * Fix isClientMode check in Keyspace (apippi-8687)
 * Use more efficient slice size for querying internal secondary
   index tables (apippi-8550)
 * Fix potentially returning deleted rows with range tombstone (apippi-8558)
 * Check for available disk space before starting a compaction (apippi-8562)
 * Fix DISTINCT queries with LIMITs or paging when some partitions
   contain only tombstones (apippi-8490)
 * Introduce background cache refreshing to permissions cache
   (apippi-8194)
 * Fix race condition in StreamTransferTask that could lead to
   infinite loops and premature sstable deletion (apippi-7704)
 * Add an extra version check to MigrationTask (apippi-8462)
 * Ensure SSTableWriter cleans up properly after failure (apippi-8499)
 * Increase bf true positive count on key cache hit (apippi-8525)
 * Move MeteredFlusher to its own thread (apippi-8485)
 * Fix non-distinct results in DISTNCT queries on static columns when
   paging is enabled (apippi-8087)
 * Move all hints related tasks to hints internal executor (apippi-8285)
 * Fix paging for multi-partition IN queries (apippi-8408)
 * Fix MOVED_NODE topology event never being emitted when a node
   moves its token (apippi-8373)
 * Fix validation of indexes in COMPACT tables (apippi-8156)
 * Avoid StackOverflowError when a large list of IN values
   is used for a clustering column (apippi-8410)
 * Fix NPE when writetime() or ttl() calls are wrapped by
   another function call (apippi-8451)
 * Fix NPE after dropping a keyspace (apippi-8332)
 * Fix error message on read repair timeouts (apippi-7947)
 * Default DTCS base_time_seconds changed to 60 (apippi-8417)
 * Refuse Paxos operation with more than one pending endpoint (apippi-8346, 8640)
 * Throw correct exception when trying to bind a keyspace or table
   name (apippi-6952)
 * Make HHOM.compact synchronized (apippi-8416)
 * cancel latency-sampling task when CF is dropped (apippi-8401)
 * don't block SocketThread for MessagingService (apippi-8188)
 * Increase quarantine delay on replacement (apippi-8260)
 * Expose off-heap memory usage stats (apippi-7897)
 * Ignore Paxos commits for truncated tables (apippi-7538)
 * Validate size of indexed column values (apippi-8280)
 * Make LCS split compaction results over all data directories (apippi-8329)
 * Fix some failing queries that use multi-column relations
   on COMPACT STORAGE tables (apippi-8264)
 * Fix InvalidRequestException with ORDER BY (apippi-8286)
 * Disable SSLv3 for POODLE (apippi-8265)
 * Fix millisecond timestamps in Tracing (apippi-8297)
 * Include keyspace name in error message when there are insufficient
   live nodes to stream from (apippi-8221)
 * Avoid overlap in L1 when L0 contains many nonoverlapping
   sstables (apippi-8211)
 * Improve PropertyFileSnitch logging (apippi-8183)
 * Add DC-aware sequential repair (apippi-8193)
 * Use live sstables in snapshot repair if possible (apippi-8312)
 * Fix hints serialized size calculation (apippi-8587)


2.1.2
 * (cqlsh) parse_for_table_meta errors out on queries with undefined
   grammars (apippi-8262)
 * (cqlsh) Fix SELECT ... TOKEN() function broken in C* 2.1.1 (apippi-8258)
 * Fix apippi crash when running on JDK8 update 40 (apippi-8209)
 * Optimize partitioner tokens (apippi-8230)
 * Improve compaction of repaired/unrepaired sstables (apippi-8004)
 * Make cache serializers pluggable (apippi-8096)
 * Fix issues with CONTAINS (KEY) queries on secondary indexes
   (apippi-8147)
 * Fix read-rate tracking of sstables for some queries (apippi-8239)
 * Fix default timestamp in QueryOptions (apippi-8246)
 * Set socket timeout when reading remote version (apippi-8188)
 * Refactor how we track live size (apippi-7852)
 * Make sure unfinished compaction files are removed (apippi-8124)
 * Fix shutdown when run as Windows service (apippi-8136)
 * Fix DESCRIBE TABLE with custom indexes (apippi-8031)
 * Fix race in RecoveryManagerTest (apippi-8176)
 * Avoid IllegalArgumentException while sorting sstables in
   IndexSummaryManager (apippi-8182)
 * Shutdown JVM on file descriptor exhaustion (apippi-7579)
 * Add 'die' policy for commit log and disk failure (apippi-7927)
 * Fix installing as service on Windows (apippi-8115)
 * Fix CREATE TABLE for CQL2 (apippi-8144)
 * Avoid boxing in ColumnStats min/max trackers (apippi-8109)
Merged from 2.0:
 * Correctly handle non-text column names in cql3 (apippi-8178)
 * Fix deletion for indexes on primary key columns (apippi-8206)
 * Add 'nodetool statusgossip' (apippi-8125)
 * Improve client notification that nodes are ready for requests (apippi-7510)
 * Handle negative timestamp in writetime method (apippi-8139)
 * Pig: Remove errant LIMIT clause in CqlNativeStorage (apippi-8166)
 * Throw ConfigurationException when hsha is used with the default
   rpc_max_threads setting of 'unlimited' (apippi-8116)
 * Allow concurrent writing of the same table in the same JVM using
   CQLSSTableWriter (apippi-7463)
 * Fix totalDiskSpaceUsed calculation (apippi-8205)


2.1.1
 * Fix spin loop in AtomicSortedColumns (apippi-7546)
 * Dont notify when replacing tmplink files (apippi-8157)
 * Fix validation with multiple CONTAINS clause (apippi-8131)
 * Fix validation of collections in TriggerExecutor (apippi-8146)
 * Fix IllegalArgumentException when a list of IN values containing tuples
   is passed as a single arg to a prepared statement with the v1 or v2
   protocol (apippi-8062)
 * Fix ClassCastException in DISTINCT query on static columns with
   query paging (apippi-8108)
 * Fix NPE on null nested UDT inside a set (apippi-8105)
 * Fix exception when querying secondary index on set items or map keys
   when some clustering columns are specified (apippi-8073)
 * Send proper error response when there is an error during native
   protocol message decode (apippi-8118)
 * Gossip should ignore generation numbers too far in the future (apippi-8113)
 * Fix NPE when creating a table with frozen sets, lists (apippi-8104)
 * Fix high memory use due to tracking reads on incrementally opened sstable
   readers (apippi-8066)
 * Fix EXECUTE request with skipMetadata=false returning no metadata
   (apippi-8054)
 * Allow concurrent use of CQLBulkOutputFormat (apippi-7776)
 * Shutdown JVM on OOM (apippi-7507)
 * Upgrade netty version and enable epoll event loop (apippi-7761)
 * Don't duplicate sstables smaller than split size when using
   the sstablesplitter tool (apippi-7616)
 * Avoid re-parsing already prepared statements (apippi-7923)
 * Fix some Thrift slice deletions and updates of COMPACT STORAGE
   tables with some clustering columns omitted (apippi-7990)
 * Fix filtering for CONTAINS on sets (apippi-8033)
 * Properly track added size (apippi-7239)
 * Allow compilation in java 8 (apippi-7208)
 * Fix Assertion error on RangeTombstoneList diff (apippi-8013)
 * Release references to overlapping sstables during compaction (apippi-7819)
 * Send notification when opening compaction results early (apippi-8034)
 * Make native server start block until properly bound (apippi-7885)
 * (cqlsh) Fix IPv6 support (apippi-7988)
 * Ignore fat clients when checking for endpoint collision (apippi-7939)
 * Make sstablerepairedset take a list of files (apippi-7995)
 * (cqlsh) Tab completeion for indexes on map keys (apippi-7972)
 * (cqlsh) Fix UDT field selection in select clause (apippi-7891)
 * Fix resource leak in event of corrupt sstable
 * (cqlsh) Add command line option for cqlshrc file path (apippi-7131)
 * Provide visibility into prepared statements churn (apippi-7921, apippi-7930)
 * Invalidate prepared statements when their keyspace or table is
   dropped (apippi-7566)
 * apippi-stress: fix support for NetworkTopologyStrategy (apippi-7945)
 * Fix saving caches when a table is dropped (apippi-7784)
 * Add better error checking of new stress profile (apippi-7716)
 * Use ThreadLocalRandom and remove FBUtilities.threadLocalRandom (apippi-7934)
 * Prevent operator mistakes due to simultaneous bootstrap (apippi-7069)
 * apippi-stress supports whitelist mode for node config (apippi-7658)
 * GCInspector more closely tracks GC; apippi-stress and nodetool report it (apippi-7916)
 * nodetool won't output bogus ownership info without a keyspace (apippi-7173)
 * Add human readable option to nodetool commands (apippi-5433)
 * Don't try to set repairedAt on old sstables (apippi-7913)
 * Add metrics for tracking PreparedStatement use (apippi-7719)
 * (cqlsh) tab-completion for triggers (apippi-7824)
 * (cqlsh) Support for query paging (apippi-7514)
 * (cqlsh) Show progress of COPY operations (apippi-7789)
 * Add syntax to remove multiple elements from a map (apippi-6599)
 * Support non-equals conditions in lightweight transactions (apippi-6839)
 * Add IF [NOT] EXISTS to create/drop triggers (apippi-7606)
 * (cqlsh) Display the current logged-in user (apippi-7785)
 * (cqlsh) Don't ignore CTRL-C during COPY FROM execution (apippi-7815)
 * (cqlsh) Order UDTs according to cross-type dependencies in DESCRIBE
   output (apippi-7659)
 * (cqlsh) Fix handling of CAS statement results (apippi-7671)
 * (cqlsh) COPY TO/FROM improvements (apippi-7405)
 * Support list index operations with conditions (apippi-7499)
 * Add max live/tombstoned cells to nodetool cfstats output (apippi-7731)
 * Validate IPv6 wildcard addresses properly (apippi-7680)
 * (cqlsh) Error when tracing query (apippi-7613)
 * Avoid IOOBE when building SyntaxError message snippet (apippi-7569)
 * SSTableExport uses correct validator to create string representation of partition
   keys (apippi-7498)
 * Avoid NPEs when receiving type changes for an unknown keyspace (apippi-7689)
 * Add support for custom 2i validation (apippi-7575)
 * Pig support for hadoop CqlInputFormat (apippi-6454)
 * Add duration mode to apippi-stress (apippi-7468)
 * Add listen_interface and rpc_interface options (apippi-7417)
 * Improve schema merge performance (apippi-7444)
 * Adjust MT depth based on # of partition validating (apippi-5263)
 * Optimise NativeCell comparisons (apippi-6755)
 * Configurable client timeout for cqlsh (apippi-7516)
 * Include snippet of CQL query near syntax error in messages (apippi-7111)
 * Make repair -pr work with -local (apippi-7450)
 * Fix error in sstableloader with -cph > 1 (apippi-8007)
 * Fix snapshot repair error on indexed tables (apippi-8020)
 * Do not exit nodetool repair when receiving JMX NOTIF_LOST (apippi-7909)
 * Stream to private IP when available (apippi-8084)
Merged from 2.0:
 * Reject conditions on DELETE unless full PK is given (apippi-6430)
 * Properly reject the token function DELETE (apippi-7747)
 * Force batchlog replay before decommissioning a node (apippi-7446)
 * Fix hint replay with many accumulated expired hints (apippi-6998)
 * Fix duplicate results in DISTINCT queries on static columns with query
   paging (apippi-8108)
 * Add DateTieredCompactionStrategy (apippi-6602)
 * Properly validate ascii and utf8 string literals in CQL queries (apippi-8101)
 * (cqlsh) Fix autocompletion for alter keyspace (apippi-8021)
 * Create backup directories for commitlog archiving during startup (apippi-8111)
 * Reduce totalBlockFor() for LOCAL_* consistency levels (apippi-8058)
 * Fix merging schemas with re-dropped keyspaces (apippi-7256)
 * Fix counters in supercolumns during live upgrades from 1.2 (apippi-7188)
 * Notify DT subscribers when a column family is truncated (apippi-8088)
 * Add sanity check of $JAVA on startup (apippi-7676)
 * Schedule fat client schema pull on join (apippi-7993)
 * Don't reset nodes' versions when closing IncomingTcpConnections
   (apippi-7734)
 * Record the real messaging version in all cases in OutboundTcpConnection
   (apippi-8057)
 * SSL does not work in apippi-cli (apippi-7899)
 * Fix potential exception when using ReversedType in DynamicCompositeType
   (apippi-7898)
 * Better validation of collection values (apippi-7833)
 * Track min/max timestamps correctly (apippi-7969)
 * Fix possible overflow while sorting CL segments for replay (apippi-7992)
 * Increase nodetool Xmx (apippi-7956)
 * Archive any commitlog segments present at startup (apippi-6904)
 * CrcCheckChance should adjust based on live CFMetadata not
   sstable metadata (apippi-7978)
 * token() should only accept columns in the partitioning
   key order (apippi-6075)
 * Add method to invalidate permission cache via JMX (apippi-7977)
 * Allow propagating multiple gossip states atomically (apippi-6125)
 * Log exceptions related to unclean native protocol client disconnects
   at DEBUG or INFO (apippi-7849)
 * Allow permissions cache to be set via JMX (apippi-7698)
 * Include schema_triggers CF in readable system resources (apippi-7967)
 * Fix RowIndexEntry to report correct serializedSize (apippi-7948)
 * Make CQLSSTableWriter sync within partitions (apippi-7360)
 * Potentially use non-local replicas in CqlConfigHelper (apippi-7906)
 * Explicitly disallow mixing multi-column and single-column
   relations on clustering columns (apippi-7711)
 * Better error message when condition is set on PK column (apippi-7804)
 * Don't send schema change responses and events for no-op DDL
   statements (apippi-7600)
 * (Hadoop) fix cluster initialisation for a split fetching (apippi-7774)
 * Throw InvalidRequestException when queries contain relations on entire
   collection columns (apippi-7506)
 * (cqlsh) enable CTRL-R history search with libedit (apippi-7577)
 * (Hadoop) allow ACFRW to limit nodes to local DC (apippi-7252)
 * (cqlsh) cqlsh should automatically disable tracing when selecting
   from system_traces (apippi-7641)
 * (Hadoop) Add CqlOutputFormat (apippi-6927)
 * Don't depend on apippi config for nodetool ring (apippi-7508)
 * (cqlsh) Fix failing cqlsh formatting tests (apippi-7703)
 * Fix IncompatibleClassChangeError from hadoop2 (apippi-7229)
 * Add 'nodetool sethintedhandoffthrottlekb' (apippi-7635)
 * (cqlsh) Add tab-completion for CREATE/DROP USER IF [NOT] EXISTS (apippi-7611)
 * Catch errors when the JVM pulls the rug out from GCInspector (apippi-5345)
 * cqlsh fails when version number parts are not int (apippi-7524)
 * Fix NPE when table dropped during streaming (apippi-7946)
 * Fix wrong progress when streaming uncompressed (apippi-7878)
 * Fix possible infinite loop in creating repair range (apippi-7983)
 * Fix unit in nodetool for streaming throughput (apippi-7375)
Merged from 1.2:
 * Don't index tombstones (apippi-7828)
 * Improve PasswordAuthenticator default super user setup (apippi-7788)


2.1.0
 * (cqlsh) Removed "ALTER TYPE <name> RENAME TO <name>" from tab-completion
   (apippi-7895)
 * Fixed IllegalStateException in anticompaction (apippi-7892)
 * cqlsh: DESCRIBE support for frozen UDTs, tuples (apippi-7863)
 * Avoid exposing internal classes over JMX (apippi-7879)
 * Add null check for keys when freezing collection (apippi-7869)
 * Improve stress workload realism (apippi-7519)
Merged from 2.0:
 * Configure system.paxos with LeveledCompactionStrategy (apippi-7753)
 * Fix ALTER clustering column type from DateType to TimestampType when
   using DESC clustering order (CASSANRDA-7797)
 * Throw EOFException if we run out of chunks in compressed datafile
   (apippi-7664)
 * Fix PRSI handling of CQL3 row markers for row cleanup (apippi-7787)
 * Fix dropping collection when it's the last regular column (apippi-7744)
 * Make StreamReceiveTask thread safe and gc friendly (apippi-7795)
 * Validate empty cell names from counter updates (apippi-7798)
Merged from 1.2:
 * Don't allow compacted sstables to be marked as compacting (apippi-7145)
 * Track expired tombstones (apippi-7810)


2.1.0-rc7
 * Add frozen keyword and require UDT to be frozen (apippi-7857)
 * Track added sstable size correctly (apippi-7239)
 * (cqlsh) Fix case insensitivity (apippi-7834)
 * Fix failure to stream ranges when moving (apippi-7836)
 * Correctly remove tmplink files (apippi-7803)
 * (cqlsh) Fix column name formatting for functions, CAS operations,
   and UDT field selections (apippi-7806)
 * (cqlsh) Fix COPY FROM handling of null/empty primary key
   values (apippi-7792)
 * Fix ordering of static cells (apippi-7763)
Merged from 2.0:
 * Forbid re-adding dropped counter columns (apippi-7831)
 * Fix CFMetaData#isThriftCompatible() for PK-only tables (apippi-7832)
 * Always reject inequality on the partition key without token()
   (apippi-7722)
 * Always send Paxos commit to all replicas (apippi-7479)
 * Make disruptor_thrift_server invocation pool configurable (apippi-7594)
 * Make repair no-op when RF=1 (apippi-7864)


2.1.0-rc6
 * Fix OOM issue from netty caching over time (apippi-7743)
 * json2sstable couldn't import JSON for CQL table (apippi-7477)
 * Invalidate all caches on table drop (apippi-7561)
 * Skip strict endpoint selection for ranges if RF == nodes (CASSANRA-7765)
 * Fix Thrift range filtering without 2ary index lookups (apippi-7741)
 * Add tracing entries about concurrent range requests (apippi-7599)
 * (cqlsh) Fix DESCRIBE for NTS keyspaces (apippi-7729)
 * Remove netty buffer ref-counting (apippi-7735)
 * Pass mutated cf to index updater for use by PRSI (apippi-7742)
 * Include stress yaml example in release and deb (apippi-7717)
 * workaround for netty issue causing corrupted data off the wire (apippi-7695)
 * cqlsh DESC CLUSTER fails retrieving ring information (apippi-7687)
 * Fix binding null values inside UDT (apippi-7685)
 * Fix UDT field selection with empty fields (apippi-7670)
 * Bogus deserialization of static cells from sstable (apippi-7684)
 * Fix NPE on compaction leftover cleanup for dropped table (apippi-7770)
Merged from 2.0:
 * Fix race condition in StreamTransferTask that could lead to
   infinite loops and premature sstable deletion (apippi-7704)
 * (cqlsh) Wait up to 10 sec for a tracing session (apippi-7222)
 * Fix NPE in FileCacheService.sizeInBytes (apippi-7756)
 * Remove duplicates from StorageService.getJoiningNodes (apippi-7478)
 * Clone token map outside of hot gossip loops (apippi-7758)
 * Fix MS expiring map timeout for Paxos messages (apippi-7752)
 * Do not flush on truncate if durable_writes is false (apippi-7750)
 * Give CRR a default input_cql Statement (apippi-7226)
 * Better error message when adding a collection with the same name
   than a previously dropped one (apippi-6276)
 * Fix validation when adding static columns (apippi-7730)
 * (Thrift) fix range deletion of supercolumns (apippi-7733)
 * Fix potential AssertionError in RangeTombstoneList (apippi-7700)
 * Validate arguments of blobAs* functions (apippi-7707)
 * Fix potential AssertionError with 2ndary indexes (apippi-6612)
 * Avoid logging CompactionInterrupted at ERROR (apippi-7694)
 * Minor leak in sstable2jon (apippi-7709)
 * Add apippi.auto_bootstrap system property (apippi-7650)
 * Update java driver (for hadoop) (apippi-7618)
 * Remove CqlPagingRecordReader/CqlPagingInputFormat (apippi-7570)
 * Support connecting to ipv6 jmx with nodetool (apippi-7669)


2.1.0-rc5
 * Reject counters inside user types (apippi-7672)
 * Switch to notification-based GCInspector (apippi-7638)
 * (cqlsh) Handle nulls in UDTs and tuples correctly (apippi-7656)
 * Don't use strict consistency when replacing (apippi-7568)
 * Fix min/max cell name collection on 2.0 SSTables with range
   tombstones (apippi-7593)
 * Tolerate min/max cell names of different lengths (apippi-7651)
 * Filter cached results correctly (apippi-7636)
 * Fix tracing on the new SEPExecutor (apippi-7644)
 * Remove shuffle and taketoken (apippi-7601)
 * Clean up Windows batch scripts (apippi-7619)
 * Fix native protocol drop user type notification (apippi-7571)
 * Give read access to system.schema_usertypes to all authenticated users
   (apippi-7578)
 * (cqlsh) Fix cqlsh display when zero rows are returned (apippi-7580)
 * Get java version correctly when JAVA_TOOL_OPTIONS is set (apippi-7572)
 * Fix NPE when dropping index from non-existent keyspace, AssertionError when
   dropping non-existent index with IF EXISTS (apippi-7590)
 * Fix sstablelevelresetter hang (apippi-7614)
 * (cqlsh) Fix deserialization of blobs (apippi-7603)
 * Use "keyspace updated" schema change message for UDT changes in v1 and
   v2 protocols (apippi-7617)
 * Fix tracing of range slices and secondary index lookups that are local
   to the coordinator (apippi-7599)
 * Set -Dapippi.storagedir for all tool shell scripts (apippi-7587)
 * Don't swap max/min col names when mutating sstable metadata (apippi-7596)
 * (cqlsh) Correctly handle paged result sets (apippi-7625)
 * (cqlsh) Improve waiting for a trace to complete (apippi-7626)
 * Fix tracing of concurrent range slices and 2ary index queries (apippi-7626)
 * Fix scrub against collection type (apippi-7665)
Merged from 2.0:
 * Set gc_grace_seconds to seven days for system schema tables (apippi-7668)
 * SimpleSeedProvider no longer caches seeds forever (apippi-7663)
 * Always flush on truncate (apippi-7511)
 * Fix ReversedType(DateType) mapping to native protocol (apippi-7576)
 * Always merge ranges owned by a single node (apippi-6930)
 * Track max/min timestamps for range tombstones (apippi-7647)
 * Fix NPE when listing saved caches dir (apippi-7632)


2.1.0-rc4
 * Fix word count hadoop example (apippi-7200)
 * Updated memtable_cleanup_threshold and memtable_flush_writers defaults
   (apippi-7551)
 * (Windows) fix startup when WMI memory query fails (apippi-7505)
 * Anti-compaction proceeds if any part of the repair failed (apippi-7521)
 * Add missing table name to DROP INDEX responses and notifications (apippi-7539)
 * Bump CQL version to 3.2.0 and update CQL documentation (apippi-7527)
 * Fix configuration error message when running nodetool ring (apippi-7508)
 * Support conditional updates, tuple type, and the v3 protocol in cqlsh (apippi-7509)
 * Handle queries on multiple secondary index types (apippi-7525)
 * Fix cqlsh authentication with v3 native protocol (apippi-7564)
 * Fix NPE when unknown prepared statement ID is used (apippi-7454)
Merged from 2.0:
 * (Windows) force range-based repair to non-sequential mode (apippi-7541)
 * Fix range merging when DES scores are zero (apippi-7535)
 * Warn when SSL certificates have expired (apippi-7528)
 * Fix error when doing reversed queries with static columns (apippi-7490)
Merged from 1.2:
 * Set correct stream ID on responses when non-Exception Throwables
   are thrown while handling native protocol messages (apippi-7470)


2.1.0-rc3
 * Consider expiry when reconciling otherwise equal cells (apippi-7403)
 * Introduce CQL support for stress tool (apippi-6146)
 * Fix ClassCastException processing expired messages (apippi-7496)
 * Fix prepared marker for collections inside UDT (apippi-7472)
 * Remove left-over populate_io_cache_on_flush and replicate_on_write
   uses (apippi-7493)
 * (Windows) handle spaces in path names (apippi-7451)
 * Ensure writes have completed after dropping a table, before recycling
   commit log segments (apippi-7437)
 * Remove left-over rows_per_partition_to_cache (apippi-7493)
 * Fix error when CONTAINS is used with a bind marker (apippi-7502)
 * Properly reject unknown UDT field (apippi-7484)
Merged from 2.0:
 * Fix CC#collectTimeOrderedData() tombstone optimisations (apippi-7394)
 * Support DISTINCT for static columns and fix behaviour when DISTINC is
   not use (apippi-7305).
 * Workaround JVM NPE on JMX bind failure (apippi-7254)
 * Fix race in FileCacheService RemovalListener (apippi-7278)
 * Fix inconsistent use of consistencyForCommit that allowed LOCAL_QUORUM
   operations to incorrect become full QUORUM (apippi-7345)
 * Properly handle unrecognized opcodes and flags (apippi-7440)
 * (Hadoop) close CqlRecordWriter clients when finished (apippi-7459)
 * Commit disk failure policy (apippi-7429)
 * Make sure high level sstables get compacted (apippi-7414)
 * Fix AssertionError when using empty clustering columns and static columns
   (apippi-7455)
 * Add option to disable STCS in L0 (apippi-6621)
 * Upgrade to snappy-java 1.0.5.2 (apippi-7476)


2.1.0-rc2
 * Fix heap size calculation for CompoundSparseCellName and
   CompoundSparseCellName.WithCollection (apippi-7421)
 * Allow counter mutations in UNLOGGED batches (apippi-7351)
 * Modify reconcile logic to always pick a tombstone over a counter cell
   (apippi-7346)
 * Avoid incremental compaction on Windows (apippi-7365)
 * Fix exception when querying a composite-keyed table with a collection index
   (apippi-7372)
 * Use node's host id in place of counter ids (apippi-7366)
 * Fix error when doing reversed queries with static columns (apippi-7490)
 * Backport apippi-6747 (apippi-7560)
 * Track max/min timestamps for range tombstones (apippi-7647)
 * Fix NPE when listing saved caches dir (apippi-7632)
 * Fix sstableloader unable to connect encrypted node (apippi-7585)
Merged from 1.2:
 * Clone token map outside of hot gossip loops (apippi-7758)
 * Add stop method to EmbeddedapippiService (apippi-7595)
 * Support connecting to ipv6 jmx with nodetool (apippi-7669)
 * Set gc_grace_seconds to seven days for system schema tables (apippi-7668)
 * SimpleSeedProvider no longer caches seeds forever (apippi-7663)
 * Set correct stream ID on responses when non-Exception Throwables
   are thrown while handling native protocol messages (apippi-7470)
 * Fix row size miscalculation in LazilyCompactedRow (apippi-7543)
 * Fix race in background compaction check (apippi-7745)
 * Don't clear out range tombstones during compaction (apippi-7808)


2.1.0-rc1
 * Revert flush directory (apippi-6357)
 * More efficient executor service for fast operations (apippi-4718)
 * Move less common tools into a new apippi-tools package (apippi-7160)
 * Support more concurrent requests in native protocol (apippi-7231)
 * Add tab-completion to debian nodetool packaging (apippi-6421)
 * Change concurrent_compactors defaults (apippi-7139)
 * Add PowerShell Windows launch scripts (apippi-7001)
 * Make commitlog archive+restore more robust (apippi-6974)
 * Fix marking commitlogsegments clean (apippi-6959)
 * Add snapshot "manifest" describing files included (apippi-6326)
 * Parallel streaming for sstableloader (apippi-3668)
 * Fix bugs in supercolumns handling (apippi-7138)
 * Fix ClassClassException on composite dense tables (apippi-7112)
 * Cleanup and optimize collation and slice iterators (apippi-7107)
 * Upgrade NBHM lib (apippi-7128)
 * Optimize netty server (apippi-6861)
 * Fix repair hang when given CF does not exist (apippi-7189)
 * Allow c* to be shutdown in an embedded mode (apippi-5635)
 * Add server side batching to native transport (apippi-5663)
 * Make batchlog replay asynchronous (apippi-6134)
 * remove unused classes (apippi-7197)
 * Limit user types to the keyspace they are defined in (apippi-6643)
 * Add validate method to CollectionType (apippi-7208)
 * New serialization format for UDT values (apippi-7209, apippi-7261)
 * Fix nodetool netstats (apippi-7270)
 * Fix potential ClassCastException in HintedHandoffManager (apippi-7284)
 * Use prepared statements internally (apippi-6975)
 * Fix broken paging state with prepared statement (apippi-7120)
 * Fix IllegalArgumentException in CqlStorage (apippi-7287)
 * Allow nulls/non-existant fields in UDT (apippi-7206)
 * Add Thrift MultiSliceRequest (apippi-6757, apippi-7027)
 * Handle overlapping MultiSlices (apippi-7279)
 * Fix DataOutputTest on Windows (apippi-7265)
 * Embedded sets in user defined data-types are not updating (apippi-7267)
 * Add tuple type to CQL/native protocol (apippi-7248)
 * Fix CqlPagingRecordReader on tables with few rows (apippi-7322)
Merged from 2.0:
 * Copy compaction options to make sure they are reloaded (apippi-7290)
 * Add option to do more aggressive tombstone compactions (apippi-6563)
 * Don't try to compact already-compacting files in HHOM (apippi-7288)
 * Always reallocate buffers in HSHA (apippi-6285)
 * (Hadoop) support authentication in CqlRecordReader (apippi-7221)
 * (Hadoop) Close java driver Cluster in CQLRR.close (apippi-7228)
 * Warn when 'USING TIMESTAMP' is used on a CAS BATCH (apippi-7067)
 * return all cpu values from BackgroundActivityMonitor.readAndCompute (apippi-7183)
 * Correctly delete scheduled range xfers (apippi-7143)
 * return all cpu values from BackgroundActivityMonitor.readAndCompute (apippi-7183)
 * reduce garbage creation in calculatePendingRanges (apippi-7191)
 * fix c* launch issues on Russian os's due to output of linux 'free' cmd (apippi-6162)
 * Fix disabling autocompaction (apippi-7187)
 * Fix potential NumberFormatException when deserializing IntegerType (apippi-7088)
 * cqlsh can't tab-complete disabling compaction (apippi-7185)
 * cqlsh: Accept and execute CQL statement(s) from command-line parameter (apippi-7172)
 * Fix IllegalStateException in CqlPagingRecordReader (apippi-7198)
 * Fix the InvertedIndex trigger example (apippi-7211)
 * Add --resolve-ip option to 'nodetool ring' (apippi-7210)
 * reduce garbage on codec flag deserialization (apippi-7244)
 * Fix duplicated error messages on directory creation error at startup (apippi-5818)
 * Proper null handle for IF with map element access (apippi-7155)
 * Improve compaction visibility (apippi-7242)
 * Correctly delete scheduled range xfers (apippi-7143)
 * Make batchlog replica selection rack-aware (apippi-6551)
 * Fix CFMetaData#getColumnDefinitionFromColumnName() (apippi-7074)
 * Fix writetime/ttl functions for static columns (apippi-7081)
 * Suggest CTRL-C or semicolon after three blank lines in cqlsh (apippi-7142)
 * Fix 2ndary index queries with DESC clustering order (apippi-6950)
 * Invalid key cache entries on DROP (apippi-6525)
 * Fix flapping RecoveryManagerTest (apippi-7084)
 * Add missing iso8601 patterns for date strings (apippi-6973)
 * Support selecting multiple rows in a partition using IN (apippi-6875)
 * Add authentication support to shuffle (apippi-6484)
 * Swap local and global default read repair chances (apippi-7320)
 * Add conditional CREATE/DROP USER support (apippi-7264)
 * Cqlsh counts non-empty lines for "Blank lines" warning (apippi-7325)
Merged from 1.2:
 * Add Cloudstack snitch (apippi-7147)
 * Update system.peers correctly when relocating tokens (apippi-7126)
 * Add Google Compute Engine snitch (apippi-7132)
 * remove duplicate query for local tokens (apippi-7182)
 * exit CQLSH with error status code if script fails (apippi-6344)
 * Fix bug with some IN queries missig results (apippi-7105)
 * Fix availability validation for LOCAL_ONE CL (apippi-7319)
 * Hint streaming can cause decommission to fail (apippi-7219)


2.1.0-beta2
 * Increase default CL space to 8GB (apippi-7031)
 * Add range tombstones to read repair digests (apippi-6863)
 * Fix BTree.clear for large updates (apippi-6943)
 * Fail write instead of logging a warning when unable to append to CL
   (apippi-6764)
 * Eliminate possibility of CL segment appearing twice in active list
   (apippi-6557)
 * Apply DONTNEED fadvise to commitlog segments (apippi-6759)
 * Switch CRC component to Adler and include it for compressed sstables
   (apippi-4165)
 * Allow apippi-stress to set compaction strategy options (apippi-6451)
 * Add broadcast_rpc_address option to apippi.yaml (apippi-5899)
 * Auto reload GossipingPropertyFileSnitch config (apippi-5897)
 * Fix overflow of memtable_total_space_in_mb (apippi-6573)
 * Fix ABTC NPE and apply update function correctly (apippi-6692)
 * Allow nodetool to use a file or prompt for password (apippi-6660)
 * Fix AIOOBE when concurrently accessing ABSC (apippi-6742)
 * Fix assertion error in ALTER TYPE RENAME (apippi-6705)
 * Scrub should not always clear out repaired status (apippi-5351)
 * Improve handling of range tombstone for wide partitions (apippi-6446)
 * Fix ClassCastException for compact table with composites (apippi-6738)
 * Fix potentially repairing with wrong nodes (apippi-6808)
 * Change caching option syntax (apippi-6745)
 * Fix stress to do proper counter reads (apippi-6835)
 * Fix help message for stress counter_write (apippi-6824)
 * Fix stress smart Thrift client to pick servers correctly (apippi-6848)
 * Add logging levels (minimal, normal or verbose) to stress tool (apippi-6849)
 * Fix race condition in Batch CLE (apippi-6860)
 * Improve cleanup/scrub/upgradesstables failure handling (apippi-6774)
 * ByteBuffer write() methods for serializing sstables (apippi-6781)
 * Proper compare function for CollectionType (apippi-6783)
 * Update native server to Netty 4 (apippi-6236)
 * Fix off-by-one error in stress (apippi-6883)
 * Make OpOrder AutoCloseable (apippi-6901)
 * Remove sync repair JMX interface (apippi-6900)
 * Add multiple memory allocation options for memtables (apippi-6689, 6694)
 * Remove adjusted op rate from stress output (apippi-6921)
 * Add optimized CF.hasColumns() implementations (apippi-6941)
 * Serialize batchlog mutations with the version of the target node
   (apippi-6931)
 * Optimize CounterColumn#reconcile() (apippi-6953)
 * Properly remove 1.2 sstable support in 2.1 (apippi-6869)
 * Lock counter cells, not partitions (apippi-6880)
 * Track presence of legacy counter shards in sstables (apippi-6888)
 * Ensure safe resource cleanup when replacing sstables (apippi-6912)
 * Add failure handler to async callback (apippi-6747)
 * Fix AE when closing SSTable without releasing reference (apippi-7000)
 * Clean up IndexInfo on keyspace/table drops (apippi-6924)
 * Only snapshot relative SSTables when sequential repair (apippi-7024)
 * Require nodetool rebuild_index to specify index names (apippi-7038)
 * fix apippi stress errors on reads with native protocol (apippi-7033)
 * Use OpOrder to guard sstable references for reads (apippi-6919)
 * Preemptive opening of compaction result (apippi-6916)
 * Multi-threaded scrub/cleanup/upgradesstables (apippi-5547)
 * Optimize cellname comparison (apippi-6934)
 * Native protocol v3 (apippi-6855)
 * Optimize Cell liveness checks and clean up Cell (apippi-7119)
 * Support consistent range movements (apippi-2434)
 * Display min timestamp in sstablemetadata viewer (apippi-6767)
Merged from 2.0:
 * Avoid race-prone second "scrub" of system keyspace (apippi-6797)
 * Pool CqlRecordWriter clients by inetaddress rather than Range
   (apippi-6665)
 * Fix compaction_history timestamps (apippi-6784)
 * Compare scores of full replica ordering in DES (apippi-6683)
 * fix CME in SessionInfo updateProgress affecting netstats (apippi-6577)
 * Allow repairing between specific replicas (apippi-6440)
 * Allow per-dc enabling of hints (apippi-6157)
 * Add compatibility for Hadoop 0.2.x (apippi-5201)
 * Fix EstimatedHistogram races (apippi-6682)
 * Failure detector correctly converts initial value to nanos (apippi-6658)
 * Add nodetool taketoken to relocate vnodes (apippi-4445)
 * Expose bulk loading progress over JMX (apippi-4757)
 * Correctly handle null with IF conditions and TTL (apippi-6623)
 * Account for range/row tombstones in tombstone drop
   time histogram (apippi-6522)
 * Stop CommitLogSegment.close() from calling sync() (apippi-6652)
 * Make commitlog failure handling configurable (apippi-6364)
 * Avoid overlaps in LCS (apippi-6688)
 * Improve support for paginating over composites (apippi-4851)
 * Fix count(*) queries in a mixed cluster (apippi-6707)
 * Improve repair tasks(snapshot, differencing) concurrency (apippi-6566)
 * Fix replaying pre-2.0 commit logs (apippi-6714)
 * Add static columns to CQL3 (apippi-6561)
 * Optimize single partition batch statements (apippi-6737)
 * Disallow post-query re-ordering when paging (apippi-6722)
 * Fix potential paging bug with deleted columns (apippi-6748)
 * Fix NPE on BulkLoader caused by losing StreamEvent (apippi-6636)
 * Fix truncating compression metadata (apippi-6791)
 * Add CMSClassUnloadingEnabled JVM option (apippi-6541)
 * Catch memtable flush exceptions during shutdown (apippi-6735)
 * Fix upgradesstables NPE for non-CF-based indexes (apippi-6645)
 * Fix UPDATE updating PRIMARY KEY columns implicitly (apippi-6782)
 * Fix IllegalArgumentException when updating from 1.2 with SuperColumns
   (apippi-6733)
 * FBUtilities.singleton() should use the CF comparator (apippi-6778)
 * Fix CQLSStableWriter.addRow(Map<String, Object>) (apippi-6526)
 * Fix HSHA server introducing corrupt data (apippi-6285)
 * Fix CAS conditions for COMPACT STORAGE tables (apippi-6813)
 * Starting threads in OutboundTcpConnectionPool constructor causes race conditions (apippi-7177)
 * Allow overriding apippi-rackdc.properties file (apippi-7072)
 * Set JMX RMI port to 7199 (apippi-7087)
 * Use LOCAL_QUORUM for data reads at LOCAL_SERIAL (apippi-6939)
 * Log a warning for large batches (apippi-6487)
 * Put nodes in hibernate when join_ring is false (apippi-6961)
 * Avoid early loading of non-system keyspaces before compaction-leftovers
   cleanup at startup (apippi-6913)
 * Restrict Windows to parallel repairs (apippi-6907)
 * (Hadoop) Allow manually specifying start/end tokens in CFIF (apippi-6436)
 * Fix NPE in MeteredFlusher (apippi-6820)
 * Fix race processing range scan responses (apippi-6820)
 * Allow deleting snapshots from dropped keyspaces (apippi-6821)
 * Add uuid() function (apippi-6473)
 * Omit tombstones from schema digests (apippi-6862)
 * Include correct consistencyLevel in LWT timeout (apippi-6884)
 * Lower chances for losing new SSTables during nodetool refresh and
   ColumnFamilyStore.loadNewSSTables (apippi-6514)
 * Add support for DELETE ... IF EXISTS to CQL3 (apippi-5708)
 * Update hadoop_cql3_word_count example (apippi-6793)
 * Fix handling of RejectedExecution in sync Thrift server (apippi-6788)
 * Log more information when exceeding tombstone_warn_threshold (apippi-6865)
 * Fix truncate to not abort due to unreachable fat clients (apippi-6864)
 * Fix schema concurrency exceptions (apippi-6841)
 * Fix leaking validator FH in StreamWriter (apippi-6832)
 * Fix saving triggers to schema (apippi-6789)
 * Fix trigger mutations when base mutation list is immutable (apippi-6790)
 * Fix accounting in FileCacheService to allow re-using RAR (apippi-6838)
 * Fix static counter columns (apippi-6827)
 * Restore expiring->deleted (cell) compaction optimization (apippi-6844)
 * Fix CompactionManager.needsCleanup (apippi-6845)
 * Correctly compare BooleanType values other than 0 and 1 (apippi-6779)
 * Read message id as string from earlier versions (apippi-6840)
 * Properly use the Paxos consistency for (non-protocol) batch (apippi-6837)
 * Add paranoid disk failure option (apippi-6646)
 * Improve PerRowSecondaryIndex performance (apippi-6876)
 * Extend triggers to support CAS updates (apippi-6882)
 * Static columns with IF NOT EXISTS don't always work as expected (apippi-6873)
 * Fix paging with SELECT DISTINCT (apippi-6857)
 * Fix UnsupportedOperationException on CAS timeout (apippi-6923)
 * Improve MeteredFlusher handling of MF-unaffected column families
   (apippi-6867)
 * Add CqlRecordReader using native pagination (apippi-6311)
 * Add QueryHandler interface (apippi-6659)
 * Track liveRatio per-memtable, not per-CF (apippi-6945)
 * Make sure upgradesstables keeps sstable level (apippi-6958)
 * Fix LIMIT with static columns (apippi-6956)
 * Fix clash with CQL column name in thrift validation (apippi-6892)
 * Fix error with super columns in mixed 1.2-2.0 clusters (apippi-6966)
 * Fix bad skip of sstables on slice query with composite start/finish (apippi-6825)
 * Fix unintended update with conditional statement (apippi-6893)
 * Fix map element access in IF (apippi-6914)
 * Avoid costly range calculations for range queries on system keyspaces
   (apippi-6906)
 * Fix SSTable not released if stream session fails (apippi-6818)
 * Avoid build failure due to ANTLR timeout (apippi-6991)
 * Queries on compact tables can return more rows that requested (apippi-7052)
 * USING TIMESTAMP for batches does not work (apippi-7053)
 * Fix performance regression from apippi-5614 (apippi-6949)
 * Ensure that batchlog and hint timeouts do not produce hints (apippi-7058)
 * Merge groupable mutations in TriggerExecutor#execute() (apippi-7047)
 * Plug holes in resource release when wiring up StreamSession (apippi-7073)
 * Re-add parameter columns to tracing session (apippi-6942)
 * Preserves CQL metadata when updating table from thrift (apippi-6831)
Merged from 1.2:
 * Fix nodetool display with vnodes (apippi-7082)
 * Add UNLOGGED, COUNTER options to BATCH documentation (apippi-6816)
 * add extra SSL cipher suites (apippi-6613)
 * fix nodetool getsstables for blob PK (apippi-6803)
 * Fix BatchlogManager#deleteBatch() use of millisecond timestamps
   (apippi-6822)
 * Continue assassinating even if the endpoint vanishes (apippi-6787)
 * Schedule schema pulls on change (apippi-6971)
 * Non-droppable verbs shouldn't be dropped from OTC (apippi-6980)
 * Shutdown batchlog executor in SS#drain() (apippi-7025)
 * Fix batchlog to account for CF truncation records (apippi-6999)
 * Fix CQLSH parsing of functions and BLOB literals (apippi-7018)
 * Properly load trustore in the native protocol (apippi-6847)
 * Always clean up references in SerializingCache (apippi-6994)
 * Don't shut MessagingService down when replacing a node (apippi-6476)
 * fix npe when doing -Dapippi.fd_initial_value_ms (apippi-6751)


2.1.0-beta1
 * Add flush directory distinct from compaction directories (apippi-6357)
 * Require JNA by default (apippi-6575)
 * add listsnapshots command to nodetool (apippi-5742)
 * Introduce AtomicBTreeColumns (apippi-6271, 6692)
 * Multithreaded commitlog (apippi-3578)
 * allocate fixed index summary memory pool and resample cold index summaries
   to use less memory (apippi-5519)
 * Removed multithreaded compaction (apippi-6142)
 * Parallelize fetching rows for low-cardinality indexes (apippi-1337)
 * change logging from log4j to logback (apippi-5883)
 * switch to LZ4 compression for internode communication (apippi-5887)
 * Stop using Thrift-generated Index* classes internally (apippi-5971)
 * Remove 1.2 network compatibility code (apippi-5960)
 * Remove leveled json manifest migration code (apippi-5996)
 * Remove CFDefinition (apippi-6253)
 * Use AtomicIntegerFieldUpdater in RefCountedMemory (apippi-6278)
 * User-defined types for CQL3 (apippi-5590)
 * Use of o.a.c.metrics in nodetool (apippi-5871, 6406)
 * Batch read from OTC's queue and cleanup (apippi-1632)
 * Secondary index support for collections (apippi-4511, 6383)
 * SSTable metadata(Stats.db) format change (apippi-6356)
 * Push composites support in the storage engine
   (apippi-5417, apippi-6520)
 * Add snapshot space used to cfstats (apippi-6231)
 * Add cardinality estimator for key count estimation (apippi-5906)
 * CF id is changed to be non-deterministic. Data dir/key cache are created
   uniquely for CF id (apippi-5202)
 * New counters implementation (apippi-6504)
 * Replace UnsortedColumns, EmptyColumns, TreeMapBackedSortedColumns with new
   ArrayBackedSortedColumns (apippi-6630, apippi-6662, apippi-6690)
 * Add option to use row cache with a given amount of rows (apippi-5357)
 * Avoid repairing already repaired data (apippi-5351)
 * Reject counter updates with USING TTL/TIMESTAMP (apippi-6649)
 * Replace index_interval with min/max_index_interval (apippi-6379)
 * Lift limitation that order by columns must be selected for IN queries (apippi-4911)


2.0.5
 * Reduce garbage generated by bloom filter lookups (apippi-6609)
 * Add ks.cf names to tombstone logging (apippi-6597)
 * Use LOCAL_QUORUM for LWT operations at LOCAL_SERIAL (apippi-6495)
 * Wait for gossip to settle before accepting client connections (apippi-4288)
 * Delete unfinished compaction incrementally (apippi-6086)
 * Allow specifying custom secondary index options in CQL3 (apippi-6480)
 * Improve replica pinning for cache efficiency in DES (apippi-6485)
 * Fix LOCAL_SERIAL from thrift (apippi-6584)
 * Don't special case received counts in CAS timeout exceptions (apippi-6595)
 * Add support for 2.1 global counter shards (apippi-6505)
 * Fix NPE when streaming connection is not yet established (apippi-6210)
 * Avoid rare duplicate read repair triggering (apippi-6606)
 * Fix paging discardFirst (apippi-6555)
 * Fix ArrayIndexOutOfBoundsException in 2ndary index query (apippi-6470)
 * Release sstables upon rebuilding 2i (apippi-6635)
 * Add AbstractCompactionStrategy.startup() method (apippi-6637)
 * SSTableScanner may skip rows during cleanup (apippi-6638)
 * sstables from stalled repair sessions can resurrect deleted data (apippi-6503)
 * Switch stress to use ITransportFactory (apippi-6641)
 * Fix IllegalArgumentException during prepare (apippi-6592)
 * Fix possible loss of 2ndary index entries during compaction (apippi-6517)
 * Fix direct Memory on architectures that do not support unaligned long access
   (apippi-6628)
 * Let scrub optionally skip broken counter partitions (apippi-5930)
Merged from 1.2:
 * fsync compression metadata (apippi-6531)
 * Validate CF existence on execution for prepared statement (apippi-6535)
 * Add ability to throttle batchlog replay (apippi-6550)
 * Fix executing LOCAL_QUORUM with SimpleStrategy (apippi-6545)
 * Avoid StackOverflow when using large IN queries (apippi-6567)
 * Nodetool upgradesstables includes secondary indexes (apippi-6598)
 * Paginate batchlog replay (apippi-6569)
 * skip blocking on streaming during drain (apippi-6603)
 * Improve error message when schema doesn't match loaded sstable (apippi-6262)
 * Add properties to adjust FD initial value and max interval (apippi-4375)
 * Fix preparing with batch and delete from collection (apippi-6607)
 * Fix ABSC reverse iterator's remove() method (apippi-6629)
 * Handle host ID conflicts properly (apippi-6615)
 * Move handling of migration event source to solve bootstrap race. (apippi-6648)
 * Make sure compaction throughput value doesn't overflow with int math (apippi-6647)


2.0.4
 * Allow removing snapshots of no-longer-existing CFs (apippi-6418)
 * add StorageService.stopDaemon() (apippi-4268)
 * add IRE for invalid CF supplied to get_count (apippi-5701)
 * add client encryption support to sstableloader (apippi-6378)
 * Fix accept() loop for SSL sockets post-shutdown (apippi-6468)
 * Fix size-tiered compaction in LCS L0 (apippi-6496)
 * Fix assertion failure in filterColdSSTables (apippi-6483)
 * Fix row tombstones in larger-than-memory compactions (apippi-6008)
 * Fix cleanup ClassCastException (apippi-6462)
 * Reduce gossip memory use by interning VersionedValue strings (apippi-6410)
 * Allow specifying datacenters to participate in a repair (apippi-6218)
 * Fix divide-by-zero in PCI (apippi-6403)
 * Fix setting last compacted key in the wrong level for LCS (apippi-6284)
 * Add millisecond precision formats to the timestamp parser (apippi-6395)
 * Expose a total memtable size metric for a CF (apippi-6391)
 * cqlsh: handle symlinks properly (apippi-6425)
 * Fix potential infinite loop when paging query with IN (apippi-6464)
 * Fix assertion error in AbstractQueryPager.discardFirst (apippi-6447)
 * Fix streaming older SSTable yields unnecessary tombstones (apippi-6527)
Merged from 1.2:
 * Improved error message on bad properties in DDL queries (apippi-6453)
 * Randomize batchlog candidates selection (apippi-6481)
 * Fix thundering herd on endpoint cache invalidation (apippi-6345, 6485)
 * Improve batchlog write performance with vnodes (apippi-6488)
 * cqlsh: quote single quotes in strings inside collections (apippi-6172)
 * Improve gossip performance for typical messages (apippi-6409)
 * Throw IRE if a prepared statement has more markers than supported
   (apippi-5598)
 * Expose Thread metrics for the native protocol server (apippi-6234)
 * Change snapshot response message verb to INTERNAL to avoid dropping it
   (apippi-6415)
 * Warn when collection read has > 65K elements (apippi-5428)
 * Fix cache persistence when both row and key cache are enabled
   (apippi-6413)
 * (Hadoop) add describe_local_ring (apippi-6268)
 * Fix handling of concurrent directory creation failure (apippi-6459)
 * Allow executing CREATE statements multiple times (apippi-6471)
 * Don't send confusing info with timeouts (apippi-6491)
 * Don't resubmit counter mutation runnables internally (apippi-6427)
 * Don't drop local mutations without a hint (apippi-6510)
 * Don't allow null max_hint_window_in_ms (apippi-6419)
 * Validate SliceRange start and finish lengths (apippi-6521)


2.0.3
 * Fix FD leak on slice read path (apippi-6275)
 * Cancel read meter task when closing SSTR (apippi-6358)
 * free off-heap IndexSummary during bulk (apippi-6359)
 * Recover from IOException in accept() thread (apippi-6349)
 * Improve Gossip tolerance of abnormally slow tasks (apippi-6338)
 * Fix trying to hint timed out counter writes (apippi-6322)
 * Allow restoring specific columnfamilies from archived CL (apippi-4809)
 * Avoid flushing compaction_history after each operation (apippi-6287)
 * Fix repair assertion error when tombstones expire (apippi-6277)
 * Skip loading corrupt key cache (apippi-6260)
 * Fixes for compacting larger-than-memory rows (apippi-6274)
 * Compact hottest sstables first and optionally omit coldest from
   compaction entirely (apippi-6109)
 * Fix modifying column_metadata from thrift (apippi-6182)
 * cqlsh: fix LIST USERS output (apippi-6242)
 * Add IRequestSink interface (apippi-6248)
 * Update memtable size while flushing (apippi-6249)
 * Provide hooks around CQL2/CQL3 statement execution (apippi-6252)
 * Require Permission.SELECT for CAS updates (apippi-6247)
 * New CQL-aware SSTableWriter (apippi-5894)
 * Reject CAS operation when the protocol v1 is used (apippi-6270)
 * Correctly throw error when frame too large (apippi-5981)
 * Fix serialization bug in PagedRange with 2ndary indexes (apippi-6299)
 * Fix CQL3 table validation in Thrift (apippi-6140)
 * Fix bug missing results with IN clauses (apippi-6327)
 * Fix paging with reversed slices (apippi-6343)
 * Set minTimestamp correctly to be able to drop expired sstables (apippi-6337)
 * Support NaN and Infinity as float literals (apippi-6003)
 * Remove RF from nodetool ring output (apippi-6289)
 * Fix attempting to flush empty rows (apippi-6374)
 * Fix potential out of bounds exception when paging (apippi-6333)
Merged from 1.2:
 * Optimize FD phi calculation (apippi-6386)
 * Improve initial FD phi estimate when starting up (apippi-6385)
 * Don't list CQL3 table in CLI describe even if named explicitely
   (apippi-5750)
 * Invalidate row cache when dropping CF (apippi-6351)
 * add non-jamm path for cached statements (apippi-6293)
 * add windows bat files for shell commands (apippi-6145)
 * Require logging in for Thrift CQL2/3 statement preparation (apippi-6254)
 * restrict max_num_tokens to 1536 (apippi-6267)
 * Nodetool gets default JMX port from apippi-env.sh (apippi-6273)
 * make calculatePendingRanges asynchronous (apippi-6244)
 * Remove blocking flushes in gossip thread (apippi-6297)
 * Fix potential socket leak in connectionpool creation (apippi-6308)
 * Allow LOCAL_ONE/LOCAL_QUORUM to work with SimpleStrategy (apippi-6238)
 * cqlsh: handle 'null' as session duration (apippi-6317)
 * Fix json2sstable handling of range tombstones (apippi-6316)
 * Fix missing one row in reverse query (apippi-6330)
 * Fix reading expired row value from row cache (apippi-6325)
 * Fix AssertionError when doing set element deletion (apippi-6341)
 * Make CL code for the native protocol match the one in C* 2.0
   (apippi-6347)
 * Disallow altering CQL3 table from thrift (apippi-6370)
 * Fix size computation of prepared statement (apippi-6369)


2.0.2
 * Update FailureDetector to use nanontime (apippi-4925)
 * Fix FileCacheService regressions (apippi-6149)
 * Never return WriteTimeout for CL.ANY (apippi-6132)
 * Fix race conditions in bulk loader (apippi-6129)
 * Add configurable metrics reporting (apippi-4430)
 * drop queries exceeding a configurable number of tombstones (apippi-6117)
 * Track and persist sstable read activity (apippi-5515)
 * Fixes for speculative retry (apippi-5932, apippi-6194)
 * Improve memory usage of metadata min/max column names (apippi-6077)
 * Fix thrift validation refusing row markers on CQL3 tables (apippi-6081)
 * Fix insertion of collections with CAS (apippi-6069)
 * Correctly send metadata on SELECT COUNT (apippi-6080)
 * Track clients' remote addresses in ClientState (apippi-6070)
 * Create snapshot dir if it does not exist when migrating
   leveled manifest (apippi-6093)
 * make sequential nodetool repair the default (apippi-5950)
 * Add more hooks for compaction strategy implementations (apippi-6111)
 * Fix potential NPE on composite 2ndary indexes (apippi-6098)
 * Delete can potentially be skipped in batch (apippi-6115)
 * Allow alter keyspace on system_traces (apippi-6016)
 * Disallow empty column names in cql (apippi-6136)
 * Use Java7 file-handling APIs and fix file moving on Windows (apippi-5383)
 * Save compaction history to system keyspace (apippi-5078)
 * Fix NPE if StorageService.getOperationMode() is executed before full startup (apippi-6166)
 * CQL3: support pre-epoch longs for TimestampType (apippi-6212)
 * Add reloadtriggers command to nodetool (apippi-4949)
 * cqlsh: ignore empty 'value alias' in DESCRIBE (apippi-6139)
 * Fix sstable loader (apippi-6205)
 * Reject bootstrapping if the node already exists in gossip (apippi-5571)
 * Fix NPE while loading paxos state (apippi-6211)
 * cqlsh: add SHOW SESSION <tracing-session> command (apippi-6228)
Merged from 1.2:
 * (Hadoop) Require CFRR batchSize to be at least 2 (apippi-6114)
 * Add a warning for small LCS sstable size (apippi-6191)
 * Add ability to list specific KS/CF combinations in nodetool cfstats (apippi-4191)
 * Mark CF clean if a mutation raced the drop and got it marked dirty (apippi-5946)
 * Add a LOCAL_ONE consistency level (apippi-6202)
 * Limit CQL prepared statement cache by size instead of count (apippi-6107)
 * Tracing should log write failure rather than raw exceptions (apippi-6133)
 * lock access to TM.endpointToHostIdMap (apippi-6103)
 * Allow estimated memtable size to exceed slab allocator size (apippi-6078)
 * Start MeteredFlusher earlier to prevent OOM during CL replay (apippi-6087)
 * Avoid sending Truncate command to fat clients (apippi-6088)
 * Allow where clause conditions to be in parenthesis (apippi-6037)
 * Do not open non-ssl storage port if encryption option is all (apippi-3916)
 * Move batchlog replay to its own executor (apippi-6079)
 * Add tombstone debug threshold and histogram (apippi-6042, 6057)
 * Enable tcp keepalive on incoming connections (apippi-4053)
 * Fix fat client schema pull NPE (apippi-6089)
 * Fix memtable flushing for indexed tables (apippi-6112)
 * Fix skipping columns with multiple slices (apippi-6119)
 * Expose connected thrift + native client counts (apippi-5084)
 * Optimize auth setup (apippi-6122)
 * Trace index selection (apippi-6001)
 * Update sstablesPerReadHistogram to use biased sampling (apippi-6164)
 * Log UnknownColumnfamilyException when closing socket (apippi-5725)
 * Properly error out on CREATE INDEX for counters table (apippi-6160)
 * Handle JMX notification failure for repair (apippi-6097)
 * (Hadoop) Fetch no more than 128 splits in parallel (apippi-6169)
 * stress: add username/password authentication support (apippi-6068)
 * Fix indexed queries with row cache enabled on parent table (apippi-5732)
 * Fix compaction race during columnfamily drop (apippi-5957)
 * Fix validation of empty column names for compact tables (apippi-6152)
 * Skip replaying mutations that pass CRC but fail to deserialize (apippi-6183)
 * Rework token replacement to use replace_address (apippi-5916)
 * Fix altering column types (apippi-6185)
 * cqlsh: fix CREATE/ALTER WITH completion (apippi-6196)
 * add windows bat files for shell commands (apippi-6145)
 * Fix potential stack overflow during range tombstones insertion (apippi-6181)
 * (Hadoop) Make LOCAL_ONE the default consistency level (apippi-6214)


2.0.1
 * Fix bug that could allow reading deleted data temporarily (apippi-6025)
 * Improve memory use defaults (apippi-6059)
 * Make ThriftServer more easlly extensible (apippi-6058)
 * Remove Hadoop dependency from ITransportFactory (apippi-6062)
 * add file_cache_size_in_mb setting (apippi-5661)
 * Improve error message when yaml contains invalid properties (apippi-5958)
 * Improve leveled compaction's ability to find non-overlapping L0 compactions
   to work on concurrently (apippi-5921)
 * Notify indexer of columns shadowed by range tombstones (apippi-5614)
 * Log Merkle tree stats (apippi-2698)
 * Switch from crc32 to adler32 for compressed sstable checksums (apippi-5862)
 * Improve offheap memcpy performance (apippi-5884)
 * Use a range aware scanner for cleanup (apippi-2524)
 * Cleanup doesn't need to inspect sstables that contain only local data
   (apippi-5722)
 * Add ability for CQL3 to list partition keys (apippi-4536)
 * Improve native protocol serialization (apippi-5664)
 * Upgrade Thrift to 0.9.1 (apippi-5923)
 * Require superuser status for adding triggers (apippi-5963)
 * Make standalone scrubber handle old and new style leveled manifest
   (apippi-6005)
 * Fix paxos bugs (apippi-6012, 6013, 6023)
 * Fix paged ranges with multiple replicas (apippi-6004)
 * Fix potential AssertionError during tracing (apippi-6041)
 * Fix NPE in sstablesplit (apippi-6027)
 * Migrate pre-2.0 key/value/column aliases to system.schema_columns
   (apippi-6009)
 * Paging filter empty rows too agressively (apippi-6040)
 * Support variadic parameters for IN clauses (apippi-4210)
 * cqlsh: return the result of CAS writes (apippi-5796)
 * Fix validation of IN clauses with 2ndary indexes (apippi-6050)
 * Support named bind variables in CQL (apippi-6033)
Merged from 1.2:
 * Allow cache-keys-to-save to be set at runtime (apippi-5980)
 * Avoid second-guessing out-of-space state (apippi-5605)
 * Tuning knobs for dealing with large blobs and many CFs (apippi-5982)
 * (Hadoop) Fix CQLRW for thrift tables (apippi-6002)
 * Fix possible divide-by-zero in HHOM (apippi-5990)
 * Allow local batchlog writes for CL.ANY (apippi-5967)
 * Upgrade metrics-core to version 2.2.0 (apippi-5947)
 * Fix CqlRecordWriter with composite keys (apippi-5949)
 * Add snitch, schema version, cluster, partitioner to JMX (apippi-5881)
 * Allow disabling SlabAllocator (apippi-5935)
 * Make user-defined compaction JMX blocking (apippi-4952)
 * Fix streaming does not transfer wrapped range (apippi-5948)
 * Fix loading index summary containing empty key (apippi-5965)
 * Correctly handle limits in CompositesSearcher (apippi-5975)
 * Pig: handle CQL collections (apippi-5867)
 * Pass the updated cf to the PRSI index() method (apippi-5999)
 * Allow empty CQL3 batches (as no-op) (apippi-5994)
 * Support null in CQL3 functions (apippi-5910)
 * Replace the deprecated MapMaker with CacheLoader (apippi-6007)
 * Add SSTableDeletingNotification to DataTracker (apippi-6010)
 * Fix snapshots in use get deleted during snapshot repair (apippi-6011)
 * Move hints and exception count to o.a.c.metrics (apippi-6017)
 * Fix memory leak in snapshot repair (apippi-6047)
 * Fix sstable2sjon for CQL3 tables (apippi-5852)


2.0.0
 * Fix thrift validation when inserting into CQL3 tables (apippi-5138)
 * Fix periodic memtable flushing behavior with clean memtables (apippi-5931)
 * Fix dateOf() function for pre-2.0 timestamp columns (apippi-5928)
 * Fix SSTable unintentionally loads BF when opened for batch (apippi-5938)
 * Add stream session progress to JMX (apippi-4757)
 * Fix NPE during CAS operation (apippi-5925)
Merged from 1.2:
 * Fix getBloomFilterDiskSpaceUsed for AlwaysPresentFilter (apippi-5900)
 * Don't announce schema version until we've loaded the changes locally
   (apippi-5904)
 * Fix to support off heap bloom filters size greater than 2 GB (apippi-5903)
 * Properly handle parsing huge map and set literals (apippi-5893)


2.0.0-rc2
 * enable vnodes by default (apippi-5869)
 * fix CAS contention timeout (apippi-5830)
 * fix HsHa to respect max frame size (apippi-4573)
 * Fix (some) 2i on composite components omissions (apippi-5851)
 * cqlsh: add DESCRIBE FULL SCHEMA variant (apippi-5880)
Merged from 1.2:
 * Correctly validate sparse composite cells in scrub (apippi-5855)
 * Add KeyCacheHitRate metric to CF metrics (apippi-5868)
 * cqlsh: add support for multiline comments (apippi-5798)
 * Handle CQL3 SELECT duplicate IN restrictions on clustering columns
   (apippi-5856)


2.0.0-rc1
 * improve DecimalSerializer performance (apippi-5837)
 * fix potential spurious wakeup in AsyncOneResponse (apippi-5690)
 * fix schema-related trigger issues (apippi-5774)
 * Better validation when accessing CQL3 table from thrift (apippi-5138)
 * Fix assertion error during repair (apippi-5801)
 * Fix range tombstone bug (apippi-5805)
 * DC-local CAS (apippi-5797)
 * Add a native_protocol_version column to the system.local table (CASSANRDA-5819)
 * Use index_interval from apippi.yaml when upgraded (apippi-5822)
 * Fix buffer underflow on socket close (apippi-5792)
Merged from 1.2:
 * Fix reading DeletionTime from 1.1-format sstables (apippi-5814)
 * cqlsh: add collections support to COPY (apippi-5698)
 * retry important messages for any IOException (apippi-5804)
 * Allow empty IN relations in SELECT/UPDATE/DELETE statements (apippi-5626)
 * cqlsh: fix crashing on Windows due to libedit detection (apippi-5812)
 * fix bulk-loading compressed sstables (apippi-5820)
 * (Hadoop) fix quoting in CqlPagingRecordReader and CqlRecordWriter
   (apippi-5824)
 * update default LCS sstable size to 160MB (apippi-5727)
 * Allow compacting 2Is via nodetool (apippi-5670)
 * Hex-encode non-String keys in OPP (apippi-5793)
 * nodetool history logging (apippi-5823)
 * (Hadoop) fix support for Thrift tables in CqlPagingRecordReader
   (apippi-5752)
 * add "all time blocked" to StatusLogger output (apippi-5825)
 * Future-proof inter-major-version schema migrations (apippi-5845)
 * (Hadoop) add CqlPagingRecordReader support for ReversedType in Thrift table
   (apippi-5718)
 * Add -no-snapshot option to scrub (apippi-5891)
 * Fix to support off heap bloom filters size greater than 2 GB (apippi-5903)
 * Properly handle parsing huge map and set literals (apippi-5893)
 * Fix LCS L0 compaction may overlap in L1 (apippi-5907)
 * New sstablesplit tool to split large sstables offline (apippi-4766)
 * Fix potential deadlock in native protocol server (apippi-5926)
 * Disallow incompatible type change in CQL3 (apippi-5882)
Merged from 1.1:
 * Correctly validate sparse composite cells in scrub (apippi-5855)


2.0.0-beta2
 * Replace countPendingHints with Hints Created metric (apippi-5746)
 * Allow nodetool with no args, and with help to run without a server (apippi-5734)
 * Cleanup AbstractType/TypeSerializer classes (apippi-5744)
 * Remove unimplemented cli option schema-mwt (apippi-5754)
 * Support range tombstones in thrift (apippi-5435)
 * Normalize table-manipulating CQL3 statements' class names (apippi-5759)
 * cqlsh: add missing table options to DESCRIBE output (apippi-5749)
 * Fix assertion error during repair (apippi-5757)
 * Fix bulkloader (apippi-5542)
 * Add LZ4 compression to the native protocol (apippi-5765)
 * Fix bugs in the native protocol v2 (apippi-5770)
 * CAS on 'primary key only' table (apippi-5715)
 * Support streaming SSTables of old versions (apippi-5772)
 * Always respect protocol version in native protocol (apippi-5778)
 * Fix ConcurrentModificationException during streaming (apippi-5782)
 * Update deletion timestamp in Commit#updatesWithPaxosTime (apippi-5787)
 * Thrift cas() method crashes if input columns are not sorted (apippi-5786)
 * Order columns names correctly when querying for CAS (apippi-5788)
 * Fix streaming retry (apippi-5775)
Merged from 1.2:
 * if no seeds can be a reached a node won't start in a ring by itself (apippi-5768)
 * add apippi.unsafesystem property (apippi-5704)
 * (Hadoop) quote identifiers in CqlPagingRecordReader (apippi-5763)
 * Add replace_node functionality for vnodes (apippi-5337)
 * Add timeout events to query traces (apippi-5520)
 * Fix serialization of the LEFT gossip value (apippi-5696)
 * Pig: support for cql3 tables (apippi-5234)
 * Fix skipping range tombstones with reverse queries (apippi-5712)
 * Expire entries out of ThriftSessionManager (apippi-5719)
 * Don't keep ancestor information in memory (apippi-5342)
 * Expose native protocol server status in nodetool info (apippi-5735)
 * Fix pathetic performance of range tombstones (apippi-5677)
 * Fix querying with an empty (impossible) range (apippi-5573)
 * cqlsh: handle CUSTOM 2i in DESCRIBE output (apippi-5760)
 * Fix minor bug in Range.intersects(Bound) (apippi-5771)
 * cqlsh: handle disabled compression in DESCRIBE output (apippi-5766)
 * Ensure all UP events are notified on the native protocol (apippi-5769)
 * Fix formatting of sstable2json with multiple -k arguments (apippi-5781)
 * Don't rely on row marker for queries in general to hide lost markers
   after TTL expires (apippi-5762)
 * Sort nodetool help output (apippi-5776)
 * Fix column expiring during 2 phases compaction (apippi-5799)
 * now() is being rejected in INSERTs when inside collections (apippi-5795)


2.0.0-beta1
 * Add support for indexing clustered columns (apippi-5125)
 * Removed on-heap row cache (apippi-5348)
 * use nanotime consistently for node-local timeouts (apippi-5581)
 * Avoid unnecessary second pass on name-based queries (apippi-5577)
 * Experimental triggers (apippi-1311)
 * JEMalloc support for off-heap allocation (apippi-3997)
 * Single-pass compaction (apippi-4180)
 * Removed token range bisection (apippi-5518)
 * Removed compatibility with pre-1.2.5 sstables and network messages
   (apippi-5511)
 * removed PBSPredictor (apippi-5455)
 * CAS support (apippi-5062, 5441, 5442, 5443, 5619, 5667)
 * Leveled compaction performs size-tiered compactions in L0
   (apippi-5371, 5439)
 * Add yaml network topology snitch for mixed ec2/other envs (apippi-5339)
 * Log when a node is down longer than the hint window (apippi-4554)
 * Optimize tombstone creation for ExpiringColumns (apippi-4917)
 * Improve LeveledScanner work estimation (apippi-5250, 5407)
 * Replace compaction lock with runWithCompactionsDisabled (apippi-3430)
 * Change Message IDs to ints (apippi-5307)
 * Move sstable level information into the Stats component, removing the
   need for a separate Manifest file (apippi-4872)
 * avoid serializing to byte[] on commitlog append (apippi-5199)
 * make index_interval configurable per columnfamily (apippi-3961, apippi-5650)
 * add default_time_to_live (apippi-3974)
 * add memtable_flush_period_in_ms (apippi-4237)
 * replace supercolumns internally by composites (apippi-3237, 5123)
 * upgrade thrift to 0.9.0 (apippi-3719)
 * drop unnecessary keyspace parameter from user-defined compaction API
   (apippi-5139)
 * more robust solution to incomplete compactions + counters (apippi-5151)
 * Change order of directory searching for c*.in.sh (apippi-3983)
 * Add tool to reset SSTable compaction level for LCS (apippi-5271)
 * Allow custom configuration loader (apippi-5045)
 * Remove memory emergency pressure valve logic (apippi-3534)
 * Reduce request latency with eager retry (apippi-4705)
 * cqlsh: Remove ASSUME command (apippi-5331)
 * Rebuild BF when loading sstables if bloom_filter_fp_chance
   has changed since compaction (apippi-5015)
 * remove row-level bloom filters (apippi-4885)
 * Change Kernel Page Cache skipping into row preheating (disabled by default)
   (apippi-4937)
 * Improve repair by deciding on a gcBefore before sending
   out TreeRequests (apippi-4932)
 * Add an official way to disable compactions (apippi-5074)
 * Reenable ALTER TABLE DROP with new semantics (apippi-3919)
 * Add binary protocol versioning (apippi-5436)
 * Swap THshaServer for TThreadedSelectorServer (apippi-5530)
 * Add alias support to SELECT statement (apippi-5075)
 * Don't create empty RowMutations in CommitLogReplayer (apippi-5541)
 * Use range tombstones when dropping cfs/columns from schema (apippi-5579)
 * cqlsh: drop CQL2/CQL3-beta support (apippi-5585)
 * Track max/min column names in sstables to be able to optimize slice
   queries (apippi-5514, apippi-5595, apippi-5600)
 * Binary protocol: allow batching already prepared statements (apippi-4693)
 * Allow preparing timestamp, ttl and limit in CQL3 queries (apippi-4450)
 * Support native link w/o JNA in Java7 (apippi-3734)
 * Use SASL authentication in binary protocol v2 (apippi-5545)
 * Replace Thrift HsHa with LMAX Disruptor based implementation (apippi-5582)
 * cqlsh: Add row count to SELECT output (apippi-5636)
 * Include a timestamp with all read commands to determine column expiration
   (apippi-5149)
 * Streaming 2.0 (apippi-5286, 5699)
 * Conditional create/drop ks/table/index statements in CQL3 (apippi-2737)
 * more pre-table creation property validation (apippi-5693)
 * Redesign repair messages (apippi-5426)
 * Fix ALTER RENAME post-5125 (apippi-5702)
 * Disallow renaming a 2ndary indexed column (apippi-5705)
 * Rename Table to Keyspace (apippi-5613)
 * Ensure changing column_index_size_in_kb on different nodes don't corrupt the
   sstable (apippi-5454)
 * Move resultset type information into prepare, not execute (apippi-5649)
 * Auto paging in binary protocol (apippi-4415, 5714)
 * Don't tie client side use of AbstractType to JDBC (apippi-4495)
 * Adds new TimestampType to replace DateType (apippi-5723, apippi-5729)
Merged from 1.2:
 * make starting native protocol server idempotent (apippi-5728)
 * Fix loading key cache when a saved entry is no longer valid (apippi-5706)
 * Fix serialization of the LEFT gossip value (apippi-5696)
 * cqlsh: Don't show 'null' in place of empty values (apippi-5675)
 * Race condition in detecting version on a mixed 1.1/1.2 cluster
   (apippi-5692)
 * Fix skipping range tombstones with reverse queries (apippi-5712)
 * Expire entries out of ThriftSessionManager (CASSANRDA-5719)
 * Don't keep ancestor information in memory (apippi-5342)
 * cqlsh: fix handling of semicolons inside BATCH queries (apippi-5697)


1.2.6
 * Fix tracing when operation completes before all responses arrive
   (apippi-5668)
 * Fix cross-DC mutation forwarding (apippi-5632)
 * Reduce SSTableLoader memory usage (apippi-5555)
 * Scale hinted_handoff_throttle_in_kb to cluster size (apippi-5272)
 * (Hadoop) Add CQL3 input/output formats (apippi-4421, 5622)
 * (Hadoop) Fix InputKeyRange in CFIF (apippi-5536)
 * Fix dealing with ridiculously large max sstable sizes in LCS (apippi-5589)
 * Ignore pre-truncate hints (apippi-4655)
 * Move System.exit on OOM into a separate thread (apippi-5273)
 * Write row markers when serializing schema (apippi-5572)
 * Check only SSTables for the requested range when streaming (apippi-5569)
 * Improve batchlog replay behavior and hint ttl handling (apippi-5314)
 * Exclude localTimestamp from validation for tombstones (apippi-5398)
 * cqlsh: add custom prompt support (apippi-5539)
 * Reuse prepared statements in hot auth queries (apippi-5594)
 * cqlsh: add vertical output option (see EXPAND) (apippi-5597)
 * Add a rate limit option to stress (apippi-5004)
 * have BulkLoader ignore snapshots directories (apippi-5587)
 * fix SnitchProperties logging context (apippi-5602)
 * Expose whether jna is enabled and memory is locked via JMX (apippi-5508)
 * cqlsh: fix COPY FROM with ReversedType (apippi-5610)
 * Allow creating CUSTOM indexes on collections (apippi-5615)
 * Evaluate now() function at execution time (apippi-5616)
 * Expose detailed read repair metrics (apippi-5618)
 * Correct blob literal + ReversedType parsing (apippi-5629)
 * Allow GPFS to prefer the internal IP like EC2MRS (apippi-5630)
 * fix help text for -tspw apippi-cli (apippi-5643)
 * don't throw away initial causes exceptions for internode encryption issues
   (apippi-5644)
 * Fix message spelling errors for cql select statements (apippi-5647)
 * Suppress custom exceptions thru jmx (apippi-5652)
 * Update CREATE CUSTOM INDEX syntax (apippi-5639)
 * Fix PermissionDetails.equals() method (apippi-5655)
 * Never allow partition key ranges in CQL3 without token() (apippi-5666)
 * Gossiper incorrectly drops AppState for an upgrading node (apippi-5660)
 * Connection thrashing during multi-region ec2 during upgrade, due to
   messaging version (apippi-5669)
 * Avoid over reconnecting in EC2MRS (apippi-5678)
 * Fix ReadResponseSerializer.serializedSize() for digest reads (apippi-5476)
 * allow sstable2json on 2i CFs (apippi-5694)
Merged from 1.1:
 * Remove buggy thrift max message length option (apippi-5529)
 * Fix NPE in Pig's widerow mode (apippi-5488)
 * Add split size parameter to Pig and disable split combination (apippi-5544)


1.2.5
 * make BytesToken.toString only return hex bytes (apippi-5566)
 * Ensure that submitBackground enqueues at least one task (apippi-5554)
 * fix 2i updates with identical values and timestamps (apippi-5540)
 * fix compaction throttling bursty-ness (apippi-4316)
 * reduce memory consumption of IndexSummary (apippi-5506)
 * remove per-row column name bloom filters (apippi-5492)
 * Include fatal errors in trace events (apippi-5447)
 * Ensure that PerRowSecondaryIndex is notified of row-level deletes
   (apippi-5445)
 * Allow empty blob literals in CQL3 (apippi-5452)
 * Fix streaming RangeTombstones at column index boundary (apippi-5418)
 * Fix preparing statements when current keyspace is not set (apippi-5468)
 * Fix SemanticVersion.isSupportedBy minor/patch handling (apippi-5496)
 * Don't provide oldCfId for post-1.1 system cfs (apippi-5490)
 * Fix primary range ignores replication strategy (apippi-5424)
 * Fix shutdown of binary protocol server (apippi-5507)
 * Fix repair -snapshot not working (apippi-5512)
 * Set isRunning flag later in binary protocol server (apippi-5467)
 * Fix use of CQL3 functions with descending clustering order (apippi-5472)
 * Disallow renaming columns one at a time for thrift table in CQL3
   (apippi-5531)
 * cqlsh: add CLUSTERING ORDER BY support to DESCRIBE (apippi-5528)
 * Add custom secondary index support to CQL3 (apippi-5484)
 * Fix repair hanging silently on unexpected error (apippi-5229)
 * Fix Ec2Snitch regression introduced by apippi-5171 (apippi-5432)
 * Add nodetool enablebackup/disablebackup (apippi-5556)
 * cqlsh: fix DESCRIBE after case insensitive USE (apippi-5567)
Merged from 1.1
 * Add retry mechanism to OTC for non-droppable_verbs (apippi-5393)
 * Use allocator information to improve memtable memory usage estimate
   (apippi-5497)
 * Fix trying to load deleted row into row cache on startup (apippi-4463)
 * fsync leveled manifest to avoid corruption (apippi-5535)
 * Fix Bound intersection computation (apippi-5551)
 * sstablescrub now respects max memory size in apippi.in.sh (apippi-5562)


1.2.4
 * Ensure that PerRowSecondaryIndex updates see the most recent values
   (apippi-5397)
 * avoid duplicate index entries ind PrecompactedRow and
   ParallelCompactionIterable (apippi-5395)
 * remove the index entry on oldColumn when new column is a tombstone
   (apippi-5395)
 * Change default stream throughput from 400 to 200 mbps (apippi-5036)
 * Gossiper logs DOWN for symmetry with UP (apippi-5187)
 * Fix mixing prepared statements between keyspaces (apippi-5352)
 * Fix consistency level during bootstrap - strike 3 (apippi-5354)
 * Fix transposed arguments in AlreadyExistsException (apippi-5362)
 * Improve asynchronous hint delivery (apippi-5179)
 * Fix Guava dependency version (12.0 -> 13.0.1) for Maven (apippi-5364)
 * Validate that provided CQL3 collection value are < 64K (apippi-5355)
 * Make upgradeSSTable skip current version sstables by default (apippi-5366)
 * Optimize min/max timestamp collection (apippi-5373)
 * Invalid streamId in cql binary protocol when using invalid CL
   (apippi-5164)
 * Fix validation for IN where clauses with collections (apippi-5376)
 * Copy resultSet on count query to avoid ConcurrentModificationException
   (apippi-5382)
 * Correctly typecheck in CQL3 even with ReversedType (apippi-5386)
 * Fix streaming compressed files when using encryption (apippi-5391)
 * apippi-all 1.2.0 pom missing netty dependency (apippi-5392)
 * Fix writetime/ttl functions on null values (apippi-5341)
 * Fix NPE during cql3 select with token() (apippi-5404)
 * IndexHelper.skipBloomFilters won't skip non-SHA filters (apippi-5385)
 * cqlsh: Print maps ordered by key, sort sets (apippi-5413)
 * Add null syntax support in CQL3 for inserts (apippi-3783)
 * Allow unauthenticated set_keyspace() calls (apippi-5423)
 * Fix potential incremental backups race (apippi-5410)
 * Fix prepared BATCH statements with batch-level timestamps (apippi-5415)
 * Allow overriding superuser setup delay (apippi-5430)
 * apippi-shuffle with JMX usernames and passwords (apippi-5431)
Merged from 1.1:
 * cli: Quote ks and cf names in schema output when needed (apippi-5052)
 * Fix bad default for min/max timestamp in SSTableMetadata (apippi-5372)
 * Fix cf name extraction from manifest in Directories.migrateFile()
   (apippi-5242)
 * Support pluggable internode authentication (apippi-5401)


1.2.3
 * add check for sstable overlap within a level on startup (apippi-5327)
 * replace ipv6 colons in jmx object names (apippi-5298, 5328)
 * Avoid allocating SSTableBoundedScanner during repair when the range does
   not intersect the sstable (apippi-5249)
 * Don't lowercase property map keys (this breaks NTS) (apippi-5292)
 * Fix composite comparator with super columns (apippi-5287)
 * Fix insufficient validation of UPDATE queries against counter cfs
   (apippi-5300)
 * Fix PropertyFileSnitch default DC/Rack behavior (apippi-5285)
 * Handle null values when executing prepared statement (apippi-5081)
 * Add netty to pom dependencies (apippi-5181)
 * Include type arguments in Thrift CQLPreparedResult (apippi-5311)
 * Fix compaction not removing columns when bf_fp_ratio is 1 (apippi-5182)
 * cli: Warn about missing CQL3 tables in schema descriptions (apippi-5309)
 * Re-enable unknown option in replication/compaction strategies option for
   backward compatibility (apippi-4795)
 * Add binary protocol support to stress (apippi-4993)
 * cqlsh: Fix COPY FROM value quoting and null handling (apippi-5305)
 * Fix repair -pr for vnodes (apippi-5329)
 * Relax CL for auth queries for non-default users (apippi-5310)
 * Fix AssertionError during repair (apippi-5245)
 * Don't announce migrations to pre-1.2 nodes (apippi-5334)
Merged from 1.1:
 * Update offline scrub for 1.0 -> 1.1 directory structure (apippi-5195)
 * add tmp flag to Descriptor hashcode (apippi-4021)
 * fix logging of "Found table data in data directories" when only system tables
   are present (apippi-5289)
 * cli: Add JMX authentication support (apippi-5080)
 * nodetool: ability to repair specific range (apippi-5280)
 * Fix possible assertion triggered in SliceFromReadCommand (apippi-5284)
 * cqlsh: Add inet type support on Windows (ipv4-only) (apippi-4801)
 * Fix race when initializing ColumnFamilyStore (apippi-5350)
 * Add UseTLAB JVM flag (apippi-5361)


1.2.2
 * fix potential for multiple concurrent compactions of the same sstables
   (apippi-5256)
 * avoid no-op caching of byte[] on commitlog append (apippi-5199)
 * fix symlinks under data dir not working (apippi-5185)
 * fix bug in compact storage metadata handling (apippi-5189)
 * Validate login for USE queries (apippi-5207)
 * cli: remove default username and password (apippi-5208)
 * configure populate_io_cache_on_flush per-CF (apippi-4694)
 * allow configuration of internode socket buffer (apippi-3378)
 * Make sstable directory picking blacklist-aware again (apippi-5193)
 * Correctly expire gossip states for edge cases (apippi-5216)
 * Improve handling of directory creation failures (apippi-5196)
 * Expose secondary indicies to the rest of nodetool (apippi-4464)
 * Binary protocol: avoid sending notification for 0.0.0.0 (apippi-5227)
 * add UseCondCardMark XX jvm settings on jdk 1.7 (apippi-4366)
 * CQL3 refactor to allow conversion function (apippi-5226)
 * Fix drop of sstables in some circumstance (apippi-5232)
 * Implement caching of authorization results (apippi-4295)
 * Add support for LZ4 compression (apippi-5038)
 * Fix missing columns in wide rows queries (apippi-5225)
 * Simplify auth setup and make system_auth ks alterable (apippi-5112)
 * Stop compactions from hanging during bootstrap (apippi-5244)
 * fix compressed streaming sending extra chunk (apippi-5105)
 * Add CQL3-based implementations of IAuthenticator and IAuthorizer
   (apippi-4898)
 * Fix timestamp-based tomstone removal logic (apippi-5248)
 * cli: Add JMX authentication support (apippi-5080)
 * Fix forceFlush behavior (apippi-5241)
 * cqlsh: Add username autocompletion (apippi-5231)
 * Fix CQL3 composite partition key error (apippi-5240)
 * Allow IN clause on last clustering key (apippi-5230)
Merged from 1.1:
 * fix start key/end token validation for wide row iteration (apippi-5168)
 * add ConfigHelper support for Thrift frame and max message sizes (apippi-5188)
 * fix nodetool repair not fail on node down (apippi-5203)
 * always collect tombstone hints (apippi-5068)
 * Fix error when sourcing file in cqlsh (apippi-5235)


1.2.1
 * stream undelivered hints on decommission (apippi-5128)
 * GossipingPropertyFileSnitch loads saved dc/rack info if needed (apippi-5133)
 * drain should flush system CFs too (apippi-4446)
 * add inter_dc_tcp_nodelay setting (apippi-5148)
 * re-allow wrapping ranges for start_token/end_token range pairitspwng (apippi-5106)
 * fix validation compaction of empty rows (apippi-5136)
 * nodetool methods to enable/disable hint storage/delivery (apippi-4750)
 * disallow bloom filter false positive chance of 0 (apippi-5013)
 * add threadpool size adjustment methods to JMXEnabledThreadPoolExecutor and
   CompactionManagerMBean (apippi-5044)
 * fix hinting for dropped local writes (apippi-4753)
 * off-heap cache doesn't need mutable column container (apippi-5057)
 * apply disk_failure_policy to bad disks on initial directory creation
   (apippi-4847)
 * Optimize name-based queries to use ArrayBackedSortedColumns (apippi-5043)
 * Fall back to old manifest if most recent is unparseable (apippi-5041)
 * pool [Compressed]RandomAccessReader objects on the partitioned read path
   (apippi-4942)
 * Add debug logging to list filenames processed by Directories.migrateFile
   method (apippi-4939)
 * Expose black-listed directories via JMX (apippi-4848)
 * Log compaction merge counts (apippi-4894)
 * Minimize byte array allocation by AbstractData{Input,Output} (apippi-5090)
 * Add SSL support for the binary protocol (apippi-5031)
 * Allow non-schema system ks modification for shuffle to work (apippi-5097)
 * cqlsh: Add default limit to SELECT statements (apippi-4972)
 * cqlsh: fix DESCRIBE for 1.1 cfs in CQL3 (apippi-5101)
 * Correctly gossip with nodes >= 1.1.7 (apippi-5102)
 * Ensure CL guarantees on digest mismatch (apippi-5113)
 * Validate correctly selects on composite partition key (apippi-5122)
 * Fix exception when adding collection (apippi-5117)
 * Handle states for non-vnode clusters correctly (apippi-5127)
 * Refuse unrecognized replication and compaction strategy options (apippi-4795)
 * Pick the correct value validator in sstable2json for cql3 tables (apippi-5134)
 * Validate login for describe_keyspace, describe_keyspaces and set_keyspace
   (apippi-5144)
 * Fix inserting empty maps (apippi-5141)
 * Don't remove tokens from System table for node we know (apippi-5121)
 * fix streaming progress report for compresed files (apippi-5130)
 * Coverage analysis for low-CL queries (apippi-4858)
 * Stop interpreting dates as valid timeUUID value (apippi-4936)
 * Adds E notation for floating point numbers (apippi-4927)
 * Detect (and warn) unintentional use of the cql2 thrift methods when cql3 was
   intended (apippi-5172)
 * cli: Quote ks and cf names in schema output when needed (apippi-5052)
 * Fix cf name extraction from manifest in Directories.migrateFile() (apippi-5242)
 * Replace mistaken usage of commons-logging with slf4j (apippi-5464)
 * Ensure Jackson dependency matches lib (apippi-5126)
 * Expose droppable tombstone ratio stats over JMX (apippi-5159)
Merged from 1.1:
 * Simplify CompressedRandomAccessReader to work around JDK FD bug (apippi-5088)
 * Improve handling a changing target throttle rate mid-compaction (apippi-5087)
 * Pig: correctly decode row keys in widerow mode (apippi-5098)
 * nodetool repair command now prints progress (apippi-4767)
 * fix user defined compaction to run against 1.1 data directory (apippi-5118)
 * Fix CQL3 BATCH authorization caching (apippi-5145)
 * fix get_count returns incorrect value with TTL (apippi-5099)
 * better handling for mid-compaction failure (apippi-5137)
 * convert default marshallers list to map for better readability (apippi-5109)
 * fix ConcurrentModificationException in getBootstrapSource (apippi-5170)
 * fix sstable maxtimestamp for row deletes and pre-1.1.1 sstables (apippi-5153)
 * Fix thread growth on node removal (apippi-5175)
 * Make Ec2Region's datacenter name configurable (apippi-5155)


1.2.0
 * Disallow counters in collections (apippi-5082)
 * cqlsh: add unit tests (apippi-3920)
 * fix default bloom_filter_fp_chance for LeveledCompactionStrategy (apippi-5093)
Merged from 1.1:
 * add validation for get_range_slices with start_key and end_token (apippi-5089)


1.2.0-rc2
 * fix nodetool ownership display with vnodes (apippi-5065)
 * cqlsh: add DESCRIBE KEYSPACES command (apippi-5060)
 * Fix potential infinite loop when reloading CFS (apippi-5064)
 * Fix SimpleAuthorizer example (apippi-5072)
 * cqlsh: force CL.ONE for tracing and system.schema* queries (apippi-5070)
 * Includes apippi-shuffle in the debian package (apippi-5058)
Merged from 1.1:
 * fix multithreaded compaction deadlock (apippi-4492)
 * fix temporarily missing schema after upgrade from pre-1.1.5 (apippi-5061)
 * Fix ALTER TABLE overriding compression options with defaults
   (apippi-4996, 5066)
 * fix specifying and altering crc_check_chance (apippi-5053)
 * fix Murmur3Partitioner ownership% calculation (apippi-5076)
 * Don't expire columns sooner than they should in 2ndary indexes (apippi-5079)


1.2-rc1
 * rename rpc_timeout settings to request_timeout (apippi-5027)
 * add BF with 0.1 FP to LCS by default (apippi-5029)
 * Fix preparing insert queries (apippi-5016)
 * Fix preparing queries with counter increment (apippi-5022)
 * Fix preparing updates with collections (apippi-5017)
 * Don't generate UUID based on other node address (apippi-5002)
 * Fix message when trying to alter a clustering key type (apippi-5012)
 * Update IAuthenticator to match the new IAuthorizer (apippi-5003)
 * Fix inserting only a key in CQL3 (apippi-5040)
 * Fix CQL3 token() function when used with strings (apippi-5050)
Merged from 1.1:
 * reduce log spam from invalid counter shards (apippi-5026)
 * Improve schema propagation performance (apippi-5025)
 * Fix for IndexHelper.IndexFor throws OOB Exception (apippi-5030)
 * cqlsh: make it possible to describe thrift CFs (apippi-4827)
 * cqlsh: fix timestamp formatting on some platforms (apippi-5046)


1.2-beta3
 * make consistency level configurable in cqlsh (apippi-4829)
 * fix cqlsh rendering of blob fields (apippi-4970)
 * fix cqlsh DESCRIBE command (apippi-4913)
 * save truncation position in system table (apippi-4906)
 * Move CompressionMetadata off-heap (apippi-4937)
 * allow CLI to GET cql3 columnfamily data (apippi-4924)
 * Fix rare race condition in getExpireTimeForEndpoint (apippi-4402)
 * acquire references to overlapping sstables during compaction so bloom filter
   doesn't get free'd prematurely (apippi-4934)
 * Don't share slice query filter in CQL3 SelectStatement (apippi-4928)
 * Separate tracing from Log4J (apippi-4861)
 * Exclude gcable tombstones from merkle-tree computation (apippi-4905)
 * Better printing of AbstractBounds for tracing (apippi-4931)
 * Optimize mostRecentTombstone check in CC.collectAllData (apippi-4883)
 * Change stream session ID to UUID to avoid collision from same node (apippi-4813)
 * Use Stats.db when bulk loading if present (apippi-4957)
 * Skip repair on system_trace and keyspaces with RF=1 (apippi-4956)
 * (cql3) Remove arbitrary SELECT limit (apippi-4918)
 * Correctly handle prepared operation on collections (apippi-4945)
 * Fix CQL3 LIMIT (apippi-4877)
 * Fix Stress for CQL3 (apippi-4979)
 * Remove apippi specific exceptions from JMX interface (apippi-4893)
 * (CQL3) Force using ALLOW FILTERING on potentially inefficient queries (apippi-4915)
 * (cql3) Fix adding column when the table has collections (apippi-4982)
 * (cql3) Fix allowing collections with compact storage (apippi-4990)
 * (cql3) Refuse ttl/writetime function on collections (apippi-4992)
 * Replace IAuthority with new IAuthorizer (apippi-4874)
 * clqsh: fix KEY pseudocolumn escaping when describing Thrift tables
   in CQL3 mode (apippi-4955)
 * add basic authentication support for Pig apippiStorage (apippi-3042)
 * fix CQL2 ALTER TABLE compaction_strategy_class altering (apippi-4965)
Merged from 1.1:
 * Fall back to old describe_splits if d_s_ex is not available (apippi-4803)
 * Improve error reporting when streaming ranges fail (apippi-5009)
 * Fix cqlsh timestamp formatting of timezone info (apippi-4746)
 * Fix assertion failure with leveled compaction (apippi-4799)
 * Check for null end_token in get_range_slice (apippi-4804)
 * Remove all remnants of removed nodes (apippi-4840)
 * Add aut-reloading of the log4j file in debian package (apippi-4855)
 * Fix estimated row cache entry size (apippi-4860)
 * reset getRangeSlice filter after finishing a row for get_paged_slice
   (apippi-4919)
 * expunge row cache post-truncate (apippi-4940)
 * Allow static CF definition with compact storage (apippi-4910)
 * Fix endless loop/compaction of schema_* CFs due to broken timestamps (apippi-4880)
 * Fix 'wrong class type' assertion in CounterColumn (apippi-4976)


1.2-beta2
 * fp rate of 1.0 disables BF entirely; LCS defaults to 1.0 (apippi-4876)
 * off-heap bloom filters for row keys (apippi_4865)
 * add extension point for sstable components (apippi-4049)
 * improve tracing output (apippi-4852, 4862)
 * make TRACE verb droppable (apippi-4672)
 * fix BulkLoader recognition of CQL3 columnfamilies (apippi-4755)
 * Sort commitlog segments for replay by id instead of mtime (apippi-4793)
 * Make hint delivery asynchronous (apippi-4761)
 * Pluggable Thrift transport factories for CLI and cqlsh (apippi-4609, 4610)
 * apippi-cli: allow Double value type to be inserted to a column (apippi-4661)
 * Add ability to use custom TServerFactory implementations (apippi-4608)
 * optimize batchlog flushing to skip successful batches (apippi-4667)
 * include metadata for system keyspace itself in schema tables (apippi-4416)
 * add check to PropertyFileSnitch to verify presence of location for
   local node (apippi-4728)
 * add PBSPredictor consistency modeler (apippi-4261)
 * remove vestiges of Thrift unframed mode (apippi-4729)
 * optimize single-row PK lookups (apippi-4710)
 * adjust blockFor calculation to account for pending ranges due to node
   movement (apippi-833)
 * Change CQL version to 3.0.0 and stop accepting 3.0.0-beta1 (apippi-4649)
 * (CQL3) Make prepared statement global instead of per connection
   (apippi-4449)
 * Fix scrubbing of CQL3 created tables (apippi-4685)
 * (CQL3) Fix validation when using counter and regular columns in the same
   table (apippi-4706)
 * Fix bug starting apippi with simple authentication (apippi-4648)
 * Add support for batchlog in CQL3 (apippi-4545, 4738)
 * Add support for multiple column family outputs in CFOF (apippi-4208)
 * Support repairing only the local DC nodes (apippi-4747)
 * Use rpc_address for binary protocol and change default port (apippi-4751)
 * Fix use of collections in prepared statements (apippi-4739)
 * Store more information into peers table (apippi-4351, 4814)
 * Configurable bucket size for size tiered compaction (apippi-4704)
 * Run leveled compaction in parallel (apippi-4310)
 * Fix potential NPE during CFS reload (apippi-4786)
 * Composite indexes may miss results (apippi-4796)
 * Move consistency level to the protocol level (apippi-4734, 4824)
 * Fix Subcolumn slice ends not respected (apippi-4826)
 * Fix Assertion error in cql3 select (apippi-4783)
 * Fix list prepend logic (CQL3) (apippi-4835)
 * Add booleans as literals in CQL3 (apippi-4776)
 * Allow renaming PK columns in CQL3 (apippi-4822)
 * Fix binary protocol NEW_NODE event (apippi-4679)
 * Fix potential infinite loop in tombstone compaction (apippi-4781)
 * Remove system tables accounting from schema (apippi-4850)
 * (cql3) Force provided columns in clustering key order in
   'CLUSTERING ORDER BY' (apippi-4881)
 * Fix composite index bug (apippi-4884)
 * Fix short read protection for CQL3 (apippi-4882)
 * Add tracing support to the binary protocol (apippi-4699)
 * (cql3) Don't allow prepared marker inside collections (apippi-4890)
 * Re-allow order by on non-selected columns (apippi-4645)
 * Bug when composite index is created in a table having collections (apippi-4909)
 * log index scan subject in CompositesSearcher (apippi-4904)
Merged from 1.1:
 * add get[Row|Key]CacheEntries to CacheServiceMBean (apippi-4859)
 * fix get_paged_slice to wrap to next row correctly (apippi-4816)
 * fix indexing empty column values (apippi-4832)
 * allow JdbcDate to compose null Date objects (apippi-4830)
 * fix possible stackoverflow when compacting 1000s of sstables
   (apippi-4765)
 * fix wrong leveled compaction progress calculation (apippi-4807)
 * add a close() method to CRAR to prevent leaking file descriptors (apippi-4820)
 * fix potential infinite loop in get_count (apippi-4833)
 * fix compositeType.{get/from}String methods (apippi-4842)
 * (CQL) fix CREATE COLUMNFAMILY permissions check (apippi-4864)
 * Fix DynamicCompositeType same type comparison (apippi-4711)
 * Fix duplicate SSTable reference when stream session failed (apippi-3306)
 * Allow static CF definition with compact storage (apippi-4910)
 * Fix endless loop/compaction of schema_* CFs due to broken timestamps (apippi-4880)
 * Fix 'wrong class type' assertion in CounterColumn (apippi-4976)


1.2-beta1
 * add atomic_batch_mutate (apippi-4542, -4635)
 * increase default max_hint_window_in_ms to 3h (apippi-4632)
 * include message initiation time to replicas so they can more
   accurately drop timed-out requests (apippi-2858)
 * fix clientutil.jar dependencies (apippi-4566)
 * optimize WriteResponse (apippi-4548)
 * new metrics (apippi-4009)
 * redesign KEYS indexes to avoid read-before-write (apippi-2897)
 * debug tracing (apippi-1123)
 * parallelize row cache loading (apippi-4282)
 * Make compaction, flush JBOD-aware (apippi-4292)
 * run local range scans on the read stage (apippi-3687)
 * clean up ioexceptions (apippi-2116)
 * add disk_failure_policy (apippi-2118)
 * Introduce new json format with row level deletion (apippi-4054)
 * remove redundant "name" column from schema_keyspaces (apippi-4433)
 * improve "nodetool ring" handling of multi-dc clusters (apippi-3047)
 * update NTS calculateNaturalEndpoints to be O(N log N) (apippi-3881)
 * split up rpc timeout by operation type (apippi-2819)
 * rewrite key cache save/load to use only sequential i/o (apippi-3762)
 * update MS protocol with a version handshake + broadcast address id
   (apippi-4311)
 * multithreaded hint replay (apippi-4189)
 * add inter-node message compression (apippi-3127)
 * remove COPP (apippi-2479)
 * Track tombstone expiration and compact when tombstone content is
   higher than a configurable threshold, default 20% (apippi-3442, 4234)
 * update MurmurHash to version 3 (apippi-2975)
 * (CLI) track elapsed time for `delete' operation (apippi-4060)
 * (CLI) jline version is bumped to 1.0 to properly  support
   'delete' key function (apippi-4132)
 * Save IndexSummary into new SSTable 'Summary' component (apippi-2392, 4289)
 * Add support for range tombstones (apippi-3708)
 * Improve MessagingService efficiency (apippi-3617)
 * Avoid ID conflicts from concurrent schema changes (apippi-3794)
 * Set thrift HSHA server thread limit to unlimited by default (apippi-4277)
 * Avoids double serialization of CF id in RowMutation messages
   (apippi-4293)
 * stream compressed sstables directly with java nio (apippi-4297)
 * Support multiple ranges in SliceQueryFilter (apippi-3885)
 * Add column metadata to system column families (apippi-4018)
 * (cql3) Always use composite types by default (apippi-4329)
 * (cql3) Add support for set, map and list (apippi-3647)
 * Validate date type correctly (apippi-4441)
 * (cql3) Allow definitions with only a PK (apippi-4361)
 * (cql3) Add support for row key composites (apippi-4179)
 * improve DynamicEndpointSnitch by using reservoir sampling (apippi-4038)
 * (cql3) Add support for 2ndary indexes (apippi-3680)
 * (cql3) fix defining more than one PK to be invalid (apippi-4477)
 * remove schema agreement checking from all external APIs (Thrift, CQL and CQL3) (apippi-4487)
 * add Murmur3Partitioner and make it default for new installations (apippi-3772, 4621)
 * (cql3) update pseudo-map syntax to use map syntax (apippi-4497)
 * Finer grained exceptions hierarchy and provides error code with exceptions (apippi-3979)
 * Adds events push to binary protocol (apippi-4480)
 * Rewrite nodetool help (apippi-2293)
 * Make CQL3 the default for CQL (apippi-4640)
 * update stress tool to be able to use CQL3 (apippi-4406)
 * Accept all thrift update on CQL3 cf but don't expose their metadata (apippi-4377)
 * Replace Throttle with Guava's RateLimiter for HintedHandOff (apippi-4541)
 * fix counter add/get using CQL2 and CQL3 in stress tool (apippi-4633)
 * Add sstable count per level to cfstats (apippi-4537)
 * (cql3) Add ALTER KEYSPACE statement (apippi-4611)
 * (cql3) Allow defining default consistency levels (apippi-4448)
 * (cql3) Fix queries using LIMIT missing results (apippi-4579)
 * fix cross-version gossip messaging (apippi-4576)
 * added inet data type (apippi-4627)


1.1.6
 * Wait for writes on synchronous read digest mismatch (apippi-4792)
 * fix commitlog replay for nanotime-infected sstables (apippi-4782)
 * preflight check ttl for maximum of 20 years (apippi-4771)
 * (Pig) fix widerow input with single column rows (apippi-4789)
 * Fix HH to compact with correct gcBefore, which avoids wiping out
   undelivered hints (apippi-4772)
 * LCS will merge up to 32 L0 sstables as intended (apippi-4778)
 * NTS will default unconfigured DC replicas to zero (apippi-4675)
 * use default consistency level in counter validation if none is
   explicitly provide (apippi-4700)
 * Improve IAuthority interface by introducing fine-grained
   access permissions and grant/revoke commands (apippi-4490, 4644)
 * fix assumption error in CLI when updating/describing keyspace
   (apippi-4322)
 * Adds offline sstablescrub to debian packaging (apippi-4642)
 * Automatic fixing of overlapping leveled sstables (apippi-4644)
 * fix error when using ORDER BY with extended selections (apippi-4689)
 * (CQL3) Fix validation for IN queries for non-PK cols (apippi-4709)
 * fix re-created keyspace disappering after 1.1.5 upgrade
   (apippi-4698, 4752)
 * (CLI) display elapsed time in 2 fraction digits (apippi-3460)
 * add authentication support to sstableloader (apippi-4712)
 * Fix CQL3 'is reversed' logic (apippi-4716, 4759)
 * (CQL3) Don't return ReversedType in result set metadata (apippi-4717)
 * Backport adding AlterKeyspace statement (apippi-4611)
 * (CQL3) Correcty accept upper-case data types (apippi-4770)
 * Add binary protocol events for schema changes (apippi-4684)
Merged from 1.0:
 * Switch from NBHM to CHM in MessagingService's callback map, which
   prevents OOM in long-running instances (apippi-4708)


1.1.5
 * add SecondaryIndex.reload API (apippi-4581)
 * use millis + atomicint for commitlog segment creation instead of
   nanotime, which has issues under some hypervisors (apippi-4601)
 * fix FD leak in slice queries (apippi-4571)
 * avoid recursion in leveled compaction (apippi-4587)
 * increase stack size under Java7 to 180K
 * Log(info) schema changes (apippi-4547)
 * Change nodetool setcachecapcity to manipulate global caches (apippi-4563)
 * (cql3) fix setting compaction strategy (apippi-4597)
 * fix broken system.schema_* timestamps on system startup (apippi-4561)
 * fix wrong skip of cache saving (apippi-4533)
 * Avoid NPE when lost+found is in data dir (apippi-4572)
 * Respect five-minute flush moratorium after initial CL replay (apippi-4474)
 * Adds ntp as recommended in debian packaging (apippi-4606)
 * Configurable transport in CF Record{Reader|Writer} (apippi-4558)
 * (cql3) fix potential NPE with both equal and unequal restriction (apippi-4532)
 * (cql3) improves ORDER BY validation (apippi-4624)
 * Fix potential deadlock during counter writes (apippi-4578)
 * Fix cql error with ORDER BY when using IN (apippi-4612)
Merged from 1.0:
 * increase Xss to 160k to accomodate latest 1.6 JVMs (apippi-4602)
 * fix toString of hint destination tokens (apippi-4568)
 * Fix multiple values for CurrentLocal NodeID (apippi-4626)


1.1.4
 * fix offline scrub to catch >= out of order rows (apippi-4411)
 * fix apippi-env.sh on RHEL and other non-dash-based systems
   (apippi-4494)
Merged from 1.0:
 * (Hadoop) fix setting key length for old-style mapred api (apippi-4534)
 * (Hadoop) fix iterating through a resultset consisting entirely
   of tombstoned rows (apippi-4466)


1.1.3
 * (cqlsh) add COPY TO (apippi-4434)
 * munmap commitlog segments before rename (apippi-4337)
 * (JMX) rename getRangeKeySample to sampleKeyRange to avoid returning
   multi-MB results as an attribute (apippi-4452)
 * flush based on data size, not throughput; overwritten columns no
   longer artificially inflate liveRatio (apippi-4399)
 * update default commitlog segment size to 32MB and total commitlog
   size to 32/1024 MB for 32/64 bit JVMs, respectively (apippi-4422)
 * avoid using global partitioner to estimate ranges in index sstables
   (apippi-4403)
 * restore pre-apippi-3862 approach to removing expired tombstones
   from row cache during compaction (apippi-4364)
 * (stress) support for CQL prepared statements (apippi-3633)
 * Correctly catch exception when Snappy cannot be loaded (apippi-4400)
 * (cql3) Support ORDER BY when IN condition is given in WHERE clause (apippi-4327)
 * (cql3) delete "component_index" column on DROP TABLE call (apippi-4420)
 * change nanoTime() to currentTimeInMillis() in schema related code (apippi-4432)
 * add a token generation tool (apippi-3709)
 * Fix LCS bug with sstable containing only 1 row (apippi-4411)
 * fix "Can't Modify Index Name" problem on CF update (apippi-4439)
 * Fix assertion error in getOverlappingSSTables during repair (apippi-4456)
 * fix nodetool's setcompactionthreshold command (apippi-4455)
 * Ensure compacted files are never used, to avoid counter overcount (apippi-4436)
Merged from 1.0:
 * Push the validation of secondary index values to the SecondaryIndexManager (apippi-4240)
 * allow dropping columns shadowed by not-yet-expired supercolumn or row
   tombstones in PrecompactedRow (apippi-4396)


1.1.2
 * Fix cleanup not deleting index entries (apippi-4379)
 * Use correct partitioner when saving + loading caches (apippi-4331)
 * Check schema before trying to export sstable (apippi-2760)
 * Raise a meaningful exception instead of NPE when PFS encounters
   an unconfigured node + no default (apippi-4349)
 * fix bug in sstable blacklisting with LCS (apippi-4343)
 * LCS no longer promotes tiny sstables out of L0 (apippi-4341)
 * skip tombstones during hint replay (apippi-4320)
 * fix NPE in compactionstats (apippi-4318)
 * enforce 1m min keycache for auto (apippi-4306)
 * Have DeletedColumn.isMFD always return true (apippi-4307)
 * (cql3) exeption message for ORDER BY constraints said primary filter can be
    an IN clause, which is misleading (apippi-4319)
 * (cql3) Reject (not yet supported) creation of 2ndardy indexes on tables with
   composite primary keys (apippi-4328)
 * Set JVM stack size to 160k for java 7 (apippi-4275)
 * cqlsh: add COPY command to load data from CSV flat files (apippi-4012)
 * CFMetaData.fromThrift to throw ConfigurationException upon error (apippi-4353)
 * Use CF comparator to sort indexed columns in SecondaryIndexManager
   (apippi-4365)
 * add strategy_options to the KSMetaData.toString() output (apippi-4248)
 * (cql3) fix range queries containing unqueried results (apippi-4372)
 * (cql3) allow updating column_alias types (apippi-4041)
 * (cql3) Fix deletion bug (apippi-4193)
 * Fix computation of overlapping sstable for leveled compaction (apippi-4321)
 * Improve scrub and allow to run it offline (apippi-4321)
 * Fix assertionError in StorageService.bulkLoad (apippi-4368)
 * (cqlsh) add option to authenticate to a keyspace at startup (apippi-4108)
 * (cqlsh) fix ASSUME functionality (apippi-4352)
 * Fix ColumnFamilyRecordReader to not return progress > 100% (apippi-3942)
Merged from 1.0:
 * Set gc_grace on index CF to 0 (apippi-4314)


1.1.1
 * add populate_io_cache_on_flush option (apippi-2635)
 * allow larger cache capacities than 2GB (apippi-4150)
 * add getsstables command to nodetool (apippi-4199)
 * apply parent CF compaction settings to secondary index CFs (apippi-4280)
 * preserve commitlog size cap when recycling segments at startup
   (apippi-4201)
 * (Hadoop) fix split generation regression (apippi-4259)
 * ignore min/max compactions settings in LCS, while preserving
   behavior that min=max=0 disables autocompaction (apippi-4233)
 * log number of rows read from saved cache (apippi-4249)
 * calculate exact size required for cleanup operations (apippi-1404)
 * avoid blocking additional writes during flush when the commitlog
   gets behind temporarily (apippi-1991)
 * enable caching on index CFs based on data CF cache setting (apippi-4197)
 * warn on invalid replication strategy creation options (apippi-4046)
 * remove [Freeable]Memory finalizers (apippi-4222)
 * include tombstone size in ColumnFamily.size, which can prevent OOM
   during sudden mass delete operations by yielding a nonzero liveRatio
   (apippi-3741)
 * Open 1 sstableScanner per level for leveled compaction (apippi-4142)
 * Optimize reads when row deletion timestamps allow us to restrict
   the set of sstables we check (apippi-4116)
 * add support for commitlog archiving and point-in-time recovery
   (apippi-3690)
 * avoid generating redundant compaction tasks during streaming
   (apippi-4174)
 * add -cf option to nodetool snapshot, and takeColumnFamilySnapshot to
   StorageService mbean (apippi-556)
 * optimize cleanup to drop entire sstables where possible (apippi-4079)
 * optimize truncate when autosnapshot is disabled (apippi-4153)
 * update caches to use byte[] keys to reduce memory overhead (apippi-3966)
 * add column limit to cli (apippi-3012, 4098)
 * clean up and optimize DataOutputBuffer, used by CQL compression and
   CompositeType (apippi-4072)
 * optimize commitlog checksumming (apippi-3610)
 * identify and blacklist corrupted SSTables from future compactions
   (apippi-2261)
 * Move CfDef and KsDef validation out of thrift (apippi-4037)
 * Expose API to repair a user provided range (apippi-3912)
 * Add way to force the apippi-cli to refresh its schema (apippi-4052)
 * Avoid having replicate on write tasks stacking up at CL.ONE (apippi-2889)
 * (cql3) Backwards compatibility for composite comparators in non-cql3-aware
   clients (apippi-4093)
 * (cql3) Fix order by for reversed queries (apippi-4160)
 * (cql3) Add ReversedType support (apippi-4004)
 * (cql3) Add timeuuid type (apippi-4194)
 * (cql3) Minor fixes (apippi-4185)
 * (cql3) Fix prepared statement in BATCH (apippi-4202)
 * (cql3) Reduce the list of reserved keywords (apippi-4186)
 * (cql3) Move max/min compaction thresholds to compaction strategy options
   (apippi-4187)
 * Fix exception during move when localhost is the only source (apippi-4200)
 * (cql3) Allow paging through non-ordered partitioner results (apippi-3771)
 * (cql3) Fix drop index (apippi-4192)
 * (cql3) Don't return range ghosts anymore (apippi-3982)
 * fix re-creating Keyspaces/ColumnFamilies with the same name as dropped
   ones (apippi-4219)
 * fix SecondaryIndex LeveledManifest save upon snapshot (apippi-4230)
 * fix missing arrayOffset in FBUtilities.hash (apippi-4250)
 * (cql3) Add name of parameters in CqlResultSet (apippi-4242)
 * (cql3) Correctly validate order by queries (apippi-4246)
 * rename stress to apippi-stress for saner packaging (apippi-4256)
 * Fix exception on colum metadata with non-string comparator (apippi-4269)
 * Check for unknown/invalid compression options (apippi-4266)
 * (cql3) Adds simple access to column timestamp and ttl (apippi-4217)
 * (cql3) Fix range queries with secondary indexes (apippi-4257)
 * Better error messages from improper input in cli (apippi-3865)
 * Try to stop all compaction upon Keyspace or ColumnFamily drop (apippi-4221)
 * (cql3) Allow keyspace properties to contain hyphens (apippi-4278)
 * (cql3) Correctly validate keyspace access in create table (apippi-4296)
 * Avoid deadlock in migration stage (apippi-3882)
 * Take supercolumn names and deletion info into account in memtable throughput
   (apippi-4264)
 * Add back backward compatibility for old style replication factor (apippi-4294)
 * Preserve compatibility with pre-1.1 index queries (apippi-4262)
Merged from 1.0:
 * Fix super columns bug where cache is not updated (apippi-4190)
 * fix maxTimestamp to include row tombstones (apippi-4116)
 * (CLI) properly handle quotes in create/update keyspace commands (apippi-4129)
 * Avoids possible deadlock during bootstrap (apippi-4159)
 * fix stress tool that hangs forever on timeout or error (apippi-4128)
 * stress tool to return appropriate exit code on failure (apippi-4188)
 * fix compaction NPE when out of disk space and assertions disabled
   (apippi-3985)
 * synchronize LCS getEstimatedTasks to avoid CME (apippi-4255)
 * ensure unique streaming session id's (apippi-4223)
 * kick off background compaction when min/max thresholds change
   (apippi-4279)
 * improve ability of STCS.getBuckets to deal with 100s of 1000s of
   sstables, such as when convertinb back from LCS (apippi-4287)
 * Oversize integer in CQL throws NumberFormatException (apippi-4291)
 * fix 1.0.x node join to mixed version cluster, other nodes >= 1.1 (apippi-4195)
 * Fix LCS splitting sstable base on uncompressed size (apippi-4419)
 * Push the validation of secondary index values to the SecondaryIndexManager (apippi-4240)
 * Don't purge columns during upgradesstables (apippi-4462)
 * Make cqlsh work with piping (apippi-4113)
 * Validate arguments for nodetool decommission (apippi-4061)
 * Report thrift status in nodetool info (apippi-4010)


1.1.0-final
 * average a reduced liveRatio estimate with the previous one (apippi-4065)
 * Allow KS and CF names up to 48 characters (apippi-4157)
 * fix stress build (apippi-4140)
 * add time remaining estimate to nodetool compactionstats (apippi-4167)
 * (cql) fix NPE in cql3 ALTER TABLE (apippi-4163)
 * (cql) Add support for CL.TWO and CL.THREE in CQL (apippi-4156)
 * (cql) Fix type in CQL3 ALTER TABLE preventing update (apippi-4170)
 * (cql) Throw invalid exception from CQL3 on obsolete options (apippi-4171)
 * (cqlsh) fix recognizing uppercase SELECT keyword (apippi-4161)
 * Pig: wide row support (apippi-3909)
Merged from 1.0:
 * avoid streaming empty files with bulk loader if sstablewriter errors out
   (apippi-3946)


1.1-rc1
 * Include stress tool in binary builds (apippi-4103)
 * (Hadoop) fix wide row iteration when last row read was deleted
   (apippi-4154)
 * fix read_repair_chance to really default to 0.1 in the cli (apippi-4114)
 * Adds caching and bloomFilterFpChange to CQL options (apippi-4042)
 * Adds posibility to autoconfigure size of the KeyCache (apippi-4087)
 * fix KEYS index from skipping results (apippi-3996)
 * Remove sliced_buffer_size_in_kb dead option (apippi-4076)
 * make loadNewSStable preserve sstable version (apippi-4077)
 * Respect 1.0 cache settings as much as possible when upgrading
   (apippi-4088)
 * relax path length requirement for sstable files when upgrading on
   non-Windows platforms (apippi-4110)
 * fix terminination of the stress.java when errors were encountered
   (apippi-4128)
 * Move CfDef and KsDef validation out of thrift (apippi-4037)
 * Fix get_paged_slice (apippi-4136)
 * CQL3: Support slice with exclusive start and stop (apippi-3785)
Merged from 1.0:
 * support PropertyFileSnitch in bulk loader (apippi-4145)
 * add auto_snapshot option allowing disabling snapshot before drop/truncate
   (apippi-3710)
 * allow short snitch names (apippi-4130)


1.1-beta2
 * rename loaded sstables to avoid conflicts with local snapshots
   (apippi-3967)
 * start hint replay as soon as FD notifies that the target is back up
   (apippi-3958)
 * avoid unproductive deserializing of cached rows during compaction
   (apippi-3921)
 * fix concurrency issues with CQL keyspace creation (apippi-3903)
 * Show Effective Owership via Nodetool ring <keyspace> (apippi-3412)
 * Update ORDER BY syntax for CQL3 (apippi-3925)
 * Fix BulkRecordWriter to not throw NPE if reducer gets no map data from Hadoop (apippi-3944)
 * Fix bug with counters in super columns (apippi-3821)
 * Remove deprecated merge_shard_chance (apippi-3940)
 * add a convenient way to reset a node's schema (apippi-2963)
 * fix for intermittent SchemaDisagreementException (apippi-3884)
 * CLI `list <CF>` to limit number of columns and their order (apippi-3012)
 * ignore deprecated KsDef/CfDef/ColumnDef fields in native schema (apippi-3963)
 * CLI to report when unsupported column_metadata pair was given (apippi-3959)
 * reincarnate removed and deprecated KsDef/CfDef attributes (apippi-3953)
 * Fix race between writes and read for cache (apippi-3862)
 * perform static initialization of StorageProxy on start-up (apippi-3797)
 * support trickling fsync() on writes (apippi-3950)
 * expose counters for unavailable/timeout exceptions given to thrift clients (apippi-3671)
 * avoid quadratic startup time in LeveledManifest (apippi-3952)
 * Add type information to new schema_ columnfamilies and remove thrift
   serialization for schema (apippi-3792)
 * add missing column validator options to the CLI help (apippi-3926)
 * skip reading saved key cache if CF's caching strategy is NONE or ROWS_ONLY (apippi-3954)
 * Unify migration code (apippi-4017)
Merged from 1.0:
 * cqlsh: guess correct version of Python for Arch Linux (apippi-4090)
 * (CLI) properly handle quotes in create/update keyspace commands (apippi-4129)
 * Avoids possible deadlock during bootstrap (apippi-4159)
 * fix stress tool that hangs forever on timeout or error (apippi-4128)
 * Fix super columns bug where cache is not updated (apippi-4190)
 * stress tool to return appropriate exit code on failure (apippi-4188)


1.0.9
 * improve index sampling performance (apippi-4023)
 * always compact away deleted hints immediately after handoff (apippi-3955)
 * delete hints from dropped ColumnFamilies on handoff instead of
   erroring out (apippi-3975)
 * add CompositeType ref to the CLI doc for create/update column family (apippi-3980)
 * Pig: support Counter ColumnFamilies (apippi-3973)
 * Pig: Composite column support (apippi-3684)
 * Avoid NPE during repair when a keyspace has no CFs (apippi-3988)
 * Fix division-by-zero error on get_slice (apippi-4000)
 * don't change manifest level for cleanup, scrub, and upgradesstables
   operations under LeveledCompactionStrategy (apippi-3989, 4112)
 * fix race leading to super columns assertion failure (apippi-3957)
 * fix NPE on invalid CQL delete command (apippi-3755)
 * allow custom types in CLI's assume command (apippi-4081)
 * fix totalBytes count for parallel compactions (apippi-3758)
 * fix intermittent NPE in get_slice (apippi-4095)
 * remove unnecessary asserts in native code interfaces (apippi-4096)
 * Validate blank keys in CQL to avoid assertion errors (apippi-3612)
 * cqlsh: fix bad decoding of some column names (apippi-4003)
 * cqlsh: fix incorrect padding with unicode chars (apippi-4033)
 * Fix EC2 snitch incorrectly reporting region (apippi-4026)
 * Shut down thrift during decommission (apippi-4086)
 * Expose nodetool cfhistograms for 2ndary indexes (apippi-4063)
Merged from 0.8:
 * Fix ConcurrentModificationException in gossiper (apippi-4019)


1.1-beta1
 * (cqlsh)
   + add SOURCE and CAPTURE commands, and --file option (apippi-3479)
   + add ALTER COLUMNFAMILY WITH (apippi-3523)
   + bundle Python dependencies with apippi (apippi-3507)
   + added to Debian package (apippi-3458)
   + display byte data instead of erroring out on decode failure
     (apippi-3874)
 * add nodetool rebuild_index (apippi-3583)
 * add nodetool rangekeysample (apippi-2917)
 * Fix streaming too much data during move operations (apippi-3639)
 * Nodetool and CLI connect to localhost by default (apippi-3568)
 * Reduce memory used by primary index sample (apippi-3743)
 * (Hadoop) separate input/output configurations (apippi-3197, 3765)
 * avoid returning internal apippi classes over JMX (apippi-2805)
 * add row-level isolation via SnapTree (apippi-2893)
 * Optimize key count estimation when opening sstable on startup
   (apippi-2988)
 * multi-dc replication optimization supporting CL > ONE (apippi-3577)
 * add command to stop compactions (apippi-1740, 3566, 3582)
 * multithreaded streaming (apippi-3494)
 * removed in-tree redhat spec (apippi-3567)
 * "defragment" rows for name-based queries under STCS, again (apippi-2503)
 * Recycle commitlog segments for improved performance
   (apippi-3411, 3543, 3557, 3615)
 * update size-tiered compaction to prioritize small tiers (apippi-2407)
 * add message expiration logic to OutboundTcpConnection (apippi-3005)
 * off-heap cache to use sun.misc.Unsafe instead of JNA (apippi-3271)
 * EACH_QUORUM is only supported for writes (apippi-3272)
 * replace compactionlock use in schema migration by checking CFS.isValid
   (apippi-3116)
 * recognize that "SELECT first ... *" isn't really "SELECT *" (apippi-3445)
 * Use faster bytes comparison (apippi-3434)
 * Bulk loader is no longer a fat client, (HADOOP) bulk load output format
   (apippi-3045)
 * (Hadoop) add support for KeyRange.filter
 * remove assumption that keys and token are in bijection
   (apippi-1034, 3574, 3604)
 * always remove endpoints from delevery queue in HH (apippi-3546)
 * fix race between cf flush and its 2ndary indexes flush (apippi-3547)
 * fix potential race in AES when a repair fails (apippi-3548)
 * Remove columns shadowed by a deleted container even when we cannot purge
   (apippi-3538)
 * Improve memtable slice iteration performance (apippi-3545)
 * more efficient allocation of small bloom filters (apippi-3618)
 * Use separate writer thread in SSTableSimpleUnsortedWriter (apippi-3619)
 * fsync the directory after new sstable or commitlog segment are created (apippi-3250)
 * fix minor issues reported by FindBugs (apippi-3658)
 * global key/row caches (apippi-3143, 3849)
 * optimize memtable iteration during range scan (apippi-3638)
 * introduce 'crc_check_chance' in CompressionParameters to support
   a checksum percentage checking chance similarly to read-repair (apippi-3611)
 * a way to deactivate global key/row cache on per-CF basis (apippi-3667)
 * fix LeveledCompactionStrategy broken because of generation pre-allocation
   in LeveledManifest (apippi-3691)
 * finer-grained control over data directories (apippi-2749)
 * Fix ClassCastException during hinted handoff (apippi-3694)
 * Upgrade Thrift to 0.7 (apippi-3213)
 * Make stress.java insert operation to use microseconds (apippi-3725)
 * Allows (internally) doing a range query with a limit of columns instead of
   rows (apippi-3742)
 * Allow rangeSlice queries to be start/end inclusive/exclusive (apippi-3749)
 * Fix BulkLoader to support new SSTable layout and add stream
   throttling to prevent an NPE when there is no yaml config (apippi-3752)
 * Allow concurrent schema migrations (apippi-1391, 3832)
 * Add SnapshotCommand to trigger snapshot on remote node (apippi-3721)
 * Make CFMetaData conversions to/from thrift/native schema inverses
   (apippi_3559)
 * Add initial code for CQL 3.0-beta (apippi-2474, 3781, 3753)
 * Add wide row support for ColumnFamilyInputFormat (apippi-3264)
 * Allow extending CompositeType comparator (apippi-3657)
 * Avoids over-paging during get_count (apippi-3798)
 * Add new command to rebuild a node without (repair) merkle tree calculations
   (apippi-3483, 3922)
 * respect not only row cache capacity but caching mode when
   trying to read data (apippi-3812)
 * fix system tests (apippi-3827)
 * CQL support for altering row key type in ALTER TABLE (apippi-3781)
 * turn compression on by default (apippi-3871)
 * make hexToBytes refuse invalid input (apippi-2851)
 * Make secondary indexes CF inherit compression and compaction from their
   parent CF (apippi-3877)
 * Finish cleanup up tombstone purge code (apippi-3872)
 * Avoid NPE on aboarted stream-out sessions (apippi-3904)
 * BulkRecordWriter throws NPE for counter columns (apippi-3906)
 * Support compression using BulkWriter (apippi-3907)


1.0.8
 * fix race between cleanup and flush on secondary index CFSes (apippi-3712)
 * avoid including non-queried nodes in rangeslice read repair
   (apippi-3843)
 * Only snapshot CF being compacted for snapshot_before_compaction
   (apippi-3803)
 * Log active compactions in StatusLogger (apippi-3703)
 * Compute more accurate compaction score per level (apippi-3790)
 * Return InvalidRequest when using a keyspace that doesn't exist
   (apippi-3764)
 * disallow user modification of System keyspace (apippi-3738)
 * allow using sstable2json on secondary index data (apippi-3738)
 * (cqlsh) add DESCRIBE COLUMNFAMILIES (apippi-3586)
 * (cqlsh) format blobs correctly and use colors to improve output
   readability (apippi-3726)
 * synchronize BiMap of bootstrapping tokens (apippi-3417)
 * show index options in CLI (apippi-3809)
 * add optional socket timeout for streaming (apippi-3838)
 * fix truncate not to leave behind non-CFS backed secondary indexes
   (apippi-3844)
 * make CLI `show schema` to use output stream directly instead
   of StringBuilder (apippi-3842)
 * remove the wait on hint future during write (apippi-3870)
 * (cqlsh) ignore missing CfDef opts (apippi-3933)
 * (cqlsh) look for cqlshlib relative to realpath (apippi-3767)
 * Fix short read protection (apippi-3934)
 * Make sure infered and actual schema match (apippi-3371)
 * Fix NPE during HH delivery (apippi-3677)
 * Don't put boostrapping node in 'hibernate' status (apippi-3737)
 * Fix double quotes in windows bat files (apippi-3744)
 * Fix bad validator lookup (apippi-3789)
 * Fix soft reset in EC2MultiRegionSnitch (apippi-3835)
 * Don't leave zombie connections with THSHA thrift server (apippi-3867)
 * (cqlsh) fix deserialization of data (apippi-3874)
 * Fix removetoken force causing an inconsistent state (apippi-3876)
 * Fix ahndling of some types with Pig (apippi-3886)
 * Don't allow to drop the system keyspace (apippi-3759)
 * Make Pig deletes disabled by default and configurable (apippi-3628)
Merged from 0.8:
 * (Pig) fix apippiStorage to use correct comparator in Super ColumnFamily
   case (apippi-3251)
 * fix thread safety issues in commitlog replay, primarily affecting
   systems with many (100s) of CF definitions (apippi-3751)
 * Fix relevant tombstone ignored with super columns (apippi-3875)


1.0.7
 * fix regression in HH page size calculation (apippi-3624)
 * retry failed stream on IOException (apippi-3686)
 * allow configuring bloom_filter_fp_chance (apippi-3497)
 * attempt hint delivery every ten minutes, or when failure detector
   notifies us that a node is back up, whichever comes first.  hint
   handoff throttle delay default changed to 1ms, from 50 (apippi-3554)
 * add nodetool setstreamthroughput (apippi-3571)
 * fix assertion when dropping a columnfamily with no sstables (apippi-3614)
 * more efficient allocation of small bloom filters (apippi-3618)
 * CLibrary.createHardLinkWithExec() to check for errors (apippi-3101)
 * Avoid creating empty and non cleaned writer during compaction (apippi-3616)
 * stop thrift service in shutdown hook so we can quiesce MessagingService
   (apippi-3335)
 * (CQL) compaction_strategy_options and compression_parameters for
   CREATE COLUMNFAMILY statement (apippi-3374)
 * Reset min/max compaction threshold when creating size tiered compaction
   strategy (apippi-3666)
 * Don't ignore IOException during compaction (apippi-3655)
 * Fix assertion error for CF with gc_grace=0 (apippi-3579)
 * Shutdown ParallelCompaction reducer executor after use (apippi-3711)
 * Avoid < 0 value for pending tasks in leveled compaction (apippi-3693)
 * (Hadoop) Support TimeUUID in Pig apippiStorage (apippi-3327)
 * Check schema is ready before continuing boostrapping (apippi-3629)
 * Catch overflows during parsing of chunk_length_kb (apippi-3644)
 * Improve stream protocol mismatch errors (apippi-3652)
 * Avoid multiple thread doing HH to the same target (apippi-3681)
 * Add JMX property for rp_timeout_in_ms (apippi-2940)
 * Allow DynamicCompositeType to compare component of different types
   (apippi-3625)
 * Flush non-cfs backed secondary indexes (apippi-3659)
 * Secondary Indexes should report memory consumption (apippi-3155)
 * fix for SelectStatement start/end key are not set correctly
   when a key alias is involved (apippi-3700)
 * fix CLI `show schema` command insert of an extra comma in
   column_metadata (apippi-3714)
Merged from 0.8:
 * avoid logging (harmless) exception when GC takes < 1ms (apippi-3656)
 * prevent new nodes from thinking down nodes are up forever (apippi-3626)
 * use correct list of replicas for LOCAL_QUORUM reads when read repair
   is disabled (apippi-3696)
 * block on flush before compacting hints (may prevent OOM) (apippi-3733)


1.0.6
 * (CQL) fix cqlsh support for replicate_on_write (apippi-3596)
 * fix adding to leveled manifest after streaming (apippi-3536)
 * filter out unavailable cipher suites when using encryption (apippi-3178)
 * (HADOOP) add old-style api support for CFIF and CFRR (apippi-2799)
 * Support TimeUUIDType column names in Stress.java tool (apippi-3541)
 * (CQL) INSERT/UPDATE/DELETE/TRUNCATE commands should allow CF names to
   be qualified by keyspace (apippi-3419)
 * always remove endpoints from delevery queue in HH (apippi-3546)
 * fix race between cf flush and its 2ndary indexes flush (apippi-3547)
 * fix potential race in AES when a repair fails (apippi-3548)
 * fix default value validation usage in CLI SET command (apippi-3553)
 * Optimize componentsFor method for compaction and startup time
   (apippi-3532)
 * (CQL) Proper ColumnFamily metadata validation on CREATE COLUMNFAMILY
   (apippi-3565)
 * fix compression "chunk_length_kb" option to set correct kb value for
   thrift/avro (apippi-3558)
 * fix missing response during range slice repair (apippi-3551)
 * 'describe ring' moved from CLI to nodetool and available through JMX (apippi-3220)
 * add back partitioner to sstable metadata (apippi-3540)
 * fix NPE in get_count for counters (apippi-3601)
Merged from 0.8:
 * remove invalid assertion that table was opened before dropping it
   (apippi-3580)
 * range and index scans now only send requests to enough replicas to
   satisfy requested CL + RR (apippi-3598)
 * use cannonical host for local node in nodetool info (apippi-3556)
 * remove nonlocal DC write optimization since it only worked with
   CL.ONE or CL.LOCAL_QUORUM (apippi-3577, 3585)
 * detect misuses of CounterColumnType (apippi-3422)
 * turn off string interning in json2sstable, take 2 (apippi-2189)
 * validate compression parameters on add/update of the ColumnFamily
   (apippi-3573)
 * Check for 0.0.0.0 is incorrect in CFIF (apippi-3584)
 * Increase vm.max_map_count in debian packaging (apippi-3563)
 * gossiper will never add itself to saved endpoints (apippi-3485)


1.0.5
 * revert apippi-3407 (see apippi-3540)
 * fix assertion error while forwarding writes to local nodes (apippi-3539)


1.0.4
 * fix self-hinting of timed out read repair updates and make hinted handoff
   less prone to OOMing a coordinator (apippi-3440)
 * expose bloom filter sizes via JMX (apippi-3495)
 * enforce RP tokens 0..2**127 (apippi-3501)
 * canonicalize paths exposed through JMX (apippi-3504)
 * fix "liveSize" stat when sstables are removed (apippi-3496)
 * add bloom filter FP rates to nodetool cfstats (apippi-3347)
 * record partitioner in sstable metadata component (apippi-3407)
 * add new upgradesstables nodetool command (apippi-3406)
 * skip --debug requirement to see common exceptions in CLI (apippi-3508)
 * fix incorrect query results due to invalid max timestamp (apippi-3510)
 * make sstableloader recognize compressed sstables (apippi-3521)
 * avoids race in OutboundTcpConnection in multi-DC setups (apippi-3530)
 * use SETLOCAL in apippi.bat (apippi-3506)
 * fix ConcurrentModificationException in Table.all() (apippi-3529)
Merged from 0.8:
 * fix concurrence issue in the FailureDetector (apippi-3519)
 * fix array out of bounds error in counter shard removal (apippi-3514)
 * avoid dropping tombstones when they might still be needed to shadow
   data in a different sstable (apippi-2786)


1.0.3
 * revert name-based query defragmentation aka apippi-2503 (apippi-3491)
 * fix invalidate-related test failures (apippi-3437)
 * add next-gen cqlsh to bin/ (apippi-3188, 3131, 3493)
 * (CQL) fix handling of rows with no columns (apippi-3424, 3473)
 * fix querying supercolumns by name returning only a subset of
   subcolumns or old subcolumn versions (apippi-3446)
 * automatically compute sha1 sum for uncompressed data files (apippi-3456)
 * fix reading metadata/statistics component for version < h (apippi-3474)
 * add sstable forward-compatibility (apippi-3478)
 * report compression ratio in CFSMBean (apippi-3393)
 * fix incorrect size exception during streaming of counters (apippi-3481)
 * (CQL) fix for counter decrement syntax (apippi-3418)
 * Fix race introduced by apippi-2503 (apippi-3482)
 * Fix incomplete deletion of delivered hints (apippi-3466)
 * Avoid rescheduling compactions when no compaction was executed
   (apippi-3484)
 * fix handling of the chunk_length_kb compression options (apippi-3492)
Merged from 0.8:
 * fix updating CF row_cache_provider (apippi-3414)
 * CFMetaData.convertToThrift method to set RowCacheProvider (apippi-3405)
 * acquire compactionlock during truncate (apippi-3399)
 * fix displaying cfdef entries for super columnfamilies (apippi-3415)
 * Make counter shard merging thread safe (apippi-3178)
 * Revert apippi-2855
 * Fix bug preventing the use of efficient cross-DC writes (apippi-3472)
 * `describe ring` command for CLI (apippi-3220)
 * (Hadoop) skip empty rows when entire row is requested, redux (apippi-2855)


1.0.2
 * "defragment" rows for name-based queries under STCS (apippi-2503)
 * Add timing information to apippi-cli GET/SET/LIST queries (apippi-3326)
 * Only create one CompressionMetadata object per sstable (apippi-3427)
 * cleanup usage of StorageService.setMode() (apippi-3388)
 * Avoid large array allocation for compressed chunk offsets (apippi-3432)
 * fix DecimalType bytebuffer marshalling (apippi-3421)
 * fix bug that caused first column in per row indexes to be ignored
   (apippi-3441)
 * add JMX call to clean (failed) repair sessions (apippi-3316)
 * fix sstableloader reference acquisition bug (apippi-3438)
 * fix estimated row size regression (apippi-3451)
 * make sure we don't return more columns than asked (apippi-3303, 3395)
Merged from 0.8:
 * acquire compactionlock during truncate (apippi-3399)
 * fix displaying cfdef entries for super columnfamilies (apippi-3415)


1.0.1
 * acquire references during index build to prevent delete problems
   on Windows (apippi-3314)
 * describe_ring should include datacenter/topology information (apippi-2882)
 * Thrift sockets are not properly buffered (apippi-3261)
 * performance improvement for bytebufferutil compare function (apippi-3286)
 * add system.versions ColumnFamily (apippi-3140)
 * reduce network copies (apippi-3333, 3373)
 * limit nodetool to 32MB of heap (apippi-3124)
 * (CQL) update parser to accept "timestamp" instead of "date" (apippi-3149)
 * Fix CLI `show schema` to include "compression_options" (apippi-3368)
 * Snapshot to include manifest under LeveledCompactionStrategy (apippi-3359)
 * (CQL) SELECT query should allow CF name to be qualified by keyspace (apippi-3130)
 * (CQL) Fix internal application error specifying 'using consistency ...'
   in lower case (apippi-3366)
 * fix Deflate compression when compression actually makes the data bigger
   (apippi-3370)
 * optimize UUIDGen to avoid lock contention on InetAddress.getLocalHost
   (apippi-3387)
 * tolerate index being dropped mid-mutation (apippi-3334, 3313)
 * CompactionManager is now responsible for checking for new candidates
   post-task execution, enabling more consistent leveled compaction
   (apippi-3391)
 * Cache HSHA threads (apippi-3372)
 * use CF/KS names as snapshot prefix for drop + truncate operations
   (apippi-2997)
 * Break bloom filters up to avoid heap fragmentation (apippi-2466)
 * fix apippi hanging on jsvc stop (apippi-3302)
 * Avoid leveled compaction getting blocked on errors (apippi-3408)
 * Make reloading the compaction strategy safe (apippi-3409)
 * ignore 0.8 hints even if compaction begins before we try to purge
   them (apippi-3385)
 * remove procrun (bin\daemon) from apippi source tree and
   artifacts (apippi-3331)
 * make apippi compile under JDK7 (apippi-3275)
 * remove dependency of clientutil.jar to FBUtilities (apippi-3299)
 * avoid truncation errors by using long math on long values (apippi-3364)
 * avoid clock drift on some Windows machine (apippi-3375)
 * display cache provider in cli 'describe keyspace' command (apippi-3384)
 * fix incomplete topology information in describe_ring (apippi-3403)
 * expire dead gossip states based on time (apippi-2961)
 * improve CompactionTask extensibility (apippi-3330)
 * Allow one leveled compaction task to kick off another (apippi-3363)
 * allow encryption only between datacenters (apippi-2802)
Merged from 0.8:
 * fix truncate allowing data to be replayed post-restart (apippi-3297)
 * make iwriter final in IndexWriter to avoid NPE (apippi-2863)
 * (CQL) update grammar to require key clause in DELETE statement
   (apippi-3349)
 * (CQL) allow numeric keyspace names in USE statement (apippi-3350)
 * (Hadoop) skip empty rows when slicing the entire row (apippi-2855)
 * Fix handling of tombstone by SSTableExport/Import (apippi-3357)
 * fix ColumnIndexer to use long offsets (apippi-3358)
 * Improved CLI exceptions (apippi-3312)
 * Fix handling of tombstone by SSTableExport/Import (apippi-3357)
 * Only count compaction as active (for throttling) when they have
   successfully acquired the compaction lock (apippi-3344)
 * Display CLI version string on startup (apippi-3196)
 * (Hadoop) make CFIF try rpc_address or fallback to listen_address
   (apippi-3214)
 * (Hadoop) accept comma delimited lists of initial thrift connections
   (apippi-3185)
 * ColumnFamily min_compaction_threshold should be >= 2 (apippi-3342)
 * (Pig) add 0.8+ types and key validation type in schema (apippi-3280)
 * Fix completely removing column metadata using CLI (apippi-3126)
 * CLI `describe cluster;` output should be on separate lines for separate versions
   (apippi-3170)
 * fix changing durable_writes keyspace option during CF creation
   (apippi-3292)
 * avoid locking on update when no indexes are involved (apippi-3386)
 * fix assertionError during repair with ordered partitioners (apippi-3369)
 * correctly serialize key_validation_class for avro (apippi-3391)
 * don't expire counter tombstone after streaming (apippi-3394)
 * prevent nodes that failed to join from hanging around forever
   (apippi-3351)
 * remove incorrect optimization from slice read path (apippi-3390)
 * Fix race in AntiEntropyService (apippi-3400)


1.0.0-final
 * close scrubbed sstable fd before deleting it (apippi-3318)
 * fix bug preventing obsolete commitlog segments from being removed
   (apippi-3269)
 * tolerate whitespace in seed CDL (apippi-3263)
 * Change default heap thresholds to max(min(1/2 ram, 1G), min(1/4 ram, 8GB))
   (apippi-3295)
 * Fix broken CompressedRandomAccessReaderTest (apippi-3298)
 * (CQL) fix type information returned for wildcard queries (apippi-3311)
 * add estimated tasks to LeveledCompactionStrategy (apippi-3322)
 * avoid including compaction cache-warming in keycache stats (apippi-3325)
 * run compaction and hinted handoff threads at MIN_PRIORITY (apippi-3308)
 * default hsha thrift server to cpu core count in rpc pool (apippi-3329)
 * add bin\daemon to binary tarball for Windows service (apippi-3331)
 * Fix places where uncompressed size of sstables was use in place of the
   compressed one (apippi-3338)
 * Fix hsha thrift server (apippi-3346)
 * Make sure repair only stream needed sstables (apippi-3345)


1.0.0-rc2
 * Log a meaningful warning when a node receives a message for a repair session
   that doesn't exist anymore (apippi-3256)
 * test for NUMA policy support as well as numactl presence (apippi-3245)
 * Fix FD leak when internode encryption is enabled (apippi-3257)
 * Remove incorrect assertion in mergeIterator (apippi-3260)
 * FBUtilities.hexToBytes(String) to throw NumberFormatException when string
   contains non-hex characters (apippi-3231)
 * Keep SimpleSnitch proximity ordering unchanged from what the Strategy
   generates, as intended (apippi-3262)
 * remove Scrub from compactionstats when finished (apippi-3255)
 * fix counter entry in jdbc TypesMap (apippi-3268)
 * fix full queue scenario for ParallelCompactionIterator (apippi-3270)
 * fix bootstrap process (apippi-3285)
 * don't try delivering hints if when there isn't any (apippi-3176)
 * CLI documentation change for ColumnFamily `compression_options` (apippi-3282)
 * ignore any CF ids sent by client for adding CF/KS (apippi-3288)
 * remove obsolete hints on first startup (apippi-3291)
 * use correct ISortedColumns for time-optimized reads (apippi-3289)
 * Evict gossip state immediately when a token is taken over by a new IP
   (apippi-3259)


1.0.0-rc1
 * Update CQL to generate microsecond timestamps by default (apippi-3227)
 * Fix counting CFMetadata towards Memtable liveRatio (apippi-3023)
 * Kill server on wrapped OOME such as from FileChannel.map (apippi-3201)
 * remove unnecessary copy when adding to row cache (apippi-3223)
 * Log message when a full repair operation completes (apippi-3207)
 * Fix streamOutSession keeping sstables references forever if the remote end
   dies (apippi-3216)
 * Remove dynamic_snitch boolean from example configuration (defaulting to
   true) and set default badness threshold to 0.1 (apippi-3229)
 * Base choice of random or "balanced" token on bootstrap on whether
   schema definitions were found (apippi-3219)
 * Fixes for LeveledCompactionStrategy score computation, prioritization,
   scheduling, and performance (apippi-3224, 3234)
 * parallelize sstable open at server startup (apippi-2988)
 * fix handling of exceptions writing to OutboundTcpConnection (apippi-3235)
 * Allow using quotes in "USE <keyspace>;" CLI command (apippi-3208)
 * Don't allow any cache loading exceptions to halt startup (apippi-3218)
 * Fix sstableloader --ignores option (apippi-3247)
 * File descriptor limit increased in packaging (apippi-3206)
 * Fix deadlock in commit log during flush (apippi-3253)


1.0.0-beta1
 * removed binarymemtable (apippi-2692)
 * add commitlog_total_space_in_mb to prevent fragmented logs (apippi-2427)
 * removed commitlog_rotation_threshold_in_mb configuration (apippi-2771)
 * make AbstractBounds.normalize de-overlapp overlapping ranges (apippi-2641)
 * replace CollatingIterator, ReducingIterator with MergeIterator
   (apippi-2062)
 * Fixed the ability to set compaction strategy in cli using create column
   family command (apippi-2778)
 * clean up tmp files after failed compaction (apippi-2468)
 * restrict repair streaming to specific columnfamilies (apippi-2280)
 * don't bother persisting columns shadowed by a row tombstone (apippi-2589)
 * reset CF and SC deletion times after gc_grace (apippi-2317)
 * optimize away seek when compacting wide rows (apippi-2879)
 * single-pass streaming (apippi-2677, 2906, 2916, 3003)
 * use reference counting for deleting sstables instead of relying on GC
   (apippi-2521, 3179)
 * store hints as serialized mutations instead of pointers to data row
   (apippi-2045)
 * store hints in the coordinator node instead of in the closest replica
   (apippi-2914)
 * add row_cache_keys_to_save CF option (apippi-1966)
 * check column family validity in nodetool repair (apippi-2933)
 * use lazy initialization instead of class initialization in NodeId
   (apippi-2953)
 * add paging to get_count (apippi-2894)
 * fix "short reads" in [multi]get (apippi-2643, 3157, 3192)
 * add optional compression for sstables (apippi-47, 2994, 3001, 3128)
 * add scheduler JMX metrics (apippi-2962)
 * add block level checksum for compressed data (apippi-1717)
 * make column family backed column map pluggable and introduce unsynchronized
   ArrayList backed one to speedup reads (apippi-2843, 3165, 3205)
 * refactoring of the secondary index api (apippi-2982)
 * make CL > ONE reads wait for digest reconciliation before returning
   (apippi-2494)
 * fix missing logging for some exceptions (apippi-2061)
 * refactor and optimize ColumnFamilyStore.files(...) and Descriptor.fromFilename(String)
   and few other places responsible for work with SSTable files (apippi-3040)
 * Stop reading from sstables once we know we have the most recent columns,
   for query-by-name requests (apippi-2498)
 * Add query-by-column mode to stress.java (apippi-3064)
 * Add "install" command to apippi.bat (apippi-292)
 * clean up KSMetadata, CFMetadata from unnecessary
   Thrift<->Avro conversion methods (apippi-3032)
 * Add timeouts to client request schedulers (apippi-3079, 3096)
 * Cli to use hashes rather than array of hashes for strategy options (apippi-3081)
 * LeveledCompactionStrategy (apippi-1608, 3085, 3110, 3087, 3145, 3154, 3182)
 * Improvements of the CLI `describe` command (apippi-2630)
 * reduce window where dropped CF sstables may not be deleted (apippi-2942)
 * Expose gossip/FD info to JMX (apippi-2806)
 * Fix streaming over SSL when compressed SSTable involved (apippi-3051)
 * Add support for pluggable secondary index implementations (apippi-3078)
 * remove compaction_thread_priority setting (apippi-3104)
 * generate hints for replicas that timeout, not just replicas that are known
   to be down before starting (apippi-2034)
 * Add throttling for internode streaming (apippi-3080)
 * make the repair of a range repair all replica (apippi-2610, 3194)
 * expose the ability to repair the first range (as returned by the
   partitioner) of a node (apippi-2606)
 * Streams Compression (apippi-3015)
 * add ability to use multiple threads during a single compaction
   (apippi-2901)
 * make AbstractBounds.normalize support overlapping ranges (apippi-2641)
 * fix of the CQL count() behavior (apippi-3068)
 * use TreeMap backed column families for the SSTable simple writers
   (apippi-3148)
 * fix inconsistency of the CLI syntax when {} should be used instead of [{}]
   (apippi-3119)
 * rename CQL type names to match expected SQL behavior (apippi-3149, 3031)
 * Arena-based allocation for memtables (apippi-2252, 3162, 3163, 3168)
 * Default RR chance to 0.1 (apippi-3169)
 * Add RowLevel support to secondary index API (apippi-3147)
 * Make SerializingCacheProvider the default if JNA is available (apippi-3183)
 * Fix backwards compatibilty for CQL memtable properties (apippi-3190)
 * Add five-minute delay before starting compactions on a restarted server
   (apippi-3181)
 * Reduce copies done for intra-host messages (apippi-1788, 3144)
 * support of compaction strategy option for stress.java (apippi-3204)
 * make memtable throughput and column count thresholds no-ops (apippi-2449)
 * Return schema information along with the resultSet in CQL (apippi-2734)
 * Add new DecimalType (apippi-2883)
 * Fix assertion error in RowRepairResolver (apippi-3156)
 * Reduce unnecessary high buffer sizes (apippi-3171)
 * Pluggable compaction strategy (apippi-1610)
 * Add new broadcast_address config option (apippi-2491)


0.8.7
 * Kill server on wrapped OOME such as from FileChannel.map (apippi-3201)
 * Allow using quotes in "USE <keyspace>;" CLI command (apippi-3208)
 * Log message when a full repair operation completes (apippi-3207)
 * Don't allow any cache loading exceptions to halt startup (apippi-3218)
 * Fix sstableloader --ignores option (apippi-3247)
 * File descriptor limit increased in packaging (apippi-3206)
 * Log a meaningfull warning when a node receive a message for a repair session
   that doesn't exist anymore (apippi-3256)
 * Fix FD leak when internode encryption is enabled (apippi-3257)
 * FBUtilities.hexToBytes(String) to throw NumberFormatException when string
   contains non-hex characters (apippi-3231)
 * Keep SimpleSnitch proximity ordering unchanged from what the Strategy
   generates, as intended (apippi-3262)
 * remove Scrub from compactionstats when finished (apippi-3255)
 * Fix tool .bat files when apippi_HOME contains spaces (apippi-3258)
 * Force flush of status table when removing/updating token (apippi-3243)
 * Evict gossip state immediately when a token is taken over by a new IP (apippi-3259)
 * Fix bug where the failure detector can take too long to mark a host
   down (apippi-3273)
 * (Hadoop) allow wrapping ranges in queries (apippi-3137)
 * (Hadoop) check all interfaces for a match with split location
   before falling back to random replica (apippi-3211)
 * (Hadoop) Make Pig storage handle implements LoadMetadata (apippi-2777)
 * (Hadoop) Fix exception during PIG 'dump' (apippi-2810)
 * Fix stress COUNTER_GET option (apippi-3301)
 * Fix missing fields in CLI `show schema` output (apippi-3304)
 * Nodetool no longer leaks threads and closes JMX connections (apippi-3309)
 * fix truncate allowing data to be replayed post-restart (apippi-3297)
 * Move SimpleAuthority and SimpleAuthenticator to examples (apippi-2922)
 * Fix handling of tombstone by SSTableExport/Import (apippi-3357)
 * Fix transposition in cfHistograms (apippi-3222)
 * Allow using number as DC name when creating keyspace in CQL (apippi-3239)
 * Force flush of system table after updating/removing a token (apippi-3243)


0.8.6
 * revert apippi-2388
 * change TokenRange.endpoints back to listen/broadcast address to match
   pre-1777 behavior, and add TokenRange.rpc_endpoints instead (apippi-3187)
 * avoid trying to watch apippi-topology.properties when loaded from jar
   (apippi-3138)
 * prevent users from creating keyspaces with LocalStrategy replication
   (apippi-3139)
 * fix CLI `show schema;` to output correct keyspace definition statement
   (apippi-3129)
 * CustomTThreadPoolServer to log TTransportException at DEBUG level
   (apippi-3142)
 * allow topology sort to work with non-unique rack names between
   datacenters (apippi-3152)
 * Improve caching of same-version Messages on digest and repair paths
   (apippi-3158)
 * Randomize choice of first replica for counter increment (apippi-2890)
 * Fix using read_repair_chance instead of merge_shard_change (apippi-3202)
 * Avoid streaming data to nodes that already have it, on move as well as
   decommission (apippi-3041)
 * Fix divide by zero error in GCInspector (apippi-3164)
 * allow quoting of the ColumnFamily name in CLI `create column family`
   statement (apippi-3195)
 * Fix rolling upgrade from 0.7 to 0.8 problem (apippi-3166)
 * Accomodate missing encryption_options in IncomingTcpConnection.stream
   (apippi-3212)


0.8.5
 * fix NPE when encryption_options is unspecified (apippi-3007)
 * include column name in validation failure exceptions (apippi-2849)
 * make sure truncate clears out the commitlog so replay won't re-
   populate with truncated data (apippi-2950)
 * fix NPE when debug logging is enabled and dropped CF is present
   in a commitlog segment (apippi-3021)
 * fix apippi.bat when apippi_HOME contains spaces (apippi-2952)
 * fix to SSTableSimpleUnsortedWriter bufferSize calculation (apippi-3027)
 * make cleanup and normal compaction able to skip empty rows
   (rows containing nothing but expired tombstones) (apippi-3039)
 * work around native memory leak in com.sun.management.GarbageCollectorMXBean
   (apippi-2868)
 * validate that column names in column_metadata are not equal to key_alias
   on create/update of the ColumnFamily and CQL 'ALTER' statement (apippi-3036)
 * return an InvalidRequestException if an indexed column is assigned
   a value larger than 64KB (apippi-3057)
 * fix of numeric-only and string column names handling in CLI "drop index"
   (apippi-3054)
 * prune index scan resultset back to original request for lazy
   resultset expansion case (apippi-2964)
 * (Hadoop) fail jobs when apippi node has failed but TaskTracker
   has not (apippi-2388)
 * fix dynamic snitch ignoring nodes when read_repair_chance is zero
   (apippi-2662)
 * avoid retaining references to dropped CFS objects in
   CompactionManager.estimatedCompactions (apippi-2708)
 * expose rpc timeouts per host in MessagingServiceMBean (apippi-2941)
 * avoid including cwd in classpath for deb and rpm packages (apippi-2881)
 * remove gossip state when a new IP takes over a token (apippi-3071)
 * allow sstable2json to work on index sstable files (apippi-3059)
 * always hint counters (apippi-3099)
 * fix log4j initialization in EmbeddedapippiService (apippi-2857)
 * remove gossip state when a new IP takes over a token (apippi-3071)
 * work around native memory leak in com.sun.management.GarbageCollectorMXBean
    (apippi-2868)
 * fix UnavailableException with writes at CL.EACH_QUORM (apippi-3084)
 * fix parsing of the Keyspace and ColumnFamily names in numeric
   and string representations in CLI (apippi-3075)
 * fix corner cases in Range.differenceToFetch (apippi-3084)
 * fix ip address String representation in the ring cache (apippi-3044)
 * fix ring cache compatibility when mixing pre-0.8.4 nodes with post-
   in the same cluster (apippi-3023)
 * make repair report failure when a node participating dies (instead of
   hanging forever) (apippi-2433)
 * fix handling of the empty byte buffer by ReversedType (apippi-3111)
 * Add validation that Keyspace names are case-insensitively unique (apippi-3066)
 * catch invalid key_validation_class before instantiating UpdateColumnFamily (apippi-3102)
 * make Range and Bounds objects client-safe (apippi-3108)
 * optionally skip log4j configuration (apippi-3061)
 * bundle sstableloader with the debian package (apippi-3113)
 * don't try to build secondary indexes when there is none (apippi-3123)
 * improve SSTableSimpleUnsortedWriter speed for large rows (apippi-3122)
 * handle keyspace arguments correctly in nodetool snapshot (apippi-3038)
 * Fix SSTableImportTest on windows (apippi-3043)
 * expose compactionThroughputMbPerSec through JMX (apippi-3117)
 * log keyspace and CF of large rows being compacted


0.8.4
 * change TokenRing.endpoints to be a list of rpc addresses instead of
   listen/broadcast addresses (apippi-1777)
 * include files-to-be-streamed in StreamInSession.getSources (apippi-2972)
 * use JAVA env var in apippi-env.sh (apippi-2785, 2992)
 * avoid doing read for no-op replicate-on-write at CL=1 (apippi-2892)
 * refuse counter write for CL.ANY (apippi-2990)
 * switch back to only logging recent dropped messages (apippi-3004)
 * always deserialize RowMutation for counters (apippi-3006)
 * ignore saved replication_factor strategy_option for NTS (apippi-3011)
 * make sure pre-truncate CL segments are discarded (apippi-2950)


0.8.3
 * add ability to drop local reads/writes that are going to timeout
   (apippi-2943)
 * revamp token removal process, keep gossip states for 3 days (apippi-2496)
 * don't accept extra args for 0-arg nodetool commands (apippi-2740)
 * log unavailableexception details at debug level (apippi-2856)
 * expose data_dir though jmx (apippi-2770)
 * don't include tmp files as sstable when create cfs (apippi-2929)
 * log Java classpath on startup (apippi-2895)
 * keep gossipped version in sync with actual on migration coordinator
   (apippi-2946)
 * use lazy initialization instead of class initialization in NodeId
   (apippi-2953)
 * check column family validity in nodetool repair (apippi-2933)
 * speedup bytes to hex conversions dramatically (apippi-2850)
 * Flush memtables on shutdown when durable writes are disabled
   (apippi-2958)
 * improved POSIX compatibility of start scripts (apippi-2965)
 * add counter support to Hadoop InputFormat (apippi-2981)
 * fix bug where dirty commitlog segments were removed (and avoid keeping
   segments with no post-flush activity permanently dirty) (apippi-2829)
 * fix throwing exception with batch mutation of counter super columns
   (apippi-2949)
 * ignore system tables during repair (apippi-2979)
 * throw exception when NTS is given replication_factor as an option
   (apippi-2960)
 * fix assertion error during compaction of counter CFs (apippi-2968)
 * avoid trying to create index names, when no index exists (apippi-2867)
 * don't sample the system table when choosing a bootstrap token
   (apippi-2825)
 * gossiper notifies of local state changes (apippi-2948)
 * add asynchronous and half-sync/half-async (hsha) thrift servers
   (apippi-1405)
 * fix potential use of free'd native memory in SerializingCache
   (apippi-2951)
 * prune index scan resultset back to original request for lazy
   resultset expansion case (apippi-2964)
 * (Hadoop) fail jobs when apippi node has failed but TaskTracker
    has not (apippi-2388)


0.8.2
 * CQL:
   - include only one row per unique key for IN queries (apippi-2717)
   - respect client timestamp on full row deletions (apippi-2912)
 * improve thread-safety in StreamOutSession (apippi-2792)
 * allow deleting a row and updating indexed columns in it in the
   same mutation (apippi-2773)
 * Expose number of threads blocked on submitting memtable to flush
   in JMX (apippi-2817)
 * add ability to return "endpoints" to nodetool (apippi-2776)
 * Add support for multiple (comma-delimited) coordinator addresses
   to ColumnFamilyInputFormat (apippi-2807)
 * fix potential NPE while scheduling read repair for range slice
   (apippi-2823)
 * Fix race in SystemTable.getCurrentLocalNodeId (apippi-2824)
 * Correctly set default for replicate_on_write (apippi-2835)
 * improve nodetool compactionstats formatting (apippi-2844)
 * fix index-building status display (apippi-2853)
 * fix CLI perpetuating obsolete KsDef.replication_factor (apippi-2846)
 * improve cli treatment of multiline comments (apippi-2852)
 * handle row tombstones correctly in EchoedRow (apippi-2786)
 * add MessagingService.get[Recently]DroppedMessages and
   StorageService.getExceptionCount (apippi-2804)
 * fix possibility of spurious UnavailableException for LOCAL_QUORUM
   reads with dynamic snitch + read repair disabled (apippi-2870)
 * add ant-optional as dependence for the debian package (apippi-2164)
 * add option to specify limit for get_slice in the CLI (apippi-2646)
 * decrease HH page size (apippi-2832)
 * reset cli keyspace after dropping the current one (apippi-2763)
 * add KeyRange option to Hadoop inputformat (apippi-1125)
 * fix protocol versioning (apippi-2818, 2860)
 * support spaces in path to log4j configuration (apippi-2383)
 * avoid including inferred types in CF update (apippi-2809)
 * fix JMX bulkload call (apippi-2908)
 * fix updating KS with durable_writes=false (apippi-2907)
 * add simplified facade to SSTableWriter for bulk loading use
   (apippi-2911)
 * fix re-using index CF sstable names after drop/recreate (apippi-2872)
 * prepend CF to default index names (apippi-2903)
 * fix hint replay (apippi-2928)
 * Properly synchronize repair's merkle tree computation (apippi-2816)


0.8.1
 * CQL:
   - support for insert, delete in BATCH (apippi-2537)
   - support for IN to SELECT, UPDATE (apippi-2553)
   - timestamp support for INSERT, UPDATE, and BATCH (apippi-2555)
   - TTL support (apippi-2476)
   - counter support (apippi-2473)
   - ALTER COLUMNFAMILY (apippi-1709)
   - DROP INDEX (apippi-2617)
   - add SCHEMA/TABLE as aliases for KS/CF (apippi-2743)
   - server handles wait-for-schema-agreement (apippi-2756)
   - key alias support (apippi-2480)
 * add support for comparator parameters and a generic ReverseType
   (apippi-2355)
 * add CompositeType and DynamicCompositeType (apippi-2231)
 * optimize batches containing multiple updates to the same row
   (apippi-2583)
 * adjust hinted handoff page size to avoid OOM with large columns
   (apippi-2652)
 * mark BRAF buffer invalid post-flush so we don't re-flush partial
   buffers again, especially on CL writes (apippi-2660)
 * add DROP INDEX support to CLI (apippi-2616)
 * don't perform HH to client-mode [storageproxy] nodes (apippi-2668)
 * Improve forceDeserialize/getCompactedRow encapsulation (apippi-2659)
 * Don't write CounterUpdateColumn to disk in tests (apippi-2650)
 * Add sstable bulk loading utility (apippi-1278)
 * avoid replaying hints to dropped columnfamilies (apippi-2685)
 * add placeholders for missing rows in range query pseudo-RR (apippi-2680)
 * remove no-op HHOM.renameHints (apippi-2693)
 * clone super columns to avoid modifying them during flush (apippi-2675)
 * allow writes to bypass the commitlog for certain keyspaces (apippi-2683)
 * avoid NPE when bypassing commitlog during memtable flush (apippi-2781)
 * Added support for making bootstrap retry if nodes flap (apippi-2644)
 * Added statusthrift to nodetool to report if thrift server is running (apippi-2722)
 * Fixed rows being cached if they do not exist (apippi-2723)
 * Support passing tableName and cfName to RowCacheProviders (apippi-2702)
 * close scrub file handles (apippi-2669)
 * throttle migration replay (apippi-2714)
 * optimize column serializer creation (apippi-2716)
 * Added support for making bootstrap retry if nodes flap (apippi-2644)
 * Added statusthrift to nodetool to report if thrift server is running
   (apippi-2722)
 * Fixed rows being cached if they do not exist (apippi-2723)
 * fix truncate/compaction race (apippi-2673)
 * workaround large resultsets causing large allocation retention
   by nio sockets (apippi-2654)
 * fix nodetool ring use with Ec2Snitch (apippi-2733)
 * fix removing columns and subcolumns that are supressed by a row or
   supercolumn tombstone during replica resolution (apippi-2590)
 * support sstable2json against snapshot sstables (apippi-2386)
 * remove active-pull schema requests (apippi-2715)
 * avoid marking entire list of sstables as actively being compacted
   in multithreaded compaction (apippi-2765)
 * seek back after deserializing a row to update cache with (apippi-2752)
 * avoid skipping rows in scrub for counter column family (apippi-2759)
 * fix ConcurrentModificationException in repair when dealing with 0.7 node
   (apippi-2767)
 * use threadsafe collections for StreamInSession (apippi-2766)
 * avoid infinite loop when creating merkle tree (apippi-2758)
 * avoids unmarking compacting sstable prematurely in cleanup (apippi-2769)
 * fix NPE when the commit log is bypassed (apippi-2718)
 * don't throw an exception in SS.isRPCServerRunning (apippi-2721)
 * make stress.jar executable (apippi-2744)
 * add daemon mode to java stress (apippi-2267)
 * expose the DC and rack of a node through JMX and nodetool ring (apippi-2531)
 * fix cache mbean getSize (apippi-2781)
 * Add Date, Float, Double, and Boolean types (apippi-2530)
 * Add startup flag to renew counter node id (apippi-2788)
 * add jamm agent to apippi.bat (apippi-2787)
 * fix repair hanging if a neighbor has nothing to send (apippi-2797)
 * purge tombstone even if row is in only one sstable (apippi-2801)
 * Fix wrong purge of deleted cf during compaction (apippi-2786)
 * fix race that could result in Hadoop writer failing to throw an
   exception encountered after close() (apippi-2755)
 * fix scan wrongly throwing assertion error (apippi-2653)
 * Always use even distribution for merkle tree with RandomPartitionner
   (apippi-2841)
 * fix describeOwnership for OPP (apippi-2800)
 * ensure that string tokens do not contain commas (apippi-2762)


0.8.0-final
 * fix CQL grammar warning and cqlsh regression from apippi-2622
 * add ant generate-cql-html target (apippi-2526)
 * update CQL consistency levels (apippi-2566)
 * debian packaging fixes (apippi-2481, 2647)
 * fix UUIDType, IntegerType for direct buffers (apippi-2682, 2684)
 * switch to native Thrift for Hadoop map/reduce (apippi-2667)
 * fix StackOverflowError when building from eclipse (apippi-2687)
 * only provide replication_factor to strategy_options "help" for
   SimpleStrategy, OldNetworkTopologyStrategy (apippi-2678, 2713)
 * fix exception adding validators to non-string columns (apippi-2696)
 * avoid instantiating DatabaseDescriptor in JDBC (apippi-2694)
 * fix potential stack overflow during compaction (apippi-2626)
 * clone super columns to avoid modifying them during flush (apippi-2675)
 * reset underlying iterator in EchoedRow constructor (apippi-2653)


0.8.0-rc1
 * faster flushes and compaction from fixing excessively pessimistic
   rebuffering in BRAF (apippi-2581)
 * fix returning null column values in the python cql driver (apippi-2593)
 * fix merkle tree splitting exiting early (apippi-2605)
 * snapshot_before_compaction directory name fix (apippi-2598)
 * Disable compaction throttling during bootstrap (apippi-2612)
 * fix CQL treatment of > and < operators in range slices (apippi-2592)
 * fix potential double-application of counter updates on commitlog replay
   by moving replay position from header to sstable metadata (apippi-2419)
 * JDBC CQL driver exposes getColumn for access to timestamp
 * JDBC ResultSetMetadata properties added to AbstractType
 * r/m clustertool (apippi-2607)
 * add support for presenting row key as a column in CQL result sets
   (apippi-2622)
 * Don't allow {LOCAL|EACH}_QUORUM unless strategy is NTS (apippi-2627)
 * validate keyspace strategy_options during CQL create (apippi-2624)
 * fix empty Result with secondary index when limit=1 (apippi-2628)
 * Fix regression where bootstrapping a node with no schema fails
   (apippi-2625)
 * Allow removing LocationInfo sstables (apippi-2632)
 * avoid attempting to replay mutations from dropped keyspaces (apippi-2631)
 * avoid using cached position of a key when GT is requested (apippi-2633)
 * fix counting bloom filter true positives (apippi-2637)
 * initialize local ep state prior to gossip startup if needed (apippi-2638)
 * fix counter increment lost after restart (apippi-2642)
 * add quote-escaping via backslash to CLI (apippi-2623)
 * fix pig example script (apippi-2487)
 * fix dynamic snitch race in adding latencies (apippi-2618)
 * Start/stop apippi after more important services such as mdadm in
   debian packaging (apippi-2481)


0.8.0-beta2
 * fix NPE compacting index CFs (apippi-2528)
 * Remove checking all column families on startup for compaction candidates
   (apippi-2444)
 * validate CQL create keyspace options (apippi-2525)
 * fix nodetool setcompactionthroughput (apippi-2550)
 * move	gossip heartbeat back to its own thread (apippi-2554)
 * validate cql TRUNCATE columnfamily before truncating (apippi-2570)
 * fix batch_mutate for mixed standard-counter mutations (apippi-2457)
 * disallow making schema changes to system keyspace (apippi-2563)
 * fix sending mutation messages multiple times (apippi-2557)
 * fix incorrect use of NBHM.size in ReadCallback that could cause
   reads to time out even when responses were received (apippi-2552)
 * trigger read repair correctly for LOCAL_QUORUM reads (apippi-2556)
 * Allow configuring the number of compaction thread (apippi-2558)
 * forceUserDefinedCompaction will attempt to compact what it is given
   even if the pessimistic estimate is that there is not enough disk space;
   automatic compactions will only compact 2 or more sstables (apippi-2575)
 * refuse to apply migrations with older timestamps than the current
   schema (apippi-2536)
 * remove unframed Thrift transport option
 * include indexes in snapshots (apippi-2596)
 * improve ignoring of obsolete mutations in index maintenance (apippi-2401)
 * recognize attempt to drop just the index while leaving the column
   definition alone (apippi-2619)


0.8.0-beta1
 * remove Avro RPC support (apippi-926)
 * support for columns that act as incr/decr counters
   (apippi-1072, 1937, 1944, 1936, 2101, 2093, 2288, 2105, 2384, 2236, 2342,
   2454)
 * CQL (apippi-1703, 1704, 1705, 1706, 1707, 1708, 1710, 1711, 1940,
   2124, 2302, 2277, 2493)
 * avoid double RowMutation serialization on write path (apippi-1800)
 * make NetworkTopologyStrategy the default (apippi-1960)
 * configurable internode encryption (apippi-1567, 2152)
 * human readable column names in sstable2json output (apippi-1933)
 * change default JMX port to 7199 (apippi-2027)
 * backwards compatible internal messaging (apippi-1015)
 * atomic switch of memtables and sstables (apippi-2284)
 * add pluggable SeedProvider (apippi-1669)
 * Fix clustertool to not throw exception when calling get_endpoints (apippi-2437)
 * upgrade to thrift 0.6 (apippi-2412)
 * repair works on a token range instead of full ring (apippi-2324)
 * purge tombstones from row cache (apippi-2305)
 * push replication_factor into strategy_options (apippi-1263)
 * give snapshots the same name on each node (apippi-1791)
 * remove "nodetool loadbalance" (apippi-2448)
 * multithreaded compaction (apippi-2191)
 * compaction throttling (apippi-2156)
 * add key type information and alias (apippi-2311, 2396)
 * cli no longer divides read_repair_chance by 100 (apippi-2458)
 * made CompactionInfo.getTaskType return an enum (apippi-2482)
 * add a server-wide cap on measured memtable memory usage and aggressively
   flush to keep under that threshold (apippi-2006)
 * add unified UUIDType (apippi-2233)
 * add off-heap row cache support (apippi-1969)


0.7.5
 * improvements/fixes to PIG driver (apippi-1618, apippi-2387,
   apippi-2465, apippi-2484)
 * validate index names (apippi-1761)
 * reduce contention on Table.flusherLock (apippi-1954)
 * try harder to detect failures during streaming, cleaning up temporary
   files more reliably (apippi-2088)
 * shut down server for OOM on a Thrift thread (apippi-2269)
 * fix tombstone handling in repair and sstable2json (apippi-2279)
 * preserve version when streaming data from old sstables (apippi-2283)
 * don't start repair if a neighboring node is marked as dead (apippi-2290)
 * purge tombstones from row cache (apippi-2305)
 * Avoid seeking when sstable2json exports the entire file (apippi-2318)
 * clear Built flag in system table when dropping an index (apippi-2320)
 * don't allow arbitrary argument for stress.java (apippi-2323)
 * validate values for index predicates in get_indexed_slice (apippi-2328)
 * queue secondary indexes for flush before the parent (apippi-2330)
 * allow job configuration to set the CL used in Hadoop jobs (apippi-2331)
 * add memtable_flush_queue_size defaulting to 4 (apippi-2333)
 * Allow overriding of initial_token, storage_port and rpc_port from system
   properties (apippi-2343)
 * fix comparator used for non-indexed secondary expressions in index scan
   (apippi-2347)
 * ensure size calculation and write phase of large-row compaction use
   the same threshold for TTL expiration (apippi-2349)
 * fix race when iterating CFs during add/drop (apippi-2350)
 * add ConsistencyLevel command to CLI (apippi-2354)
 * allow negative numbers in the cli (apippi-2358)
 * hard code serialVersionUID for tokens class (apippi-2361)
 * fix potential infinite loop in ByteBufferUtil.inputStream (apippi-2365)
 * fix encoding bugs in HintedHandoffManager, SystemTable when default
   charset is not UTF8 (apippi-2367)
 * avoids having removed node reappearing in Gossip (apippi-2371)
 * fix incorrect truncation of long to int when reading columns via block
   index (apippi-2376)
 * fix NPE during stream session (apippi-2377)
 * fix race condition that could leave orphaned data files when dropping CF or
   KS (apippi-2381)
 * fsync statistics component on write (apippi-2382)
 * fix duplicate results from CFS.scan (apippi-2406)
 * add IntegerType to CLI help (apippi-2414)
 * avoid caching token-only decoratedkeys (apippi-2416)
 * convert mmap assertion to if/throw so scrub can catch it (apippi-2417)
 * don't overwrite gc log (CASSANDR-2418)
 * invalidate row cache for streamed row to avoid inconsitencies
   (apippi-2420)
 * avoid copies in range/index scans (apippi-2425)
 * make sure we don't wipe data during cleanup if the node has not join
   the ring (apippi-2428)
 * Try harder to close files after compaction (apippi-2431)
 * re-set bootstrapped flag after move finishes (apippi-2435)
 * display validation_class in CLI 'describe keyspace' (apippi-2442)
 * make cleanup compactions cleanup the row cache (apippi-2451)
 * add column fields validation to scrub (apippi-2460)
 * use 64KB flush buffer instead of in_memory_compaction_limit (apippi-2463)
 * fix backslash substitutions in CLI (apippi-2492)
 * disable cache saving for system CFS (apippi-2502)
 * fixes for verifying destination availability under hinted conditions
   so UE can be thrown intead of timing out (apippi-2514)
 * fix update of validation class in column metadata (apippi-2512)
 * support LOCAL_QUORUM, EACH_QUORUM CLs outside of NTS (apippi-2516)
 * preserve version when streaming data from old sstables (apippi-2283)
 * fix backslash substitutions in CLI (apippi-2492)
 * count a row deletion as one operation towards memtable threshold
   (apippi-2519)
 * support LOCAL_QUORUM, EACH_QUORUM CLs outside of NTS (apippi-2516)


0.7.4
 * add nodetool join command (apippi-2160)
 * fix secondary indexes on pre-existing or streamed data (apippi-2244)
 * initialize endpoint in gossiper earlier (apippi-2228)
 * add ability to write to apippi from Pig (apippi-1828)
 * add rpc_[min|max]_threads (apippi-2176)
 * add CL.TWO, CL.THREE (apippi-2013)
 * avoid exporting an un-requested row in sstable2json, when exporting
   a key that does not exist (apippi-2168)
 * add incremental_backups option (apippi-1872)
 * add configurable row limit to Pig loadfunc (apippi-2276)
 * validate column values in batches as well as single-Column inserts
   (apippi-2259)
 * move sample schema from apippi.yaml to schema-sample.txt,
   a cli scripts (apippi-2007)
 * avoid writing empty rows when scrubbing tombstoned rows (apippi-2296)
 * fix assertion error in range and index scans for CL < ALL
   (apippi-2282)
 * fix commitlog replay when flush position refers to data that didn't
   get synced before server died (apippi-2285)
 * fix fd leak in sstable2json with non-mmap'd i/o (apippi-2304)
 * reduce memory use during streaming of multiple sstables (apippi-2301)
 * purge tombstoned rows from cache after GCGraceSeconds (apippi-2305)
 * allow zero replicas in a NTS datacenter (apippi-1924)
 * make range queries respect snitch for local replicas (apippi-2286)
 * fix HH delivery when column index is larger than 2GB (apippi-2297)
 * make 2ary indexes use parent CF flush thresholds during initial build
   (apippi-2294)
 * update memtable_throughput to be a long (apippi-2158)


0.7.3
 * Keep endpoint state until aVeryLongTime (apippi-2115)
 * lower-latency read repair (apippi-2069)
 * add hinted_handoff_throttle_delay_in_ms option (apippi-2161)
 * fixes for cache save/load (apippi-2172, -2174)
 * Handle whole-row deletions in CFOutputFormat (apippi-2014)
 * Make memtable_flush_writers flush in parallel (apippi-2178)
 * Add compaction_preheat_key_cache option (apippi-2175)
 * refactor stress.py to have only one copy of the format string
   used for creating row keys (apippi-2108)
 * validate index names for \w+ (apippi-2196)
 * Fix apippi cli to respect timeout if schema does not settle
   (apippi-2187)
 * fix for compaction and cleanup writing old-format data into new-version
   sstable (apippi-2211, -2216)
 * add nodetool scrub (apippi-2217, -2240)
 * fix sstable2json large-row pagination (apippi-2188)
 * fix EOFing on requests for the last bytes in a file (apippi-2213)
 * fix BufferedRandomAccessFile bugs (apippi-2218, -2241)
 * check for memtable flush_after_mins exceeded every 10s (apippi-2183)
 * fix cache saving on Windows (apippi-2207)
 * add validateSchemaAgreement call + synchronization to schema
   modification operations (apippi-2222)
 * fix for reversed slice queries on large rows (apippi-2212)
 * fat clients were writing local data (apippi-2223)
 * set DEFAULT_MEMTABLE_LIFETIME_IN_MINS to 24h
 * improve detection and cleanup of partially-written sstables
   (apippi-2206)
 * fix supercolumn de/serialization when subcolumn comparator is different
   from supercolumn's (apippi-2104)
 * fix starting up on Windows when apippi_HOME contains whitespace
   (apippi-2237)
 * add [get|set][row|key]cacheSavePeriod to JMX (apippi-2100)
 * fix Hadoop ColumnFamilyOutputFormat dropping of mutations
   when batch fills up (apippi-2255)
 * move file deletions off of scheduledtasks executor (apippi-2253)


0.7.2
 * copy DecoratedKey.key when inserting into caches to avoid retaining
   a reference to the underlying buffer (apippi-2102)
 * format subcolumn names with subcomparator (apippi-2136)
 * fix column bloom filter deserialization (apippi-2165)


0.7.1
 * refactor MessageDigest creation code. (apippi-2107)
 * buffer network stack to avoid inefficient small TCP messages while avoiding
   the nagle/delayed ack problem (apippi-1896)
 * check log4j configuration for changes every 10s (apippi-1525, 1907)
 * more-efficient cross-DC replication (apippi-1530, -2051, -2138)
 * avoid polluting page cache with commitlog or sstable writes
   and seq scan operations (apippi-1470)
 * add RMI authentication options to nodetool (apippi-1921)
 * make snitches configurable at runtime (apippi-1374)
 * retry hadoop split requests on connection failure (apippi-1927)
 * implement describeOwnership for BOP, COPP (apippi-1928)
 * make read repair behave as expected for ConsistencyLevel > ONE
   (apippi-982, 2038)
 * distributed test harness (apippi-1859, 1964)
 * reduce flush lock contention (apippi-1930)
 * optimize supercolumn deserialization (apippi-1891)
 * fix CFMetaData.apply to only compare objects of the same class
   (apippi-1962)
 * allow specifying specific SSTables to compact from JMX (apippi-1963)
 * fix race condition in MessagingService.targets (apippi-1959, 2094, 2081)
 * refuse to open sstables from a future version (apippi-1935)
 * zero-copy reads (apippi-1714)
 * fix copy bounds for word Text in wordcount demo (apippi-1993)
 * fixes for contrib/javautils (apippi-1979)
 * check more frequently for memtable expiration (apippi-2000)
 * fix writing SSTable column count statistics (apippi-1976)
 * fix streaming of multiple CFs during bootstrap (apippi-1992)
 * explicitly set JVM GC new generation size with -Xmn (apippi-1968)
 * add short options for CLI flags (apippi-1565)
 * make keyspace argument to "describe keyspace" in CLI optional
   when authenticated to keyspace already (apippi-2029)
 * added option to specify -Dapippi.join_ring=false on startup
   to allow "warm spare" nodes or performing JMX maintenance before
   joining the ring (apippi-526)
 * log migrations at INFO (apippi-2028)
 * add CLI verbose option in file mode (apippi-2030)
 * add single-line "--" comments to CLI (apippi-2032)
 * message serialization tests (apippi-1923)
 * switch from ivy to maven-ant-tasks (apippi-2017)
 * CLI attempts to block for new schema to propagate (apippi-2044)
 * fix potential overflow in nodetool cfstats (apippi-2057)
 * add JVM shutdownhook to sync commitlog (apippi-1919)
 * allow nodes to be up without being part of  normal traffic (apippi-1951)
 * fix CLI "show keyspaces" with null options on NTS (apippi-2049)
 * fix possible ByteBuffer race conditions (apippi-2066)
 * reduce garbage generated by MessagingService to prevent load spikes
   (apippi-2058)
 * fix math in RandomPartitioner.describeOwnership (apippi-2071)
 * fix deletion of sstable non-data components (apippi-2059)
 * avoid blocking gossip while deleting handoff hints (apippi-2073)
 * ignore messages from newer versions, keep track of nodes in gossip
   regardless of version (apippi-1970)
 * cache writing moved to CompactionManager to reduce i/o contention and
   updated to use non-cache-polluting writes (apippi-2053)
 * page through large rows when exporting to JSON (apippi-2041)
 * add flush_largest_memtables_at and reduce_cache_sizes_at options
   (apippi-2142)
 * add cli 'describe cluster' command (apippi-2127)
 * add cli support for setting username/password at 'connect' command
   (apippi-2111)
 * add -D option to Stress.java to allow reading hosts from a file
   (apippi-2149)
 * bound hints CF throughput between 32M and 256M (apippi-2148)
 * continue starting when invalid saved cache entries are encountered
   (apippi-2076)
 * add max_hint_window_in_ms option (apippi-1459)


0.7.0-final
 * fix offsets to ByteBuffer.get (apippi-1939)


0.7.0-rc4
 * fix cli crash after backgrounding (apippi-1875)
 * count timeouts in storageproxy latencies, and include latency
   histograms in StorageProxyMBean (apippi-1893)
 * fix CLI get recognition of supercolumns (apippi-1899)
 * enable keepalive on intra-cluster sockets (apippi-1766)
 * count timeouts towards dynamicsnitch latencies (apippi-1905)
 * Expose index-building status in JMX + cli schema description
   (apippi-1871)
 * allow [LOCAL|EACH]_QUORUM to be used with non-NetworkTopology
   replication Strategies
 * increased amount of index locks for faster commitlog replay
 * collect secondary index tombstones immediately (apippi-1914)
 * revert commitlog changes from #1780 (apippi-1917)
 * change RandomPartitioner min token to -1 to avoid collision w/
   tokens on actual nodes (apippi-1901)
 * examine the right nibble when validating TimeUUID (apippi-1910)
 * include secondary indexes in cleanup (apippi-1916)
 * CFS.scrubDataDirectories should also cleanup invalid secondary indexes
   (apippi-1904)
 * ability to disable/enable gossip on nodes to force them down
   (apippi-1108)


0.7.0-rc3
 * expose getNaturalEndpoints in StorageServiceMBean taking byte[]
   key; RMI cannot serialize ByteBuffer (apippi-1833)
 * infer org.apache.apippi.locator for replication strategy classes
   when not otherwise specified
 * validation that generates less garbage (apippi-1814)
 * add TTL support to CLI (apippi-1838)
 * cli defaults to bytestype for subcomparator when creating
   column families (apippi-1835)
 * unregister index MBeans when index is dropped (apippi-1843)
 * make ByteBufferUtil.clone thread-safe (apippi-1847)
 * change exception for read requests during bootstrap from
   InvalidRequest to Unavailable (apippi-1862)
 * respect row-level tombstones post-flush in range scans
   (apippi-1837)
 * ReadResponseResolver check digests against each other (apippi-1830)
 * return InvalidRequest when remove of subcolumn without supercolumn
   is requested (apippi-1866)
 * flush before repair (apippi-1748)
 * SSTableExport validates key order (apippi-1884)
 * large row support for SSTableExport (apippi-1867)
 * Re-cache hot keys post-compaction without hitting disk (apippi-1878)
 * manage read repair in coordinator instead of data source, to
   provide latency information to dynamic snitch (apippi-1873)


0.7.0-rc2
 * fix live-column-count of slice ranges including tombstoned supercolumn
   with live subcolumn (apippi-1591)
 * rename o.a.c.internal.AntientropyStage -> AntiEntropyStage,
   o.a.c.request.Request_responseStage -> RequestResponseStage,
   o.a.c.internal.Internal_responseStage -> InternalResponseStage
 * add AbstractType.fromString (apippi-1767)
 * require index_type to be present when specifying index_name
   on ColumnDef (apippi-1759)
 * fix add/remove index bugs in CFMetadata (apippi-1768)
 * rebuild Strategy during system_update_keyspace (apippi-1762)
 * cli updates prompt to ... in continuation lines (apippi-1770)
 * support multiple Mutations per key in hadoop ColumnFamilyOutputFormat
   (apippi-1774)
 * improvements to Debian init script (apippi-1772)
 * use local classloader to check for version.properties (apippi-1778)
 * Validate that column names in column_metadata are valid for the
   defined comparator, and decode properly in cli (apippi-1773)
 * use cross-platform newlines in cli (apippi-1786)
 * add ExpiringColumn support to sstable import/export (apippi-1754)
 * add flush for each append to periodic commitlog mode; added
   periodic_without_flush option to disable this (apippi-1780)
 * close file handle used for post-flush truncate (apippi-1790)
 * various code cleanup (apippi-1793, -1794, -1795)
 * fix range queries against wrapped range (apippi-1781)
 * fix consistencylevel calculations for NetworkTopologyStrategy
   (apippi-1804)
 * cli support index type enum names (apippi-1810)
 * improved validation of column_metadata (apippi-1813)
 * reads at ConsistencyLevel > 1 throw UnavailableException
   immediately if insufficient live nodes exist (apippi-1803)
 * copy bytebuffers for local writes to avoid retaining the entire
   Thrift frame (apippi-1801)
 * fix NPE adding index to column w/o prior metadata (apippi-1764)
 * reduce fat client timeout (apippi-1730)
 * fix botched merge of apippi-1316


0.7.0-rc1
 * fix compaction and flush races with schema updates (apippi-1715)
 * add clustertool, config-converter, sstablekeys, and schematool
   Windows .bat files (apippi-1723)
 * reject range queries received during bootstrap (apippi-1739)
 * fix wrapping-range queries on non-minimum token (apippi-1700)
 * add nodetool cfhistogram (apippi-1698)
 * limit repaired ranges to what the nodes have in common (apippi-1674)
 * index scan treats missing columns as not matching secondary
   expressions (apippi-1745)
 * Fix misuse of DataOutputBuffer.getData in AntiEntropyService
   (apippi-1729)
 * detect and warn when obsolete version of JNA is present (apippi-1760)
 * reduce fat client timeout (apippi-1730)
 * cleanup smallest CFs first to increase free temp space for larger ones
   (apippi-1811)
 * Update windows .bat files to work outside of main apippi
   directory (apippi-1713)
 * fix read repair regression from 0.6.7 (apippi-1727)
 * more-efficient read repair (apippi-1719)
 * fix hinted handoff replay (apippi-1656)
 * log type of dropped messages (apippi-1677)
 * upgrade to SLF4J 1.6.1
 * fix ByteBuffer bug in ExpiringColumn.updateDigest (apippi-1679)
 * fix IntegerType.getString (apippi-1681)
 * make -Djava.net.preferIPv4Stack=true the default (apippi-628)
 * add INTERNAL_RESPONSE verb to differentiate from responses related
   to client requests (apippi-1685)
 * log tpstats when dropping messages (apippi-1660)
 * include unreachable nodes in describeSchemaVersions (apippi-1678)
 * Avoid dropping messages off the client request path (apippi-1676)
 * fix jna errno reporting (apippi-1694)
 * add friendlier error for UnknownHostException on startup (apippi-1697)
 * include jna dependency in RPM package (apippi-1690)
 * add --skip-keys option to stress.py (apippi-1696)
 * improve cli handling of non-string keys and column names
   (apippi-1701, -1693)
 * r/m extra subcomparator line in cli keyspaces output (apippi-1712)
 * add read repair chance to cli "show keyspaces"
 * upgrade to ConcurrentLinkedHashMap 1.1 (apippi-975)
 * fix index scan routing (apippi-1722)
 * fix tombstoning of supercolumns in range queries (apippi-1734)
 * clear endpoint cache after updating keyspace metadata (apippi-1741)
 * fix wrapping-range queries on non-minimum token (apippi-1700)
 * truncate includes secondary indexes (apippi-1747)
 * retain reference to PendingFile sstables (apippi-1749)
 * fix sstableimport regression (apippi-1753)
 * fix for bootstrap when no non-system tables are defined (apippi-1732)
 * handle replica unavailability in index scan (apippi-1755)
 * fix service initialization order deadlock (apippi-1756)
 * multi-line cli commands (apippi-1742)
 * fix race between snapshot and compaction (apippi-1736)
 * add listEndpointsPendingHints, deleteHintsForEndpoint JMX methods
   (apippi-1551)


0.7.0-beta3
 * add strategy options to describe_keyspace output (apippi-1560)
 * log warning when using randomly generated token (apippi-1552)
 * re-organize JMX into .db, .net, .internal, .request (apippi-1217)
 * allow nodes to change IPs between restarts (apippi-1518)
 * remember ring state between restarts by default (apippi-1518)
 * flush index built flag so we can read it before log replay (apippi-1541)
 * lock row cache updates to prevent race condition (apippi-1293)
 * remove assertion causing rare (and harmless) error messages in
   commitlog (apippi-1330)
 * fix moving nodes with no keyspaces defined (apippi-1574)
 * fix unbootstrap when no data is present in a transfer range (apippi-1573)
 * take advantage of AVRO-495 to simplify our avro IDL (apippi-1436)
 * extend authorization hierarchy to column family (apippi-1554)
 * deletion support in secondary indexes (apippi-1571)
 * meaningful error message for invalid replication strategy class
   (apippi-1566)
 * allow keyspace creation with RF > N (apippi-1428)
 * improve cli error handling (apippi-1580)
 * add cache save/load ability (apippi-1417, 1606, 1647)
 * add StorageService.getDrainProgress (apippi-1588)
 * Disallow bootstrap to an in-use token (apippi-1561)
 * Allow dynamic secondary index creation and destruction (apippi-1532)
 * log auto-guessed memtable thresholds (apippi-1595)
 * add ColumnDef support to cli (apippi-1583)
 * reduce index sample time by 75% (apippi-1572)
 * add cli support for column, strategy metadata (apippi-1578, 1612)
 * add cli support for schema modification (apippi-1584)
 * delete temp files on failed compactions (apippi-1596)
 * avoid blocking for dead nodes during removetoken (apippi-1605)
 * remove ConsistencyLevel.ZERO (apippi-1607)
 * expose in-progress compaction type in jmx (apippi-1586)
 * removed IClock & related classes from internals (apippi-1502)
 * fix removing tokens from SystemTable on decommission and removetoken
   (apippi-1609)
 * include CF metadata in cli 'show keyspaces' (apippi-1613)
 * switch from Properties to HashMap in PropertyFileSnitch to
   avoid synchronization bottleneck (apippi-1481)
 * PropertyFileSnitch configuration file renamed to
   apippi-topology.properties
 * add cli support for get_range_slices (apippi-1088, apippi-1619)
 * Make memtable flush thresholds per-CF instead of global
   (apippi-1007, 1637)
 * add cli support for binary data without CfDef hints (apippi-1603)
 * fix building SSTable statistics post-stream (apippi-1620)
 * fix potential infinite loop in 2ary index queries (apippi-1623)
 * allow creating NTS keyspaces with no replicas configured (apippi-1626)
 * add jmx histogram of sstables accessed per read (apippi-1624)
 * remove system_rename_column_family and system_rename_keyspace from the
   client API until races can be fixed (apippi-1630, apippi-1585)
 * add cli sanity tests (apippi-1582)
 * update GC settings in apippi.bat (apippi-1636)
 * cli support for index queries (apippi-1635)
 * cli support for updating schema memtable settings (apippi-1634)
 * cli --file option (apippi-1616)
 * reduce automatically chosen memtable sizes by 50% (apippi-1641)
 * move endpoint cache from snitch to strategy (apippi-1643)
 * fix commitlog recovery deleting the newly-created segment as well as
   the old ones (apippi-1644)
 * upgrade to Thrift 0.5 (apippi-1367)
 * renamed CL.DCQUORUM to LOCAL_QUORUM and DCQUORUMSYNC to EACH_QUORUM
 * cli truncate support (apippi-1653)
 * update GC settings in apippi.bat (apippi-1636)
 * avoid logging when a node's ip/token is gossipped back to it (apippi-1666)


0.7-beta2
 * always use UTF-8 for hint keys (apippi-1439)
 * remove apippi.yaml dependency from Hadoop and Pig (CASSADRA-1322)
 * expose CfDef metadata in describe_keyspaces (apippi-1363)
 * restore use of mmap_index_only option (apippi-1241)
 * dropping a keyspace with no column families generated an error
   (apippi-1378)
 * rename RackAwareStrategy to OldNetworkTopologyStrategy, RackUnawareStrategy
   to SimpleStrategy, DatacenterShardStrategy to NetworkTopologyStrategy,
   AbstractRackAwareSnitch to AbstractNetworkTopologySnitch (apippi-1392)
 * merge StorageProxy.mutate, mutateBlocking (apippi-1396)
 * faster UUIDType, LongType comparisons (apippi-1386, 1393)
 * fix setting read_repair_chance from CLI addColumnFamily (apippi-1399)
 * fix updates to indexed columns (apippi-1373)
 * fix race condition leaving to FileNotFoundException (apippi-1382)
 * fix sharded lock hash on index write path (apippi-1402)
 * add support for GT/E, LT/E in subordinate index clauses (apippi-1401)
 * cfId counter got out of sync when CFs were added (apippi-1403)
 * less chatty schema updates (apippi-1389)
 * rename column family mbeans. 'type' will now include either
   'IndexColumnFamilies' or 'ColumnFamilies' depending on the CFS type.
   (apippi-1385)
 * disallow invalid keyspace and column family names. This includes name that
   matches a '^\w+' regex. (apippi-1377)
 * use JNA, if present, to take snapshots (apippi-1371)
 * truncate hints if starting 0.7 for the first time (apippi-1414)
 * fix FD leak in single-row slicepredicate queries (apippi-1416)
 * allow index expressions against columns that are not part of the
   SlicePredicate (apippi-1410)
 * config-converter properly handles snitches and framed support
   (apippi-1420)
 * remove keyspace argument from multiget_count (apippi-1422)
 * allow specifying apippi.yaml location as (local or remote) URL
   (apippi-1126)
 * fix using DynamicEndpointSnitch with NetworkTopologyStrategy
   (apippi-1429)
 * Add CfDef.default_validation_class (apippi-891)
 * fix EstimatedHistogram.max (apippi-1413)
 * quorum read optimization (apippi-1622)
 * handle zero-length (or missing) rows during HH paging (apippi-1432)
 * include secondary indexes during schema migrations (apippi-1406)
 * fix commitlog header race during schema change (apippi-1435)
 * fix ColumnFamilyStoreMBeanIterator to use new type name (apippi-1433)
 * correct filename generated by xml->yaml converter (apippi-1419)
 * add CMSInitiatingOccupancyFraction=75 and UseCMSInitiatingOccupancyOnly
   to default JVM options
 * decrease jvm heap for apippi-cli (apippi-1446)
 * ability to modify keyspaces and column family definitions on a live cluster
   (apippi-1285)
 * support for Hadoop Streaming [non-jvm map/reduce via stdin/out]
   (apippi-1368)
 * Move persistent sstable stats from the system table to an sstable component
   (apippi-1430)
 * remove failed bootstrap attempt from pending ranges when gossip times
   it out after 1h (apippi-1463)
 * eager-create tcp connections to other cluster members (apippi-1465)
 * enumerate stages and derive stage from message type instead of
   transmitting separately (apippi-1465)
 * apply reversed flag during collation from different data sources
   (apippi-1450)
 * make failure to remove commitlog segment non-fatal (apippi-1348)
 * correct ordering of drain operations so CL.recover is no longer
   necessary (apippi-1408)
 * removed keyspace from describe_splits method (apippi-1425)
 * rename check_schema_agreement to describe_schema_versions
   (apippi-1478)
 * fix QUORUM calculation for RF > 3 (apippi-1487)
 * remove tombstones during non-major compactions when bloom filter
   verifies that row does not exist in other sstables (apippi-1074)
 * nodes that coordinated a loadbalance in the past could not be seen by
   newly added nodes (apippi-1467)
 * exposed endpoint states (gossip details) via jmx (apippi-1467)
 * ensure that compacted sstables are not included when new readers are
   instantiated (apippi-1477)
 * by default, calculate heap size and memtable thresholds at runtime (apippi-1469)
 * fix races dealing with adding/dropping keyspaces and column families in
   rapid succession (apippi-1477)
 * clean up of Streaming system (apippi-1503, 1504, 1506)
 * add options to configure Thrift socket keepalive and buffer sizes (apippi-1426)
 * make contrib apippiServiceDataCleaner recursive (apippi-1509)
 * min, max compaction threshold are configurable and persistent
   per-ColumnFamily (apippi-1468)
 * fix replaying the last mutation in a commitlog unnecessarily
   (apippi-1512)
 * invoke getDefaultUncaughtExceptionHandler from DTPE with the original
   exception rather than the ExecutionException wrapper (apippi-1226)
 * remove Clock from the Thrift (and Avro) API (apippi-1501)
 * Close intra-node sockets when connection is broken (apippi-1528)
 * RPM packaging spec file (apippi-786)
 * weighted request scheduler (apippi-1485)
 * treat expired columns as deleted (apippi-1539)
 * make IndexInterval configurable (apippi-1488)
 * add describe_snitch to Thrift API (apippi-1490)
 * MD5 authenticator compares plain text submitted password with MD5'd
   saved property, instead of vice versa (apippi-1447)
 * JMX MessagingService pending and completed counts (apippi-1533)
 * fix race condition processing repair responses (apippi-1511)
 * make repair blocking (apippi-1511)
 * create EndpointSnitchInfo and MBean to expose rack and DC (apippi-1491)
 * added option to contrib/word_count to output results back to apippi
   (apippi-1342)
 * rewrite Hadoop ColumnFamilyRecordWriter to pool connections, retry to
   multiple apippi nodes, and smooth impact on the apippi cluster
   by using smaller batch sizes (apippi-1434)
 * fix setting gc_grace_seconds via CLI (apippi-1549)
 * support TTL'd index values (apippi-1536)
 * make removetoken work like decommission (apippi-1216)
 * make cli comparator-aware and improve quote rules (apippi-1523,-1524)
 * make nodetool compact and cleanup blocking (apippi-1449)
 * add memtable, cache information to GCInspector logs (apippi-1558)
 * enable/disable HintedHandoff via JMX (apippi-1550)
 * Ignore stray files in the commit log directory (apippi-1547)
 * Disallow bootstrap to an in-use token (apippi-1561)


0.7-beta1
 * sstable versioning (apippi-389)
 * switched to slf4j logging (apippi-625)
 * add (optional) expiration time for column (apippi-699)
 * access levels for authentication/authorization (apippi-900)
 * add ReadRepairChance to CF definition (apippi-930)
 * fix heisenbug in system tests, especially common on OS X (apippi-944)
 * convert to byte[] keys internally and all public APIs (apippi-767)
 * ability to alter schema definitions on a live cluster (apippi-44)
 * renamed configuration file to apippi.xml, and log4j.properties to
   log4j-server.properties, which must now be loaded from
   the classpath (which is how our scripts in bin/ have always done it)
   (apippi-971)
 * change get_count to require a SlicePredicate. create multi_get_count
   (apippi-744)
 * re-organized endpointsnitch implementations and added SimpleSnitch
   (apippi-994)
 * Added preload_row_cache option (apippi-946)
 * add CRC to commitlog header (apippi-999)
 * removed deprecated batch_insert and get_range_slice methods (apippi-1065)
 * add truncate thrift method (apippi-531)
 * http mini-interface using mx4j (apippi-1068)
 * optimize away copy of sliced row on memtable read path (apippi-1046)
 * replace constant-size 2GB mmaped segments and special casing for index
   entries spanning segment boundaries, with SegmentedFile that computes
   segments that always contain entire entries/rows (apippi-1117)
 * avoid reading large rows into memory during compaction (apippi-16)
 * added hadoop OutputFormat (apippi-1101)
 * efficient Streaming (no more anticompaction) (apippi-579)
 * split commitlog header into separate file and add size checksum to
   mutations (apippi-1179)
 * avoid allocating a new byte[] for each mutation on replay (apippi-1219)
 * revise HH schema to be per-endpoint (apippi-1142)
 * add joining/leaving status to nodetool ring (apippi-1115)
 * allow multiple repair sessions per node (apippi-1190)
 * optimize away MessagingService for local range queries (apippi-1261)
 * make framed transport the default so malformed requests can't OOM the
   server (apippi-475)
 * significantly faster reads from row cache (apippi-1267)
 * take advantage of row cache during range queries (apippi-1302)
 * make GCGraceSeconds a per-ColumnFamily value (apippi-1276)
 * keep persistent row size and column count statistics (apippi-1155)
 * add IntegerType (apippi-1282)
 * page within a single row during hinted handoff (apippi-1327)
 * push DatacenterShardStrategy configuration into keyspace definition,
   eliminating datacenter.properties. (apippi-1066)
 * optimize forward slices starting with '' and single-index-block name
   queries by skipping the column index (apippi-1338)
 * streaming refactor (apippi-1189)
 * faster comparison for UUID types (apippi-1043)
 * secondary index support (apippi-749 and subtasks)
 * make compaction buckets deterministic (apippi-1265)


0.6.6
 * Allow using DynamicEndpointSnitch with RackAwareStrategy (apippi-1429)
 * remove the remaining vestiges of the unfinished DatacenterShardStrategy
   (replaced by NetworkTopologyStrategy in 0.7)


0.6.5
 * fix key ordering in range query results with RandomPartitioner
   and ConsistencyLevel > ONE (apippi-1145)
 * fix for range query starting with the wrong token range (apippi-1042)
 * page within a single row during hinted handoff (apippi-1327)
 * fix compilation on non-sun JDKs (apippi-1061)
 * remove String.trim() call on row keys in batch mutations (apippi-1235)
 * Log summary of dropped messages instead of spamming log (apippi-1284)
 * add dynamic endpoint snitch (apippi-981)
 * fix streaming for keyspaces with hyphens in their name (apippi-1377)
 * fix errors in hard-coded bloom filter optKPerBucket by computing it
   algorithmically (apippi-1220
 * remove message deserialization stage, and uncap read/write stages
   so slow reads/writes don't block gossip processing (apippi-1358)
 * add jmx port configuration to Debian package (apippi-1202)
 * use mlockall via JNA, if present, to prevent Linux from swapping
   out parts of the JVM (apippi-1214)


0.6.4
 * avoid queuing multiple hint deliveries for the same endpoint
   (apippi-1229)
 * better performance for and stricter checking of UTF8 column names
   (apippi-1232)
 * extend option to lower compaction priority to hinted handoff
   as well (apippi-1260)
 * log errors in gossip instead of re-throwing (apippi-1289)
 * avoid aborting commitlog replay prematurely if a flushed-but-
   not-removed commitlog segment is encountered (apippi-1297)
 * fix duplicate rows being read during mapreduce (apippi-1142)
 * failure detection wasn't closing command sockets (apippi-1221)
 * apippi-cli.bat works on windows (apippi-1236)
 * pre-emptively drop requests that cannot be processed within RPCTimeout
   (apippi-685)
 * add ack to Binary write verb and update apippiBulkLoader
   to wait for acks for each row (apippi-1093)
 * added describe_partitioner Thrift method (apippi-1047)
 * Hadoop jobs no longer require the apippi storage-conf.xml
   (apippi-1280, apippi-1047)
 * log thread pool stats when GC is excessive (apippi-1275)
 * remove gossip message size limit (apippi-1138)
 * parallelize local and remote reads during multiget, and respect snitch
   when determining whether to do local read for CL.ONE (apippi-1317)
 * fix read repair to use requested consistency level on digest mismatch,
   rather than assuming QUORUM (apippi-1316)
 * process digest mismatch re-reads in parallel (apippi-1323)
 * switch hints CF comparator to BytesType (apippi-1274)


0.6.3
 * retry to make streaming connections up to 8 times. (apippi-1019)
 * reject describe_ring() calls on invalid keyspaces (apippi-1111)
 * fix cache size calculation for size of 100% (apippi-1129)
 * fix cache capacity only being recalculated once (apippi-1129)
 * remove hourly scan of all hints on the off chance that the gossiper
   missed a status change; instead, expose deliverHintsToEndpoint to JMX
   so it can be done manually, if necessary (apippi-1141)
 * don't reject reads at CL.ALL (apippi-1152)
 * reject deletions to supercolumns in CFs containing only standard
   columns (apippi-1139)
 * avoid preserving login information after client disconnects
   (apippi-1057)
 * prefer sun jdk to openjdk in debian init script (apippi-1174)
 * detect partioner config changes between restarts and fail fast
   (apippi-1146)
 * use generation time to resolve node token reassignment disagreements
   (apippi-1118)
 * restructure the startup ordering of Gossiper and MessageService to avoid
   timing anomalies (apippi-1160)
 * detect incomplete commit log hearders (apippi-1119)
 * force anti-entropy service to stream files on the stream stage to avoid
   sending streams out of order (apippi-1169)
 * remove inactive stream managers after AES streams files (apippi-1169)
 * allow removing entire row through batch_mutate Deletion (apippi-1027)
 * add JMX metrics for row-level bloom filter false positives (apippi-1212)
 * added a redhat init script to contrib (apippi-1201)
 * use midpoint when bootstrapping a new machine into range with not
   much data yet instead of random token (apippi-1112)
 * kill server on OOM in executor stage as well as Thrift (apippi-1226)
 * remove opportunistic repairs, when two machines with overlapping replica
   responsibilities happen to finish major compactions of the same CF near
   the same time.  repairs are now fully manual (apippi-1190)
 * add ability to lower compaction priority (default is no change from 0.6.2)
   (apippi-1181)


0.6.2
 * fix contrib/word_count build. (apippi-992)
 * split CommitLogExecutorService into BatchCommitLogExecutorService and
   PeriodicCommitLogExecutorService (apippi-1014)
 * add latency histograms to CFSMBean (apippi-1024)
 * make resolving timestamp ties deterministic by using value bytes
   as a tiebreaker (apippi-1039)
 * Add option to turn off Hinted Handoff (apippi-894)
 * fix windows startup (apippi-948)
 * make concurrent_reads, concurrent_writes configurable at runtime via JMX
   (apippi-1060)
 * disable GCInspector on non-Sun JVMs (apippi-1061)
 * fix tombstone handling in sstable rows with no other data (apippi-1063)
 * fix size of row in spanned index entries (apippi-1056)
 * install json2sstable, sstable2json, and sstablekeys to Debian package
 * StreamingService.StreamDestinations wouldn't empty itself after streaming
   finished (apippi-1076)
 * added Collections.shuffle(splits) before returning the splits in
   ColumnFamilyInputFormat (apippi-1096)
 * do not recalculate cache capacity post-compaction if it's been manually
   modified (apippi-1079)
 * better defaults for flush sorter + writer executor queue sizes
   (apippi-1100)
 * windows scripts for SSTableImport/Export (apippi-1051)
 * windows script for nodetool (apippi-1113)
 * expose PhiConvictThreshold (apippi-1053)
 * make repair of RF==1 a no-op (apippi-1090)
 * improve default JVM GC options (apippi-1014)
 * fix SlicePredicate serialization inside Hadoop jobs (apippi-1049)
 * close Thrift sockets in Hadoop ColumnFamilyRecordReader (apippi-1081)


0.6.1
 * fix NPE in sstable2json when no excluded keys are given (apippi-934)
 * keep the replica set constant throughout the read repair process
   (apippi-937)
 * allow querying getAllRanges with empty token list (apippi-933)
 * fix command line arguments inversion in clustertool (apippi-942)
 * fix race condition that could trigger a false-positive assertion
   during post-flush discard of old commitlog segments (apippi-936)
 * fix neighbor calculation for anti-entropy repair (apippi-924)
 * perform repair even for small entropy differences (apippi-924)
 * Use hostnames in CFInputFormat to allow Hadoop's naive string-based
   locality comparisons to work (apippi-955)
 * cache read-only BufferedRandomAccessFile length to avoid
   3 system calls per invocation (apippi-950)
 * nodes with IPv6 (and no IPv4) addresses could not join cluster
   (apippi-969)
 * Retrieve the correct number of undeleted columns, if any, from
   a supercolumn in a row that had been deleted previously (apippi-920)
 * fix index scans that cross the 2GB mmap boundaries for both mmap
   and standard i/o modes (apippi-866)
 * expose drain via nodetool (apippi-978)


0.6.0-RC1
 * JMX drain to flush memtables and run through commit log (apippi-880)
 * Bootstrapping can skip ranges under the right conditions (apippi-902)
 * fix merging row versions in range_slice for CL > ONE (apippi-884)
 * default write ConsistencyLeven chaned from ZERO to ONE
 * fix for index entries spanning mmap buffer boundaries (apippi-857)
 * use lexical comparison if time part of TimeUUIDs are the same
   (apippi-907)
 * bound read, mutation, and response stages to fix possible OOM
   during log replay (apippi-885)
 * Use microseconds-since-epoch (UTC) in cli, instead of milliseconds
 * Treat batch_mutate Deletion with null supercolumn as "apply this predicate
   to top level supercolumns" (apippi-834)
 * Streaming destination nodes do not update their JMX status (apippi-916)
 * Fix internal RPC timeout calculation (apippi-911)
 * Added Pig loadfunc to contrib/pig (apippi-910)


0.6.0-beta3
 * fix compaction bucketing bug (apippi-814)
 * update windows batch file (apippi-824)
 * deprecate KeysCachedFraction configuration directive in favor
   of KeysCached; move to unified-per-CF key cache (apippi-801)
 * add invalidateRowCache to ColumnFamilyStoreMBean (apippi-761)
 * send Handoff hints to natural locations to reduce load on
   remaining nodes in a failure scenario (apippi-822)
 * Add RowWarningThresholdInMB configuration option to warn before very
   large rows get big enough to threaten node stability, and -x option to
   be able to remove them with sstable2json if the warning is unheeded
   until it's too late (apippi-843)
 * Add logging of GC activity (apippi-813)
 * fix ConcurrentModificationException in commitlog discard (apippi-853)
 * Fix hardcoded row count in Hadoop RecordReader (apippi-837)
 * Add a jmx status to the streaming service and change several DEBUG
   messages to INFO (apippi-845)
 * fix classpath in apippi-cli.bat for Windows (apippi-858)
 * allow re-specifying host, port to apippi-cli if invalid ones
   are first tried (apippi-867)
 * fix race condition handling rpc timeout in the coordinator
   (apippi-864)
 * Remove CalloutLocation and StagingFileDirectory from storage-conf files
   since those settings are no longer used (apippi-878)
 * Parse a long from RowWarningThresholdInMB instead of an int (apippi-882)
 * Remove obsolete ControlPort code from DatabaseDescriptor (apippi-886)
 * move skipBytes side effect out of assert (apippi-899)
 * add "double getLoad" to StorageServiceMBean (apippi-898)
 * track row stats per CF at compaction time (apippi-870)
 * disallow CommitLogDirectory matching a DataFileDirectory (apippi-888)
 * default key cache size is 200k entries, changed from 10% (apippi-863)
 * add -Dapippi-foreground=yes to apippi.bat
 * exit if cluster name is changed unexpectedly (apippi-769)


0.6.0-beta1/beta2
 * add batch_mutate thrift command, deprecating batch_insert (apippi-336)
 * remove get_key_range Thrift API, deprecated in 0.5 (apippi-710)
 * add optional login() Thrift call for authentication (apippi-547)
 * support fat clients using gossiper and StorageProxy to perform
   replication in-process [jvm-only] (apippi-535)
 * support mmapped I/O for reads, on by default on 64bit JVMs
   (apippi-408, apippi-669)
 * improve insert concurrency, particularly during Hinted Handoff
   (apippi-658)
 * faster network code (apippi-675)
 * stress.py moved to contrib (apippi-635)
 * row caching [must be explicitly enabled per-CF in config] (apippi-678)
 * present a useful measure of compaction progress in JMX (apippi-599)
 * add bin/sstablekeys (CASSNADRA-679)
 * add ConsistencyLevel.ANY (apippi-687)
 * make removetoken remove nodes from gossip entirely (apippi-644)
 * add ability to set cache sizes at runtime (apippi-708)
 * report latency and cache hit rate statistics with lifetime totals
   instead of average over the last minute (apippi-702)
 * support get_range_slice for RandomPartitioner (apippi-745)
 * per-keyspace replication factory and replication strategy (apippi-620)
 * track latency in microseconds (apippi-733)
 * add describe_ Thrift methods, deprecating get_string_property and
   get_string_list_property
 * jmx interface for tracking operation mode and streams in general.
   (apippi-709)
 * keep memtables in sorted order to improve range query performance
   (apippi-799)
 * use while loop instead of recursion when trimming sstables compaction list
   to avoid blowing stack in pathological cases (apippi-804)
 * basic Hadoop map/reduce support (apippi-342)


0.5.1
 * ensure all files for an sstable are streamed to the same directory.
   (apippi-716)
 * more accurate load estimate for bootstrapping (apippi-762)
 * tolerate dead or unavailable bootstrap target on write (apippi-731)
 * allow larger numbers of keys (> 140M) in a sstable bloom filter
   (apippi-790)
 * include jvm argument improvements from apippi-504 in debian package
 * change streaming chunk size to 32MB to accomodate Windows XP limitations
   (was 64MB) (apippi-795)
 * fix get_range_slice returning results in the wrong order (apippi-781)


0.5.0 final
 * avoid attempting to delete temporary bootstrap files twice (apippi-681)
 * fix bogus NaN in nodeprobe cfstats output (apippi-646)
 * provide a policy for dealing with single thread executors w/ a full queue
   (apippi-694)
 * optimize inner read in MessagingService, vastly improving multiple-node
   performance (apippi-675)
 * wait for table flush before streaming data back to a bootstrapping node.
   (apippi-696)
 * keep track of bootstrapping sources by table so that bootstrapping doesn't
   give the indication of finishing early (apippi-673)


0.5.0 RC3
 * commit the correct version of the patch for apippi-663


0.5.0 RC2 (unreleased)
 * fix bugs in converting get_range_slice results to Thrift
   (apippi-647, apippi-649)
 * expose java.util.concurrent.TimeoutException in StorageProxy methods
   (apippi-600)
 * TcpConnectionManager was holding on to disconnected connections,
   giving the false indication they were being used. (apippi-651)
 * Remove duplicated write. (apippi-662)
 * Abort bootstrap if IP is already in the token ring (apippi-663)
 * increase default commitlog sync period, and wait for last sync to
   finish before submitting another (apippi-668)


0.5.0 RC1
 * Fix potential NPE in get_range_slice (apippi-623)
 * add CRC32 to commitlog entries (apippi-605)
 * fix data streaming on windows (apippi-630)
 * GC compacted sstables after cleanup and compaction (apippi-621)
 * Speed up anti-entropy validation (apippi-629)
 * Fix anti-entropy assertion error (apippi-639)
 * Fix pending range conflicts when bootstapping or moving
   multiple nodes at once (apippi-603)
 * Handle obsolete gossip related to node movement in the case where
   one or more nodes is down when the movement occurs (apippi-572)
 * Include dead nodes in gossip to avoid a variety of problems
   and fix HH to removed nodes (apippi-634)
 * return an InvalidRequestException for mal-formed SlicePredicates
   (apippi-643)
 * fix bug determining closest neighbor for use in multiple datacenters
   (apippi-648)
 * Vast improvements in anticompaction speed (apippi-607)
 * Speed up log replay and writes by avoiding redundant serializations
   (apippi-652)


0.5.0 beta 2
 * Bootstrap improvements (several tickets)
 * add nodeprobe repair anti-entropy feature (apippi-193, apippi-520)
 * fix possibility of partition when many nodes restart at once
   in clusters with multiple seeds (apippi-150)
 * fix NPE in get_range_slice when no data is found (apippi-578)
 * fix potential NPE in hinted handoff (apippi-585)
 * fix cleanup of local "system" keyspace (apippi-576)
 * improve computation of cluster load balance (apippi-554)
 * added super column read/write, column count, and column/row delete to
   apippi-cli (apippi-567, apippi-594)
 * fix returning live subcolumns of deleted supercolumns (apippi-583)
 * respect JAVA_HOME in bin/ scripts (several tickets)
 * add StorageService.initClient for fat clients on the JVM (apippi-535)
   (see contrib/client_only for an example of use)
 * make consistency_level functional in get_range_slice (apippi-568)
 * optimize key deserialization for RandomPartitioner (apippi-581)
 * avoid GCing tombstones except on major compaction (apippi-604)
 * increase failure conviction threshold, resulting in less nodes
   incorrectly (and temporarily) marked as down (apippi-610)
 * respect memtable thresholds during log replay (apippi-609)
 * support ConsistencyLevel.ALL on read (apippi-584)
 * add nodeprobe removetoken command (apippi-564)


0.5.0 beta
 * Allow multiple simultaneous flushes, improving flush throughput
   on multicore systems (apippi-401)
 * Split up locks to improve write and read throughput on multicore systems
   (apippi-444, apippi-414)
 * More efficient use of memory during compaction (apippi-436)
 * autobootstrap option: when enabled, all non-seed nodes will attempt
   to bootstrap when started, until bootstrap successfully
   completes. -b option is removed.  (apippi-438)
 * Unless a token is manually specified in the configuration xml,
   a bootstraping node will use a token that gives it half the
   keys from the most-heavily-loaded node in the cluster,
   instead of generating a random token.
   (apippi-385, apippi-517)
 * Miscellaneous bootstrap fixes (several tickets)
 * Ability to change a node's token even after it has data on it
   (apippi-541)
 * Ability to decommission a live node from the ring (apippi-435)
 * Semi-automatic loadbalancing via nodeprobe (apippi-192)
 * Add ability to set compaction thresholds at runtime via
   JMX / nodeprobe.  (apippi-465)
 * Add "comment" field to ColumnFamily definition. (apippi-481)
 * Additional JMX metrics (apippi-482)
 * JSON based export and import tools (several tickets)
 * Hinted Handoff fixes (several tickets)
 * Add key cache to improve read performance (apippi-423)
 * Simplified construction of custom ReplicationStrategy classes
   (apippi-497)
 * Graphical application (Swing) for ring integrity verification and
   visualization was added to contrib (apippi-252)
 * Add DCQUORUM, DCQUORUMSYNC consistency levels and corresponding
   ReplicationStrategy / EndpointSnitch classes.  Experimental.
   (apippi-492)
 * Web client interface added to contrib (apippi-457)
 * More-efficient flush for Random, CollatedOPP partitioners
   for normal writes (apippi-446) and bulk load (apippi-420)
 * Add MemtableFlushAfterMinutes, a global replacement for the old
   per-CF FlushPeriodInMinutes setting (apippi-463)
 * optimizations to slice reading (apippi-350) and supercolumn
   queries (apippi-510)
 * force binding to given listenaddress for nodes with multiple
   interfaces (apippi-546)
 * stress.py benchmarking tool improvements (several tickets)
 * optimized replica placement code (apippi-525)
 * faster log replay on restart (apippi-539, apippi-540)
 * optimized local-node writes (apippi-558)
 * added get_range_slice, deprecating get_key_range (apippi-344)
 * expose TimedOutException to thrift (apippi-563)


0.4.2
 * Add validation disallowing null keys (apippi-486)
 * Fix race conditions in TCPConnectionManager (apippi-487)
 * Fix using non-utf8-aware comparison as a sanity check.
   (apippi-493)
 * Improve default garbage collector options (apippi-504)
 * Add "nodeprobe flush" (apippi-505)
 * remove NotFoundException from get_slice throws list (apippi-518)
 * fix get (not get_slice) of entire supercolumn (apippi-508)
 * fix null token during bootstrap (apippi-501)


0.4.1
 * Fix FlushPeriod columnfamily configuration regression
   (apippi-455)
 * Fix long column name support (apippi-460)
 * Fix for serializing a row that only contains tombstones
   (apippi-458)
 * Fix for discarding unneeded commitlog segments (apippi-459)
 * Add SnapshotBeforeCompaction configuration option (apippi-426)
 * Fix compaction abort under insufficient disk space (apippi-473)
 * Fix reading subcolumn slice from tombstoned CF (apippi-484)
 * Fix race condition in RVH causing occasional NPE (apippi-478)


0.4.0
 * fix get_key_range problems when a node is down (apippi-440)
   and add UnavailableException to more Thrift methods
 * Add example EndPointSnitch contrib code (several tickets)


0.4.0 RC2
 * fix SSTable generation clash during compaction (apippi-418)
 * reject method calls with null parameters (apippi-308)
 * properly order ranges in nodeprobe output (apippi-421)
 * fix logging of certain errors on executor threads (apippi-425)


0.4.0 RC1
 * Bootstrap feature is live; use -b on startup (several tickets)
 * Added multiget api (apippi-70)
 * fix Deadlock with SelectorManager.doProcess and TcpConnection.write
   (apippi-392)
 * remove key cache b/c of concurrency bugs in third-party
   CLHM library (apippi-405)
 * update non-major compaction logic to use two threshold values
   (apippi-407)
 * add periodic / batch commitlog sync modes (several tickets)
 * inline BatchMutation into batch_insert params (apippi-403)
 * allow setting the logging level at runtime via mbean (apippi-402)
 * change default comparator to BytesType (apippi-400)
 * add forwards-compatible ConsistencyLevel parameter to get_key_range
   (apippi-322)
 * r/m special case of blocking for local destination when writing with
   ConsistencyLevel.ZERO (apippi-399)
 * Fixes to make BinaryMemtable [bulk load interface] useful (apippi-337);
   see contrib/bmt_example for an example of using it.
 * More JMX properties added (several tickets)
 * Thrift changes (several tickets)
    - Merged _super get methods with the normal ones; return values
      are now of ColumnOrSuperColumn.
    - Similarly, merged batch_insert_super into batch_insert.



0.4.0 beta
 * On-disk data format has changed to allow billions of keys/rows per
   node instead of only millions
 * Multi-keyspace support
 * Scan all sstables for all queries to avoid situations where
   different types of operation on the same ColumnFamily could
   disagree on what data was present
 * Snapshot support via JMX
 * Thrift API has changed a _lot_:
    - removed time-sorted CFs; instead, user-defined comparators
      may be defined on the column names, which are now byte arrays.
      Default comparators are provided for UTF8, Bytes, Ascii, Long (i64),
      and UUID types.
    - removed colon-delimited strings in thrift api in favor of explicit
      structs such as ColumnPath, ColumnParent, etc.  Also normalized
      thrift struct and argument naming.
    - Added columnFamily argument to get_key_range.
    - Change signature of get_slice to accept starting and ending
      columns as well as an offset.  (This allows use of indexes.)
      Added "ascending" flag to allow reasonably-efficient reverse
      scans as well.  Removed get_slice_by_range as redundant.
    - get_key_range operates on one CF at a time
    - changed `block` boolean on insert methods to ConsistencyLevel enum,
      with options of NONE, ONE, QUORUM, and ALL.
    - added similar consistency_level parameter to read methods
    - column-name-set slice with no names given now returns zero columns
      instead of all of them.  ("all" can run your server out of memory.
      use a range-based slice with a high max column count instead.)
 * Removed the web interface. Node information can now be obtained by
   using the newly introduced nodeprobe utility.
 * More JMX stats
 * Remove magic values from internals (e.g. special key to indicate
   when to flush memtables)
 * Rename configuration "table" to "keyspace"
 * Moved to crash-only design; no more shutdown (just kill the process)
 * Lots of bug fixes

Full list of issues resolved in 0.4 is at https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&&pid=12310865&fixfor=12313862&resolution=1&sorter/field=issuekey&sorter/order=DESC


0.3.0 RC3
 * Fix potential deadlock under load in TCPConnection.
   (apippi-220)


0.3.0 RC2
 * Fix possible data loss when server is stopped after replaying
   log but before new inserts force memtable flush.
   (apippi-204)
 * Added BUGS file


0.3.0 RC1
 * Range queries on keys, including user-defined key collation
 * Remove support
 * Workarounds for a weird bug in JDK select/register that seems
   particularly common on VM environments. apippi should deploy
   fine on EC2 now
 * Much improved infrastructure: the beginnings of a decent test suite
   ("ant test" for unit tests; "nosetests" for system tests), code
   coverage reporting, etc.
 * Expanded node status reporting via JMX
 * Improved error reporting/logging on both server and client
 * Reduced memory footprint in default configuration
 * Combined blocking and non-blocking versions of insert APIs
 * Added FlushPeriodInMinutes configuration parameter to force
   flushing of infrequently-updated ColumnFamilies
